(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function KS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YS={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=Symbol.for("react.transitional.element"),qI=Symbol.for("react.fragment");function $S(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:GI,type:e,key:i,ref:t!==void 0?t:null,props:n}}kf.Fragment=qI;kf.jsx=$S;kf.jsxs=$S;YS.exports=kf;var S=YS.exports,XS={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=Symbol.for("react.transitional.element"),KI=Symbol.for("react.portal"),YI=Symbol.for("react.fragment"),$I=Symbol.for("react.strict_mode"),XI=Symbol.for("react.profiler"),QI=Symbol.for("react.consumer"),WI=Symbol.for("react.context"),JI=Symbol.for("react.forward_ref"),ZI=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),QS=Symbol.for("react.lazy"),eD=Symbol.for("react.activity"),Wv=Symbol.iterator;function nD(e){return e===null||typeof e!="object"?null:(e=Wv&&e[Wv]||e["@@iterator"],typeof e=="function"?e:null)}var WS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JS=Object.assign,ZS={};function Eo(e,t,n){this.props=e,this.context=t,this.refs=ZS,this.updater=n||WS}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t1(){}t1.prototype=Eo.prototype;function qg(e,t,n){this.props=e,this.context=t,this.refs=ZS,this.updater=n||WS}var Kg=qg.prototype=new t1;Kg.constructor=qg;JS(Kg,Eo.prototype);Kg.isPureReactComponent=!0;var Jv=Array.isArray;function Jm(){}var Qt={H:null,A:null,T:null,S:null},e1=Object.prototype.hasOwnProperty;function Yg(e,t,n){var i=n.ref;return{$$typeof:Gg,type:e,key:t,ref:i!==void 0?i:null,props:n}}function iD(e,t){return Yg(e.type,t,e.props)}function $g(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gg}function sD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zv=/\/+/g;function Md(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sD(""+e.key):t.toString(36)}function rD(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Jm,Jm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ba(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Gg:case KI:a=!0;break;case QS:return a=e._init,ba(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+Md(e,0):i,Jv(s)?(n="",a!=null&&(n=a.replace(Zv,"$&/")+"/"),ba(s,t,n,"",function(c){return c})):s!=null&&($g(s)&&(s=iD(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Zv,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(Jv(e))for(var u=0;u<e.length;u++)i=e[u],r=o+Md(i,u),a+=ba(i,t,n,r,s);else if(u=nD(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+Md(i,u++),a+=ba(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return ba(rD(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Tc(e,t,n){if(e==null)return e;var i=[],s=0;return ba(e,i,"","",function(r){return t.call(n,r,s++)}),i}function aD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var t_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oD={map:Tc,forEach:function(e,t,n){Tc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tc(e,function(){t++}),t},toArray:function(e){return Tc(e,function(t){return t})||[]},only:function(e){if(!$g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Activity=eD;ct.Children=oD;ct.Component=Eo;ct.Fragment=YI;ct.Profiler=XI;ct.PureComponent=qg;ct.StrictMode=$I;ct.Suspense=ZI;ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt;ct.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Qt.H.useMemoCache(e)}};ct.cache=function(e){return function(){return e.apply(null,arguments)}};ct.cacheSignal=function(){return null};ct.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=JS({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!e1.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return Yg(e.type,s,i)};ct.createContext=function(e){return e={$$typeof:WI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:QI,_context:e},e};ct.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)e1.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Yg(e,r,s)};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:JI,render:e}};ct.isValidElement=$g;ct.lazy=function(e){return{$$typeof:QS,_payload:{_status:-1,_result:e},_init:aD}};ct.memo=function(e,t){return{$$typeof:tD,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Qt.T,n={};Qt.T=n;try{var i=e(),s=Qt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Jm,t_)}catch(r){t_(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),Qt.T=t}};ct.unstable_useCacheRefresh=function(){return Qt.H.useCacheRefresh()};ct.use=function(e){return Qt.H.use(e)};ct.useActionState=function(e,t,n){return Qt.H.useActionState(e,t,n)};ct.useCallback=function(e,t){return Qt.H.useCallback(e,t)};ct.useContext=function(e){return Qt.H.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e,t){return Qt.H.useDeferredValue(e,t)};ct.useEffect=function(e,t){return Qt.H.useEffect(e,t)};ct.useEffectEvent=function(e){return Qt.H.useEffectEvent(e)};ct.useId=function(){return Qt.H.useId()};ct.useImperativeHandle=function(e,t,n){return Qt.H.useImperativeHandle(e,t,n)};ct.useInsertionEffect=function(e,t){return Qt.H.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return Qt.H.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return Qt.H.useMemo(e,t)};ct.useOptimistic=function(e,t){return Qt.H.useOptimistic(e,t)};ct.useReducer=function(e,t,n){return Qt.H.useReducer(e,t,n)};ct.useRef=function(e){return Qt.H.useRef(e)};ct.useState=function(e){return Qt.H.useState(e)};ct.useSyncExternalStore=function(e,t,n){return Qt.H.useSyncExternalStore(e,t,n)};ct.useTransition=function(){return Qt.H.useTransition()};ct.version="19.2.3";XS.exports=ct;var P=XS.exports;const n1=KS(P);var i1={exports:{}},Of={},s1={exports:{}},r1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,K){var U=G.length;G.push(K);t:for(;0<U;){var nt=U-1>>>1,St=G[nt];if(0<s(St,K))G[nt]=K,G[U]=St,U=nt;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],U=G.pop();if(U!==K){G[0]=U;t:for(var nt=0,St=G.length,Ze=St>>>1;nt<Ze;){var _e=2*(nt+1)-1,gt=G[_e],Lt=_e+1,he=G[Lt];if(0>s(gt,U))Lt<St&&0>s(he,gt)?(G[nt]=he,G[Lt]=U,nt=Lt):(G[nt]=gt,G[_e]=U,nt=_e);else if(Lt<St&&0>s(he,U))G[nt]=he,G[Lt]=U,nt=Lt;else break t}}return K}function s(G,K){var U=G.sortIndex-K.sortIndex;return U!==0?U:G.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],h=1,d=null,m=3,g=!1,A=!1,C=!1,I=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(G){for(var K=n(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=G)i(c),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(c)}}function M(G){if(C=!1,N(G),!A)if(n(u)!==null)A=!0,z||(z=!0,k());else{var K=n(c);K!==null&&te(M,K.startTime-G)}}var z=!1,E=-1,y=5,T=-1;function x(){return I?!0:!(e.unstable_now()-T<y)}function D(){if(I=!1,z){var G=e.unstable_now();T=G;var K=!0;try{t:{A=!1,C&&(C=!1,v(E),E=-1),g=!0;var U=m;try{e:{for(N(G),d=n(u);d!==null&&!(d.expirationTime>G&&x());){var nt=d.callback;if(typeof nt=="function"){d.callback=null,m=d.priorityLevel;var St=nt(d.expirationTime<=G);if(G=e.unstable_now(),typeof St=="function"){d.callback=St,N(G),K=!0;break e}d===n(u)&&i(u),N(G)}else i(u);d=n(u)}if(d!==null)K=!0;else{var Ze=n(c);Ze!==null&&te(M,Ze.startTime-G),K=!1}}break t}finally{d=null,m=U,g=!1}K=void 0}}finally{K?k():z=!1}}}var k;if(typeof w=="function")k=function(){w(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ce=R.port2;R.port1.onmessage=D,k=function(){ce.postMessage(null)}}else k=function(){_(D,0)};function te(G,K){E=_(function(){G(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var U=m;m=K;try{return G()}finally{m=U}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var U=m;m=G;try{return K()}finally{m=U}},e.unstable_scheduleCallback=function(G,K,U){var nt=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?nt+U:nt):U=nt,G){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=U+St,G={id:h++,callback:K,priorityLevel:G,startTime:U,expirationTime:St,sortIndex:-1},U>nt?(G.sortIndex=U,t(c,G),n(u)===null&&G===n(c)&&(C?(v(E),E=-1):C=!0,te(M,U-nt))):(G.sortIndex=St,t(u,G),A||g||(A=!0,z||(z=!0,k()))),G},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(G){var K=m;return function(){var U=m;m=K;try{return G.apply(this,arguments)}finally{m=U}}}})(r1);s1.exports=r1;var lD=s1.exports,a1={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=P;function o1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ls(){}var an={d:{f:ls,r:function(){throw Error(o1(522))},D:ls,C:ls,L:ls,m:ls,X:ls,S:ls,M:ls},p:0,findDOMNode:null},cD=Symbol.for("react.portal");function hD(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cD,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var wl=uD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Mf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=an;un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(o1(299));return hD(e,t,null,n)};un.flushSync=function(e){var t=wl.T,n=an.p;try{if(wl.T=null,an.p=2,e)return e()}finally{wl.T=t,an.p=n,an.d.f()}};un.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,an.d.C(e,t))};un.prefetchDNS=function(e){typeof e=="string"&&an.d.D(e)};un.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Mf(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?an.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&an.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};un.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Mf(t.as,t.crossOrigin);an.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&an.d.M(e)};un.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Mf(n,t.crossOrigin);an.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};un.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Mf(t.as,t.crossOrigin);an.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else an.d.m(e)};un.requestFormReset=function(e){an.d.r(e)};un.unstable_batchedUpdates=function(e,t){return e(t)};un.useFormState=function(e,t,n){return wl.H.useFormState(e,t,n)};un.useFormStatus=function(){return wl.H.useHostTransitionStatus()};un.version="19.2.3";function l1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l1)}catch(e){console.error(e)}}l1(),a1.exports=un;var fD=a1.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=lD,u1=P,dD=fD;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Iu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f1(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e_(e){if(Iu(e)!==e)throw Error(L(188))}function mD(e){var t=e.alternate;if(!t){if(t=Iu(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return e_(s),e;if(r===i)return e_(s),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function d1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d1(e),t!==null)return t;e=e.sibling}return null}var Wt=Object.assign,pD=Symbol.for("react.element"),Ec=Symbol.for("react.transitional.element"),fl=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),p1=Symbol.for("react.consumer"),Mi=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),np=Symbol.for("react.activity"),gD=Symbol.for("react.memo_cache_sentinel"),n_=Symbol.iterator;function tl(e){return e===null||typeof e!="object"?null:(e=n_&&e[n_]||e["@@iterator"],typeof e=="function"?e:null)}var yD=Symbol.for("react.client.reference");function ip(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yD?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ca:return"Fragment";case Zm:return"Profiler";case m1:return"StrictMode";case tp:return"Suspense";case ep:return"SuspenseList";case np:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case fl:return"Portal";case Mi:return e.displayName||"Context";case p1:return(e._context.displayName||"Context")+".Consumer";case Xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qg:return t=e.displayName||null,t!==null?t:ip(e.type)||"Memo";case ds:t=e._payload,e=e._init;try{return ip(e(t))}catch{}}return null}var dl=Array.isArray,st=u1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It=dD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rr={pending:!1,data:null,method:null,action:null},sp=[],Ra=-1;function Ti(e){return{current:e}}function ke(e){0>Ra||(e.current=sp[Ra],sp[Ra]=null,Ra--)}function Ht(e,t){Ra++,sp[Ra]=e.current,e.current=t}var ci=Ti(null),Jl=Ti(null),Ds=Ti(null),Rh=Ti(null);function Ih(e,t){switch(Ht(Ds,t),Ht(Jl,e),Ht(ci,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lb(t),e=VA(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(ci),Ht(ci,e)}function no(){ke(ci),ke(Jl),ke(Ds)}function rp(e){e.memoizedState!==null&&Ht(Rh,e);var t=ci.current,n=VA(t,e.type);t!==n&&(Ht(Jl,e),Ht(ci,n))}function Dh(e){Jl.current===e&&(ke(ci),ke(Jl)),Rh.current===e&&(ke(Rh),uu._currentValue=Rr)}var Vd,i_;function vr(e){if(Vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vd=t&&t[1]||"",i_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vd+e+i_}var Pd=!1;function Ld(e,t){if(!e||Pd)return"";Pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var h=`
`+u[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=s);break}}}finally{Pd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?vr(n):""}function vD(e,t){switch(e.tag){case 26:case 27:case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return e.child!==t&&t!==null?vr("Suspense Fallback"):vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return Ld(e.type,!1);case 11:return Ld(e.type.render,!1);case 1:return Ld(e.type,!0);case 31:return vr("Activity");default:return""}}function s_(e){try{var t="",n=null;do t+=vD(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ap=Object.prototype.hasOwnProperty,Wg=Ce.unstable_scheduleCallback,jd=Ce.unstable_cancelCallback,_D=Ce.unstable_shouldYield,bD=Ce.unstable_requestPaint,wn=Ce.unstable_now,TD=Ce.unstable_getCurrentPriorityLevel,g1=Ce.unstable_ImmediatePriority,y1=Ce.unstable_UserBlockingPriority,Nh=Ce.unstable_NormalPriority,ED=Ce.unstable_LowPriority,v1=Ce.unstable_IdlePriority,SD=Ce.log,wD=Ce.unstable_setDisableYieldValue,Du=null,An=null;function Ss(e){if(typeof SD=="function"&&wD(e),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(Du,e)}catch{}}var xn=Math.clz32?Math.clz32:CD,AD=Math.log,xD=Math.LN2;function CD(e){return e>>>=0,e===0?32:31-(AD(e)/xD|0)|0}var Sc=256,wc=262144,Ac=4194304;function _r(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=_r(i):(a&=o,a!==0?s=_r(a):n||(n=o&~e,n!==0&&(s=_r(n))))):(o=i&~r,o!==0?s=_r(o):a!==0?s=_r(a):n||(n=i&~e,n!==0&&(s=_r(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Nu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function RD(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _1(){var e=Ac;return Ac<<=1,!(Ac&62914560)&&(Ac=4194304),e}function Ud(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ku(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ID(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-xn(n),d=1<<h;o[h]=0,u[h]=-1;var m=c[h];if(m!==null)for(c[h]=null,h=0;h<m.length;h++){var g=m[h];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&b1(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function b1(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function T1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function E1(e,t){var n=t&-t;return n=n&42?1:Jg(n),n&(e.suspendedLanes|t)?0:n}function Jg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function S1(){var e=It.p;return e!==0?e:(e=window.event,e===void 0?32:KA(e.type))}function r_(e,t){var n=It.p;try{return It.p=e,t()}finally{It.p=n}}var sr=Math.random().toString(36).slice(2),Ue="__reactFiber$"+sr,yn="__reactProps$"+sr,So="__reactContainer$"+sr,op="__reactEvents$"+sr,DD="__reactListeners$"+sr,ND="__reactHandles$"+sr,a_="__reactResources$"+sr,Ou="__reactMarker$"+sr;function ty(e){delete e[Ue],delete e[yn],delete e[op],delete e[DD],delete e[ND]}function Ia(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[So]||n[Ue]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=db(e);e!==null;){if(n=e[Ue])return n;e=db(e)}return t}e=n,n=e.parentNode}return null}function wo(e){if(e=e[Ue]||e[So]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ml(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Ha(e){var t=e[a_];return t||(t=e[a_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ne(e){e[Ou]=!0}var w1=new Set,A1={};function $r(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(A1[e]=t,e=0;e<t.length;e++)w1.add(t[e])}var kD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o_={},l_={};function OD(e){return ap.call(l_,e)?!0:ap.call(o_,e)?!1:kD.test(e)?l_[e]=!0:(o_[e]=!0,!1)}function Jc(e,t,n){if(OD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ai(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MD(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lp(e){if(!e._valueTracker){var t=x1(e)?"checked":"value";e._valueTracker=MD(e,t,""+e[t])}}function C1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=x1(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function kh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var VD=/[\n"\\]/g;function Pn(e){return e.replace(VD,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function up(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+On(t)):e.value!==""+On(t)&&(e.value=""+On(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?cp(e,a,On(t)):n!=null?cp(e,a,On(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+On(o):e.removeAttribute("name")}function R1(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){lp(e);return}n=n!=null?""+On(n):"",t=t!=null?""+On(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),lp(e)}function cp(e,t,n){t==="number"&&kh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ga(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function I1(e,t,n){if(t!=null&&(t=""+On(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+On(n):""}function D1(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(dl(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=On(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),lp(e)}function so(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var PD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u_(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||PD.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function N1(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&u_(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&u_(e,r,t[r])}function ey(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(e){return jD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vi(){}var hp=null;function ny(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,qa=null;function c_(e){var t=wo(e);if(t&&(e=t.stateNode)){var n=e[yn]||null;t:switch(e=t.stateNode,t.type){case"input":if(up(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[yn]||null;if(!s)throw Error(L(90));up(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&C1(i)}break t;case"textarea":I1(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ga(e,!!n.multiple,t,!1)}}}var zd=!1;function k1(e,t,n){if(zd)return e(t,n);zd=!0;try{var i=e(t);return i}finally{if(zd=!1,(Da!==null||qa!==null)&&(Yf(),Da&&(t=Da,e=qa,qa=Da=null,c_(t),e)))for(t=0;t<e.length;t++)c_(e[t])}}function Zl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[yn]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=!1;if(Gi)try{var el={};Object.defineProperty(el,"passive",{get:function(){fp=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{fp=!1}var ws=null,iy=null,th=null;function O1(){if(th)return th;var e,t=iy,n=t.length,i,s="value"in ws?ws.value:ws.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return th=s.slice(e,1<i?1-i:void 0)}function eh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cc(){return!0}function h_(){return!1}function vn(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Cc:h_,this.isPropagationStopped=h_,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=vn(Xr),Mu=Wt({},Xr,{view:0,detail:0}),UD=vn(Mu),Bd,Fd,nl,Lf=Wt({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(Bd=e.screenX-nl.screenX,Fd=e.screenY-nl.screenY):Fd=Bd=0,nl=e),Bd)},movementY:function(e){return"movementY"in e?e.movementY:Fd}}),f_=vn(Lf),zD=Wt({},Lf,{dataTransfer:0}),BD=vn(zD),FD=Wt({},Mu,{relatedTarget:0}),Hd=vn(FD),HD=Wt({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),GD=vn(HD),qD=Wt({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KD=vn(qD),YD=Wt({},Xr,{data:0}),d_=vn(YD),$D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QD[e])?!!t[e]:!1}function sy(){return WD}var JD=Wt({},Mu,{key:function(e){if(e.key){var t=$D[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(e){return e.type==="keypress"?eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZD=vn(JD),tN=Wt({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m_=vn(tN),eN=Wt({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),nN=vn(eN),iN=Wt({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sN=vn(iN),rN=Wt({},Lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=vn(rN),oN=Wt({},Xr,{newState:0,oldState:0}),lN=vn(oN),uN=[9,13,27,32],ry=Gi&&"CompositionEvent"in window,Al=null;Gi&&"documentMode"in document&&(Al=document.documentMode);var cN=Gi&&"TextEvent"in window&&!Al,M1=Gi&&(!ry||Al&&8<Al&&11>=Al),p_=" ",g_=!1;function V1(e,t){switch(e){case"keyup":return uN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function hN(e,t){switch(e){case"compositionend":return P1(t);case"keypress":return t.which!==32?null:(g_=!0,p_);case"textInput":return e=t.data,e===p_&&g_?null:e;default:return null}}function fN(e,t){if(Na)return e==="compositionend"||!ry&&V1(e,t)?(e=O1(),th=iy=ws=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M1&&t.locale!=="ko"?null:t.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dN[e.type]:t==="textarea"}function L1(e,t,n,i){Da?qa?qa.push(i):qa=[i]:Da=i,t=Qh(t,"onChange"),0<t.length&&(n=new Pf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var xl=null,tu=null;function mN(e){kA(e,0)}function jf(e){var t=ml(e);if(C1(t))return e}function v_(e,t){if(e==="change")return t}var j1=!1;if(Gi){var Gd;if(Gi){var qd="oninput"in document;if(!qd){var __=document.createElement("div");__.setAttribute("oninput","return;"),qd=typeof __.oninput=="function"}Gd=qd}else Gd=!1;j1=Gd&&(!document.documentMode||9<document.documentMode)}function b_(){xl&&(xl.detachEvent("onpropertychange",U1),tu=xl=null)}function U1(e){if(e.propertyName==="value"&&jf(tu)){var t=[];L1(t,tu,e,ny(e)),k1(mN,t)}}function pN(e,t,n){e==="focusin"?(b_(),xl=t,tu=n,xl.attachEvent("onpropertychange",U1)):e==="focusout"&&b_()}function gN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jf(tu)}function yN(e,t){if(e==="click")return jf(t)}function vN(e,t){if(e==="input"||e==="change")return jf(t)}function _N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:_N;function eu(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!ap.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function T_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E_(e,t){var n=T_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=T_(n)}}function z1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=kh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kh(e.document)}return t}function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bN=Gi&&"documentMode"in document&&11>=document.documentMode,ka=null,dp=null,Cl=null,mp=!1;function S_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mp||ka==null||ka!==kh(i)||(i=ka,"selectionStart"in i&&ay(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cl&&eu(Cl,i)||(Cl=i,i=Qh(dp,"onSelect"),0<i.length&&(t=new Pf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ka)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oa={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Kd={},F1={};Gi&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qr(e){if(Kd[e])return Kd[e];if(!Oa[e])return e;var t=Oa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F1)return Kd[e]=t[n];return e}var H1=Qr("animationend"),G1=Qr("animationiteration"),q1=Qr("animationstart"),TN=Qr("transitionrun"),EN=Qr("transitionstart"),SN=Qr("transitioncancel"),K1=Qr("transitionend"),Y1=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pp.push("scrollEnd");function si(e,t){Y1.set(e,t),$r(t,[e])}var Oh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ma=0,oy=0;function Uf(){for(var e=Ma,t=oy=Ma=0;t<e;){var n=kn[t];kn[t++]=null;var i=kn[t];kn[t++]=null;var s=kn[t];kn[t++]=null;var r=kn[t];if(kn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&$1(n,s,r)}}function zf(e,t,n,i){kn[Ma++]=e,kn[Ma++]=t,kn[Ma++]=n,kn[Ma++]=i,oy|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function ly(e,t,n,i){return zf(e,t,n,i),Mh(e)}function Wr(e,t){return zf(e,null,null,t),Mh(e)}function $1(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-xn(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Mh(e){if(50<Pl)throw Pl=0,Pp=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function wN(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,i){return new wN(e,t,n,i)}function uy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function X1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nh(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")uy(e)&&(a=1);else if(typeof e=="string")a=Ik(e,n,ci.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case np:return e=En(31,n,t,s),e.elementType=np,e.lanes=r,e;case Ca:return Ir(n.children,s,r,t);case m1:a=8,s|=24;break;case Zm:return e=En(12,n,t,s|2),e.elementType=Zm,e.lanes=r,e;case tp:return e=En(13,n,t,s),e.elementType=tp,e.lanes=r,e;case ep:return e=En(19,n,t,s),e.elementType=ep,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mi:a=10;break t;case p1:a=9;break t;case Xg:a=11;break t;case Qg:a=14;break t;case ds:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=En(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Ir(e,t,n,i){return e=En(7,e,i,t),e.lanes=n,e}function Yd(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function Q1(e){var t=En(18,null,null,0);return t.stateNode=e,t}function $d(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var w_=new WeakMap;function Ln(e,t){if(typeof e=="object"&&e!==null){var n=w_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:s_(t)},w_.set(e,t),t)}return{value:e,source:t,stack:s_(t)}}var Pa=[],La=0,Vh=null,nu=0,Mn=[],Vn=0,Ks=null,oi=1,li="";function Ni(e,t){Pa[La++]=nu,Pa[La++]=Vh,Vh=e,nu=t}function W1(e,t,n){Mn[Vn++]=oi,Mn[Vn++]=li,Mn[Vn++]=Ks,Ks=e;var i=oi;e=li;var s=32-xn(i)-1;i&=~(1<<s),n+=1;var r=32-xn(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,oi=1<<32-xn(t)+s|n<<s|i,li=r+e}else oi=1<<r|n<<s|i,li=e}function cy(e){e.return!==null&&(Ni(e,1),W1(e,1,0))}function hy(e){for(;e===Vh;)Vh=Pa[--La],Pa[La]=null,nu=Pa[--La],Pa[La]=null;for(;e===Ks;)Ks=Mn[--Vn],Mn[Vn]=null,li=Mn[--Vn],Mn[Vn]=null,oi=Mn[--Vn],Mn[Vn]=null}function J1(e,t){Mn[Vn++]=oi,Mn[Vn++]=li,Mn[Vn++]=Ks,oi=t.id,li=t.overflow,Ks=e}var ze=null,$t=null,Et=!1,Ns=null,jn=!1,gp=Error(L(519));function Ys(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(Ln(t,e)),gp}function A_(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ue]=e,t[yn]=i,n){case"dialog":yt("cancel",t),yt("close",t);break;case"iframe":case"object":case"embed":yt("load",t);break;case"video":case"audio":for(n=0;n<ou.length;n++)yt(ou[n],t);break;case"source":yt("error",t);break;case"img":case"image":case"link":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"input":yt("invalid",t),R1(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":yt("invalid",t);break;case"textarea":yt("invalid",t),D1(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||MA(t.textContent,n)?(i.popover!=null&&(yt("beforetoggle",t),yt("toggle",t)),i.onScroll!=null&&yt("scroll",t),i.onScrollEnd!=null&&yt("scrollend",t),i.onClick!=null&&(t.onclick=Vi),t=!0):t=!1,t||Ys(e,!0)}function x_(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:ze=ze.return}}function ga(e){if(e!==ze)return!1;if(!Et)return x_(e),Et=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bp(e.type,e.memoizedProps)),n=!n),n&&$t&&Ys(e),x_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));$t=fb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));$t=fb(e)}else t===27?(t=$t,rr(e.type)?(e=qp,qp=null,$t=e):$t=t):$t=ze?Hn(e.stateNode.nextSibling):null;return!0}function Pr(){$t=ze=null,Et=!1}function Xd(){var e=Ns;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Ns=null),e}function iu(e){Ns===null?Ns=[e]:Ns.push(e)}var yp=Ti(null),Jr=null,Pi=null;function gs(e,t,n){Ht(yp,t._currentValue),t._currentValue=n}function zi(e){e._currentValue=yp.current,ke(yp)}function vp(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function _p(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),vp(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),vp(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Ao(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var o=s.type;Rn(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===Rh.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(uu):e=[uu])}s=s.return}e!==null&&_p(t,e,n,i),t.flags|=262144}function Ph(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){Jr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Z1(Jr,e)}function Rc(e,t){return Jr===null&&Lr(e),Z1(e,t)}function Z1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pi===null){if(e===null)throw Error(L(308));Pi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pi=Pi.next=t;return n}var AN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},xN=Ce.unstable_scheduleCallback,CN=Ce.unstable_NormalPriority,ge={$$typeof:Mi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fy(){return{controller:new AN,data:new Map,refCount:0}}function Vu(e){e.refCount--,e.refCount===0&&xN(CN,function(){e.controller.abort()})}var Rl=null,bp=0,ro=0,Ka=null;function RN(e,t){if(Rl===null){var n=Rl=[];bp=0,ro=Ly(),Ka={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bp++,t.then(C_,C_),t}function C_(){if(--bp===0&&Rl!==null){Ka!==null&&(Ka.status="fulfilled");var e=Rl;Rl=null,ro=0,Ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function IN(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var R_=st.S;st.S=function(e,t){dA=wn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&RN(e,t),R_!==null&&R_(e,t)};var Dr=Ti(null);function dy(){var e=Dr.current;return e!==null?e:zt.pooledCache}function ih(e,t){t===null?Ht(Dr,Dr.current):Ht(Dr,t.pool)}function tw(){var e=dy();return e===null?null:{parent:ge._currentValue,pool:e}}var xo=Error(L(460)),my=Error(L(474)),Bf=Error(L(542)),Lh={then:function(){}};function I_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ew(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vi,Vi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,N_(e),e;default:if(typeof t.status=="string")t.then(Vi,Vi);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,N_(e),e}throw Nr=t,xo}}function br(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Nr=n,xo):n}}var Nr=null;function D_(){if(Nr===null)throw Error(L(459));var e=Nr;return Nr=null,e}function N_(e){if(e===xo||e===Bf)throw Error(L(483))}var Ya=null,su=0;function Ic(e){var t=su;return su+=1,Ya===null&&(Ya=[]),ew(Ya,e,t)}function il(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dc(e,t){throw t.$$typeof===pD?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nw(e){function t(_,v){if(e){var w=_.deletions;w===null?(_.deletions=[v],_.flags|=16):w.push(v)}}function n(_,v){if(!e)return null;for(;v!==null;)t(_,v),v=v.sibling;return null}function i(_){for(var v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(_,v){return _=Ui(_,v),_.index=0,_.sibling=null,_}function r(_,v,w){return _.index=w,e?(w=_.alternate,w!==null?(w=w.index,w<v?(_.flags|=67108866,v):w):(_.flags|=67108866,v)):(_.flags|=1048576,v)}function a(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function o(_,v,w,N){return v===null||v.tag!==6?(v=Yd(w,_.mode,N),v.return=_,v):(v=s(v,w),v.return=_,v)}function u(_,v,w,N){var M=w.type;return M===Ca?h(_,v,w.props.children,N,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&br(M)===v.type)?(v=s(v,w.props),il(v,w),v.return=_,v):(v=nh(w.type,w.key,w.props,null,_.mode,N),il(v,w),v.return=_,v)}function c(_,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=$d(w,_.mode,N),v.return=_,v):(v=s(v,w.children||[]),v.return=_,v)}function h(_,v,w,N,M){return v===null||v.tag!==7?(v=Ir(w,_.mode,N,M),v.return=_,v):(v=s(v,w),v.return=_,v)}function d(_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Yd(""+v,_.mode,w),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ec:return w=nh(v.type,v.key,v.props,null,_.mode,w),il(w,v),w.return=_,w;case fl:return v=$d(v,_.mode,w),v.return=_,v;case ds:return v=br(v),d(_,v,w)}if(dl(v)||tl(v))return v=Ir(v,_.mode,w,null),v.return=_,v;if(typeof v.then=="function")return d(_,Ic(v),w);if(v.$$typeof===Mi)return d(_,Rc(_,v),w);Dc(_,v)}return null}function m(_,v,w,N){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return M!==null?null:o(_,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ec:return w.key===M?u(_,v,w,N):null;case fl:return w.key===M?c(_,v,w,N):null;case ds:return w=br(w),m(_,v,w,N)}if(dl(w)||tl(w))return M!==null?null:h(_,v,w,N,null);if(typeof w.then=="function")return m(_,v,Ic(w),N);if(w.$$typeof===Mi)return m(_,v,Rc(_,w),N);Dc(_,w)}return null}function g(_,v,w,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return _=_.get(w)||null,o(v,_,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ec:return _=_.get(N.key===null?w:N.key)||null,u(v,_,N,M);case fl:return _=_.get(N.key===null?w:N.key)||null,c(v,_,N,M);case ds:return N=br(N),g(_,v,w,N,M)}if(dl(N)||tl(N))return _=_.get(w)||null,h(v,_,N,M,null);if(typeof N.then=="function")return g(_,v,w,Ic(N),M);if(N.$$typeof===Mi)return g(_,v,w,Rc(v,N),M);Dc(v,N)}return null}function A(_,v,w,N){for(var M=null,z=null,E=v,y=v=0,T=null;E!==null&&y<w.length;y++){E.index>y?(T=E,E=null):T=E.sibling;var x=m(_,E,w[y],N);if(x===null){E===null&&(E=T);break}e&&E&&x.alternate===null&&t(_,E),v=r(x,v,y),z===null?M=x:z.sibling=x,z=x,E=T}if(y===w.length)return n(_,E),Et&&Ni(_,y),M;if(E===null){for(;y<w.length;y++)E=d(_,w[y],N),E!==null&&(v=r(E,v,y),z===null?M=E:z.sibling=E,z=E);return Et&&Ni(_,y),M}for(E=i(E);y<w.length;y++)T=g(E,_,y,w[y],N),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?y:T.key),v=r(T,v,y),z===null?M=T:z.sibling=T,z=T);return e&&E.forEach(function(D){return t(_,D)}),Et&&Ni(_,y),M}function C(_,v,w,N){if(w==null)throw Error(L(151));for(var M=null,z=null,E=v,y=v=0,T=null,x=w.next();E!==null&&!x.done;y++,x=w.next()){E.index>y?(T=E,E=null):T=E.sibling;var D=m(_,E,x.value,N);if(D===null){E===null&&(E=T);break}e&&E&&D.alternate===null&&t(_,E),v=r(D,v,y),z===null?M=D:z.sibling=D,z=D,E=T}if(x.done)return n(_,E),Et&&Ni(_,y),M;if(E===null){for(;!x.done;y++,x=w.next())x=d(_,x.value,N),x!==null&&(v=r(x,v,y),z===null?M=x:z.sibling=x,z=x);return Et&&Ni(_,y),M}for(E=i(E);!x.done;y++,x=w.next())x=g(E,_,y,x.value,N),x!==null&&(e&&x.alternate!==null&&E.delete(x.key===null?y:x.key),v=r(x,v,y),z===null?M=x:z.sibling=x,z=x);return e&&E.forEach(function(k){return t(_,k)}),Et&&Ni(_,y),M}function I(_,v,w,N){if(typeof w=="object"&&w!==null&&w.type===Ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ec:t:{for(var M=w.key;v!==null;){if(v.key===M){if(M=w.type,M===Ca){if(v.tag===7){n(_,v.sibling),N=s(v,w.props.children),N.return=_,_=N;break t}}else if(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&br(M)===v.type){n(_,v.sibling),N=s(v,w.props),il(N,w),N.return=_,_=N;break t}n(_,v);break}else t(_,v);v=v.sibling}w.type===Ca?(N=Ir(w.props.children,_.mode,N,w.key),N.return=_,_=N):(N=nh(w.type,w.key,w.props,null,_.mode,N),il(N,w),N.return=_,_=N)}return a(_);case fl:t:{for(M=w.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(_,v.sibling),N=s(v,w.children||[]),N.return=_,_=N;break t}else{n(_,v);break}else t(_,v);v=v.sibling}N=$d(w,_.mode,N),N.return=_,_=N}return a(_);case ds:return w=br(w),I(_,v,w,N)}if(dl(w))return A(_,v,w,N);if(tl(w)){if(M=tl(w),typeof M!="function")throw Error(L(150));return w=M.call(w),C(_,v,w,N)}if(typeof w.then=="function")return I(_,v,Ic(w),N);if(w.$$typeof===Mi)return I(_,v,Rc(_,w),N);Dc(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(_,v.sibling),N=s(v,w),N.return=_,_=N):(n(_,v),N=Yd(w,_.mode,N),N.return=_,_=N),a(_)):n(_,v)}return function(_,v,w,N){try{su=0;var M=I(_,v,w,N);return Ya=null,M}catch(E){if(E===xo||E===Bf)throw E;var z=En(29,E,null,_.mode);return z.lanes=N,z.return=_,z}finally{}}}var jr=nw(!0),iw=nw(!1),ms=!1;function py(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Mh(e),$1(e,null,n),t}return zf(e,i,t,n),Mh(e)}function Il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,T1(e,n)}}function Qd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ep=!1;function Dl(){if(Ep){var e=Ka;if(e!==null)throw e}}function Nl(e,t,n,i){Ep=!1;var s=e.updateQueue;ms=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;a=0,h=c=u=null,o=r;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(Tt&m)===m:(i&m)===m){m!==0&&m===ro&&(Ep=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var A=e,C=o;m=t;var I=n;switch(C.tag){case 1:if(A=C.payload,typeof A=="function"){d=A.call(I,d,m);break t}d=A;break t;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,m=typeof A=="function"?A.call(I,d,m):A,m==null)break t;d=Wt({},d,m);break t;case 2:ms=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,u=d):h=h.next=g,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),Xs|=a,e.lanes=a,e.memoizedState=d}}function sw(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function rw(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)sw(n[e],t)}var ao=Ti(null),jh=Ti(0);function k_(e,t){e=$i,Ht(jh,e),Ht(ao,t),$i=e|t.baseLanes}function Sp(){Ht(jh,$i),Ht(ao,ao.current)}function gy(){$i=jh.current,ke(ao),ke(jh)}var In=Ti(null),Fn=null;function ys(e){var t=e.alternate;Ht(le,le.current&1),Ht(In,e),Fn===null&&(t===null||ao.current!==null||t.memoizedState!==null)&&(Fn=e)}function wp(e){Ht(le,le.current),Ht(In,e),Fn===null&&(Fn=e)}function aw(e){e.tag===22?(Ht(le,le.current),Ht(In,e),Fn===null&&(Fn=e)):vs()}function vs(){Ht(le,le.current),Ht(In,In.current)}function Tn(e){ke(In),Fn===e&&(Fn=null),ke(le)}var le=Ti(0);function Uh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hp(n)||Gp(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=0,dt=null,Pt=null,me=null,zh=!1,$a=!1,Ur=!1,Bh=0,ru=0,Xa=null,DN=0;function se(){throw Error(L(321))}function yy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function vy(e,t,n,i,s,r){return qi=r,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,st.H=e===null||e.memoizedState===null?Lw:Iy,Ur=!1,r=n(i,s),Ur=!1,$a&&(r=lw(t,n,i,s)),ow(e),r}function ow(e){st.H=au;var t=Pt!==null&&Pt.next!==null;if(qi=0,me=Pt=dt=null,zh=!1,ru=0,Xa=null,t)throw Error(L(300));e===null||ye||(e=e.dependencies,e!==null&&Ph(e)&&(ye=!0))}function lw(e,t,n,i){dt=e;var s=0;do{if($a&&(Xa=null),ru=0,$a=!1,25<=s)throw Error(L(301));if(s+=1,me=Pt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}st.H=jw,r=t(n,i)}while($a);return r}function NN(){var e=st.H,t=e.useState()[0];return t=typeof t.then=="function"?Pu(t):t,e=e.useState()[0],(Pt!==null?Pt.memoizedState:null)!==e&&(dt.flags|=1024),t}function _y(){var e=Bh!==0;return Bh=0,e}function by(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ty(e){if(zh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zh=!1}qi=0,me=Pt=dt=null,$a=!1,ru=Bh=0,Xa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?dt.memoizedState=me=e:me=me.next=e,me}function ue(){if(Pt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=me===null?dt.memoizedState:me.next;if(t!==null)me=t,Pt=e;else{if(e===null)throw dt.alternate===null?Error(L(467)):Error(L(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},me===null?dt.memoizedState=me=e:me=me.next=e}return me}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(e){var t=ru;return ru+=1,Xa===null&&(Xa=[]),e=ew(Xa,e,t),t=dt,(me===null?t.memoizedState:me.next)===null&&(t=t.alternate,st.H=t===null||t.memoizedState===null?Lw:Iy),e}function Hf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pu(e);if(e.$$typeof===Mi)return Fe(e)}throw Error(L(438,String(e)))}function Ey(e){var t=null,n=dt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=dt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ff(),dt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=gD;return t.index++,n}function Ki(e,t){return typeof t=="function"?t(e):t}function sh(e){var t=ue();return Sy(t,Pt,e)}function Sy(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Tt&d)===d:(qi&d)===d){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===ro&&(h=!0);else if((qi&m)===m){c=c.next,m===ro&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=d,a=r):u=u.next=d,dt.lanes|=m,Xs|=m;d=c.action,Ur&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,dt.lanes|=d,Xs|=d;c=c.next}while(c!==null&&c!==t);if(u===null?a=r:u.next=o,!Rn(r,e.memoizedState)&&(ye=!0,h&&(n=Ka,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Wd(e){var t=ue(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);Rn(r,t.memoizedState)||(ye=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function uw(e,t,n){var i=dt,s=ue(),r=Et;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Rn((Pt||s).memoizedState,n);if(a&&(s.memoizedState=n,ye=!0),s=s.queue,wy(fw.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||me!==null&&me.memoizedState.tag&1){if(i.flags|=2048,oo(9,{destroy:void 0},hw.bind(null,i,s,n,t),null),zt===null)throw Error(L(349));r||qi&127||cw(i,t,n)}return n}function cw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t=Ff(),dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hw(e,t,n,i){t.value=n,t.getSnapshot=i,dw(t)&&mw(e)}function fw(e,t,n){return n(function(){dw(t)&&mw(e)})}function dw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function mw(e){var t=Wr(e,2);t!==null&&gn(t,e,2)}function Ap(e){var t=rn();if(typeof e=="function"){var n=e;if(e=n(),Ur){Ss(!0);try{n()}finally{Ss(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t}function pw(e,t,n,i){return e.baseState=n,Sy(e,Pt,typeof i=="function"?i:Ki)}function kN(e,t,n,i,s){if(qf(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};st.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,gw(t,r)):(r.next=n.next,t.pending=n.next=r)}}function gw(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=st.T,a={};st.T=a;try{var o=n(s,i),u=st.S;u!==null&&u(a,o),O_(e,t,o)}catch(c){xp(e,t,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),st.T=r}}else try{r=n(s,i),O_(e,t,r)}catch(c){xp(e,t,c)}}function O_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){M_(e,t,i)},function(i){return xp(e,t,i)}):M_(e,t,n)}function M_(e,t,n){t.status="fulfilled",t.value=n,yw(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,gw(e,n)))}function xp(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,yw(t),t=t.next;while(t!==i)}e.action=null}function yw(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vw(e,t){return t}function V_(e,t){if(Et){var n=zt.formState;if(n!==null){t:{var i=dt;if(Et){if($t){e:{for(var s=$t,r=jn;s.nodeType!==8;){if(!r){s=null;break e}if(s=Hn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){$t=Hn(s.nextSibling),i=s.data==="F!";break t}}Ys(i)}i=!1}i&&(t=n[0])}}return n=rn(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vw,lastRenderedState:t},n.queue=i,n=Mw.bind(null,dt,i),i.dispatch=n,i=Ap(!1),r=Ry.bind(null,dt,!1,i.queue),i=rn(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=kN.bind(null,dt,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function P_(e){var t=ue();return _w(t,Pt,e)}function _w(e,t,n){if(t=Sy(e,t,vw)[0],e=sh(Ki)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Pu(t)}catch(a){throw a===xo?Bf:a}else i=t;t=ue();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(dt.flags|=2048,oo(9,{destroy:void 0},ON.bind(null,s,n),null)),[i,r,e]}function ON(e,t){e.action=t}function L_(e){var t=ue(),n=Pt;if(n!==null)return _w(t,n,e);ue(),t=t.memoizedState,n=ue();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function oo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=dt.updateQueue,t===null&&(t=Ff(),dt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function bw(){return ue().memoizedState}function rh(e,t,n,i){var s=rn();dt.flags|=e,s.memoizedState=oo(1|t,{destroy:void 0},n,i===void 0?null:i)}function Gf(e,t,n,i){var s=ue();i=i===void 0?null:i;var r=s.memoizedState.inst;Pt!==null&&i!==null&&yy(i,Pt.memoizedState.deps)?s.memoizedState=oo(t,r,n,i):(dt.flags|=e,s.memoizedState=oo(1|t,r,n,i))}function j_(e,t){rh(8390656,8,e,t)}function wy(e,t){Gf(2048,8,e,t)}function MN(e){dt.flags|=4;var t=dt.updateQueue;if(t===null)t=Ff(),dt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Tw(e){var t=ue().memoizedState;return MN({ref:t,nextImpl:e}),function(){if(Rt&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function Ew(e,t){return Gf(4,2,e,t)}function Sw(e,t){return Gf(4,4,e,t)}function ww(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Aw(e,t,n){n=n!=null?n.concat([e]):null,Gf(4,4,ww.bind(null,t,e),n)}function Ay(){}function xw(e,t){var n=ue();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&yy(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Cw(e,t){var n=ue();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&yy(t,i[1]))return i[0];if(i=e(),Ur){Ss(!0);try{e()}finally{Ss(!1)}}return n.memoizedState=[i,t],i}function xy(e,t,n){return n===void 0||qi&1073741824&&!(Tt&261930)?e.memoizedState=t:(e.memoizedState=n,e=pA(),dt.lanes|=e,Xs|=e,n)}function Rw(e,t,n,i){return Rn(n,t)?n:ao.current!==null?(e=xy(e,n,i),Rn(e,t)||(ye=!0),e):!(qi&42)||qi&1073741824&&!(Tt&261930)?(ye=!0,e.memoizedState=n):(e=pA(),dt.lanes|=e,Xs|=e,t)}function Iw(e,t,n,i,s){var r=It.p;It.p=r!==0&&8>r?r:8;var a=st.T,o={};st.T=o,Ry(e,!1,t,n);try{var u=s(),c=st.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=IN(u,i);kl(e,t,h,Cn(e))}else kl(e,t,i,Cn(e))}catch(d){kl(e,t,{then:function(){},status:"rejected",reason:d},Cn())}finally{It.p=r,a!==null&&o.types!==null&&(a.types=o.types),st.T=a}}function VN(){}function Cp(e,t,n,i){if(e.tag!==5)throw Error(L(476));var s=Dw(e).queue;Iw(e,s,t,Rr,n===null?VN:function(){return Nw(e),n(i)})}function Dw(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rr,baseState:Rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:Rr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nw(e){var t=Dw(e);t.next===null&&(t=e.alternate.memoizedState),kl(e,t.next.queue,{},Cn())}function Cy(){return Fe(uu)}function kw(){return ue().memoizedState}function Ow(){return ue().memoizedState}function PN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Cn();e=ks(n);var i=Os(t,e,n);i!==null&&(gn(i,t,n),Il(i,t,n)),t={cache:fy()},e.payload=t;return}t=t.return}}function LN(e,t,n){var i=Cn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qf(e)?Vw(t,n):(n=ly(e,t,n,i),n!==null&&(gn(n,e,i),Pw(n,t,i)))}function Mw(e,t,n){var i=Cn();kl(e,t,n,i)}function kl(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Vw(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,Rn(o,a))return zf(e,t,s,0),zt===null&&Uf(),!1}catch{}finally{}if(n=ly(e,t,s,i),n!==null)return gn(n,e,i),Pw(n,t,i),!0}return!1}function Ry(e,t,n,i){if(i={lane:2,revertLane:Ly(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},qf(e)){if(t)throw Error(L(479))}else t=ly(e,n,i,2),t!==null&&gn(t,e,2)}function qf(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Vw(e,t){$a=zh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pw(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,T1(e,n)}}var au={readContext:Fe,use:Hf,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se};au.useEffectEvent=se;var Lw={readContext:Fe,use:Hf,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:j_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,rh(4194308,4,ww.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rh(4194308,4,e,t)},useInsertionEffect:function(e,t){rh(4,2,e,t)},useMemo:function(e,t){var n=rn();t=t===void 0?null:t;var i=e();if(Ur){Ss(!0);try{e()}finally{Ss(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=rn();if(n!==void 0){var s=n(t);if(Ur){Ss(!0);try{n(t)}finally{Ss(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=LN.bind(null,dt,e),[i.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:function(e){e=Ap(e);var t=e.queue,n=Mw.bind(null,dt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ay,useDeferredValue:function(e,t){var n=rn();return xy(n,e,t)},useTransition:function(){var e=Ap(!1);return e=Iw.bind(null,dt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=dt,s=rn();if(Et){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),zt===null)throw Error(L(349));Tt&127||cw(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,j_(fw.bind(null,i,r,e),[e]),i.flags|=2048,oo(9,{destroy:void 0},hw.bind(null,i,r,n,t),null),n},useId:function(){var e=rn(),t=zt.identifierPrefix;if(Et){var n=li,i=oi;n=(i&~(1<<32-xn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Bh++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=DN++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Cy,useFormState:V_,useActionState:V_,useOptimistic:function(e){var t=rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ry.bind(null,dt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ey,useCacheRefresh:function(){return rn().memoizedState=PN.bind(null,dt)},useEffectEvent:function(e){var t=rn(),n={impl:e};return t.memoizedState=n,function(){if(Rt&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Iy={readContext:Fe,use:Hf,useCallback:xw,useContext:Fe,useEffect:wy,useImperativeHandle:Aw,useInsertionEffect:Ew,useLayoutEffect:Sw,useMemo:Cw,useReducer:sh,useRef:bw,useState:function(){return sh(Ki)},useDebugValue:Ay,useDeferredValue:function(e,t){var n=ue();return Rw(n,Pt.memoizedState,e,t)},useTransition:function(){var e=sh(Ki)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:Pu(e),t]},useSyncExternalStore:uw,useId:kw,useHostTransitionStatus:Cy,useFormState:P_,useActionState:P_,useOptimistic:function(e,t){var n=ue();return pw(n,Pt,e,t)},useMemoCache:Ey,useCacheRefresh:Ow};Iy.useEffectEvent=Tw;var jw={readContext:Fe,use:Hf,useCallback:xw,useContext:Fe,useEffect:wy,useImperativeHandle:Aw,useInsertionEffect:Ew,useLayoutEffect:Sw,useMemo:Cw,useReducer:Wd,useRef:bw,useState:function(){return Wd(Ki)},useDebugValue:Ay,useDeferredValue:function(e,t){var n=ue();return Pt===null?xy(n,e,t):Rw(n,Pt.memoizedState,e,t)},useTransition:function(){var e=Wd(Ki)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:Pu(e),t]},useSyncExternalStore:uw,useId:kw,useHostTransitionStatus:Cy,useFormState:L_,useActionState:L_,useOptimistic:function(e,t){var n=ue();return Pt!==null?pw(n,Pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ey,useCacheRefresh:Ow};jw.useEffectEvent=Tw;function Jd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rp={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Cn(),s=ks(i);s.payload=t,n!=null&&(s.callback=n),t=Os(e,s,i),t!==null&&(gn(t,e,i),Il(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Cn(),s=ks(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Os(e,s,i),t!==null&&(gn(t,e,i),Il(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cn(),i=ks(n);i.tag=2,t!=null&&(i.callback=t),t=Os(e,i,n),t!==null&&(gn(t,e,n),Il(t,e,n))}};function U_(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!eu(n,i)||!eu(s,r):!0}function z_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Rp.enqueueReplaceState(t,t.state,null)}function zr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Wt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Uw(e){Oh(e)}function zw(e){console.error(e)}function Bw(e){Oh(e)}function Fh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function B_(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ip(e,t,n){return n=ks(n),n.tag=3,n.payload={element:null},n.callback=function(){Fh(e,t)},n}function Fw(e){return e=ks(e),e.tag=3,e}function Hw(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){B_(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){B_(t,n,i),typeof s!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function jN(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ao(t,n,s,!0),n=In.current,n!==null){switch(n.tag){case 31:case 13:return Fn===null?Yh():n.alternate===null&&ae===0&&(ae=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Lh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),um(e,i,s)),!1;case 22:return n.flags|=65536,i===Lh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),um(e,i,s)),!1}throw Error(L(435,n.tag))}return um(e,i,s),Yh(),!1}if(Et)return t=In.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==gp&&(e=Error(L(422),{cause:i}),iu(Ln(e,n)))):(i!==gp&&(t=Error(L(423),{cause:i}),iu(Ln(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=Ln(i,n),s=Ip(e.stateNode,i,s),Qd(e,s),ae!==4&&(ae=2)),!1;var r=Error(L(520),{cause:i});if(r=Ln(r,n),Vl===null?Vl=[r]:Vl.push(r),ae!==4&&(ae=2),t===null)return!0;i=Ln(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Ip(n.stateNode,i,e),Qd(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ms===null||!Ms.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Fw(s),Hw(s,e,n,i),Qd(n,s),!1}n=n.return}while(n!==null);return!1}var Dy=Error(L(461)),ye=!1;function Le(e,t,n,i){t.child=e===null?iw(t,null,n,i):jr(t,e.child,n,i)}function F_(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Lr(t),i=vy(e,t,n,a,r,s),o=_y(),e!==null&&!ye?(by(e,t,s),Yi(e,t,s)):(Et&&o&&cy(t),t.flags|=1,Le(e,t,i,s),t.child)}function H_(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!uy(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Gw(e,t,r,i,s)):(e=nh(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Ny(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(a,i)&&e.ref===t.ref)return Yi(e,t,s)}return t.flags|=1,e=Ui(r,i),e.ref=t.ref,e.return=t,t.child=e}function Gw(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(eu(r,i)&&e.ref===t.ref)if(ye=!1,t.pendingProps=i=r,Ny(e,s))e.flags&131072&&(ye=!0);else return t.lanes=e.lanes,Yi(e,t,s)}return Dp(e,t,n,i,s)}function qw(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return G_(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ih(t,r!==null?r.cachePool:null),r!==null?k_(t,r):Sp(),aw(t);else return i=t.lanes=536870912,G_(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(ih(t,r.cachePool),k_(t,r),vs(),t.memoizedState=null):(e!==null&&ih(t,null),Sp(),vs());return Le(e,t,s,n),t.child}function pl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function G_(e,t,n,i,s){var r=dy();return r=r===null?null:{parent:ge._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ih(t,null),Sp(),aw(t),e!==null&&Ao(e,t,i,!0),t.childLanes=s,null}function ah(e,t){return t=Hh({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function q_(e,t,n){return jr(t,e.child,null,n),e=ah(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function UN(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Et){if(i.mode==="hidden")return e=ah(t,i),t.lanes=536870912,pl(null,e);if(wp(t),(e=$t)?(e=LA(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ks!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=Q1(e),n.return=t,t.child=n,ze=t,$t=null)):e=null,e===null)throw Ys(t);return t.lanes=536870912,null}return ah(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(wp(t),s)if(t.flags&256)t.flags&=-257,t=q_(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(ye||Ao(e,t,n,!1),s=(n&e.childLanes)!==0,ye||s){if(i=zt,i!==null&&(a=E1(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Wr(e,a),gn(i,e,a),Dy;Yh(),t=q_(e,t,n)}else e=r.treeContext,$t=Hn(a.nextSibling),ze=t,Et=!0,Ns=null,jn=!1,e!==null&&J1(t,e),t=ah(t,i),t.flags|=4096;return t}return e=Ui(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dp(e,t,n,i,s){return Lr(t),n=vy(e,t,n,i,void 0,s),i=_y(),e!==null&&!ye?(by(e,t,s),Yi(e,t,s)):(Et&&i&&cy(t),t.flags|=1,Le(e,t,n,s),t.child)}function K_(e,t,n,i,s,r){return Lr(t),t.updateQueue=null,n=lw(t,i,n,s),ow(e),i=_y(),e!==null&&!ye?(by(e,t,r),Yi(e,t,r)):(Et&&i&&cy(t),t.flags|=1,Le(e,t,n,r),t.child)}function Y_(e,t,n,i,s){if(Lr(t),t.stateNode===null){var r=Va,a=n.contextType;typeof a=="object"&&a!==null&&(r=Fe(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rp,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},py(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Fe(a):Va,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Jd(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Rp.enqueueReplaceState(r,r.state,null),Nl(t,i,r,s),Dl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=zr(n,o);r.props=u;var c=r.context,h=n.contextType;a=Va,typeof h=="object"&&h!==null&&(a=Fe(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&z_(t,r,i,a),ms=!1;var m=t.memoizedState;r.state=m,Nl(t,i,r,s),Dl(),c=t.memoizedState,o||m!==c||ms?(typeof d=="function"&&(Jd(t,n,d,i),c=t.memoizedState),(u=ms||U_(t,n,u,i,m,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Tp(e,t),a=t.memoizedProps,h=zr(n,a),r.props=h,d=t.pendingProps,m=r.context,c=n.contextType,u=Va,typeof c=="object"&&c!==null&&(u=Fe(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||m!==u)&&z_(t,r,i,u),ms=!1,m=t.memoizedState,r.state=m,Nl(t,i,r,s),Dl();var g=t.memoizedState;a!==d||m!==g||ms||e!==null&&e.dependencies!==null&&Ph(e.dependencies)?(typeof o=="function"&&(Jd(t,n,o,i),g=t.memoizedState),(h=ms||U_(t,n,h,i,m,g,u)||e!==null&&e.dependencies!==null&&Ph(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=u,i=h):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,oh(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=jr(t,e.child,null,s),t.child=jr(t,null,n,s)):Le(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Yi(e,t,s),e}function $_(e,t,n,i){return Pr(),t.flags|=256,Le(e,t,n,i),t.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(e){return{baseLanes:e,cachePool:tw()}}function em(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Sn),e}function Kw(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Et){if(s?ys(t):vs(),(e=$t)?(e=LA(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ks!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=Q1(e),n.return=t,t.child=n,ze=t,$t=null)):e=null,e===null)throw Ys(t);return Gp(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(vs(),s=t.mode,o=Hh({mode:"hidden",children:o},s),i=Ir(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=tm(n),i.childLanes=em(e,a,n),t.memoizedState=Zd,pl(null,i)):(ys(t),Np(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(ys(t),t.flags&=-257,t=nm(e,t,n)):t.memoizedState!==null?(vs(),t.child=e.child,t.flags|=128,t=null):(vs(),o=i.fallback,s=t.mode,i=Hh({mode:"visible",children:i.children},s),o=Ir(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,jr(t,e.child,null,n),i=t.child,i.memoizedState=tm(n),i.childLanes=em(e,a,n),t.memoizedState=Zd,t=pl(null,i));else if(ys(t),Gp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,iu({value:i,source:null,stack:null}),t=nm(e,t,n)}else if(ye||Ao(e,t,n,!1),a=(n&e.childLanes)!==0,ye||a){if(a=zt,a!==null&&(i=E1(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Wr(e,i),gn(a,e,i),Dy;Hp(o)||Yh(),t=nm(e,t,n)}else Hp(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,$t=Hn(o.nextSibling),ze=t,Et=!0,Ns=null,jn=!1,e!==null&&J1(t,e),t=Np(t,i.children),t.flags|=4096);return t}return s?(vs(),o=i.fallback,s=t.mode,u=e.child,c=u.sibling,i=Ui(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Ui(c,o):(o=Ir(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,pl(null,i),i=t.child,o=e.child.memoizedState,o===null?o=tm(n):(s=o.cachePool,s!==null?(u=ge._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=tw(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=em(e,a,n),t.memoizedState=Zd,pl(e.child,i)):(ys(t),n=e.child,e=n.sibling,n=Ui(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Np(e,t){return t=Hh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hh(e,t){return e=En(22,e,null,t),e.lanes=0,e}function nm(e,t,n){return jr(t,e.child,null,n),e=Np(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vp(e.return,t,n)}function im(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function Yw(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=le.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,Ht(le,a),Le(e,t,i,n),i=Et?nu:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X_(e,n,t);else if(e.tag===19)X_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Uh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),im(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Uh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}im(t,!0,n,null,r,i);break;case"together":im(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ao(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ny(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ph(e)))}function zN(e,t,n){switch(t.tag){case 3:Ih(t,t.stateNode.containerInfo),gs(t,ge,e.memoizedState.cache),Pr();break;case 27:case 5:rp(t);break;case 4:Ih(t,t.stateNode.containerInfo);break;case 10:gs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wp(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ys(t),t.flags|=128,null):n&t.child.childLanes?Kw(e,t,n):(ys(t),e=Yi(e,t,n),e!==null?e.sibling:null);ys(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ao(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return Yw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ht(le,le.current),i)break;return null;case 22:return t.lanes=0,qw(e,t,n,t.pendingProps);case 24:gs(t,ge,e.memoizedState.cache)}return Yi(e,t,n)}function $w(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ye=!0;else{if(!Ny(e,n)&&!(t.flags&128))return ye=!1,zN(e,t,n);ye=!!(e.flags&131072)}else ye=!1,Et&&t.flags&1048576&&W1(t,nu,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=br(t.elementType),t.type=e,typeof e=="function")uy(e)?(i=zr(e,i),t.tag=1,t=Y_(null,t,e,i,n)):(t.tag=0,t=Dp(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Xg){t.tag=11,t=F_(null,t,e,i,n);break t}else if(s===Qg){t.tag=14,t=H_(null,t,e,i,n);break t}}throw t=ip(e)||e,Error(L(306,t,""))}}return t;case 0:return Dp(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=zr(i,t.pendingProps),Y_(e,t,i,s,n);case 3:t:{if(Ih(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Tp(e,t),Nl(t,i,null,n);var a=t.memoizedState;if(i=a.cache,gs(t,ge,i),i!==r.cache&&_p(t,[ge],n,!0),Dl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=$_(e,t,i,n);break t}else if(i!==s){s=Ln(Error(L(424)),t),iu(s),t=$_(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Hn(e.firstChild),ze=t,Et=!0,Ns=null,jn=!0,n=iw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Pr(),i===s){t=Yi(e,t,n);break t}Le(e,t,i,n)}t=t.child}return t;case 26:return oh(e,t),e===null?(n=pb(t.type,null,t.pendingProps,null))?t.memoizedState=n:Et||(n=t.type,e=t.pendingProps,i=Wh(Ds.current).createElement(n),i[Ue]=t,i[yn]=e,Ge(i,n,e),Ne(i),t.stateNode=i):t.memoizedState=pb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rp(t),e===null&&Et&&(i=t.stateNode=jA(t.type,t.pendingProps,Ds.current),ze=t,jn=!0,s=$t,rr(t.type)?(qp=s,$t=Hn(i.firstChild)):$t=s),Le(e,t,t.pendingProps.children,n),oh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Et&&((s=i=$t)&&(i=gk(i,t.type,t.pendingProps,jn),i!==null?(t.stateNode=i,ze=t,$t=Hn(i.firstChild),jn=!1,s=!0):s=!1),s||Ys(t)),rp(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Bp(s,r)?i=null:a!==null&&Bp(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=vy(e,t,NN,null,null,n),uu._currentValue=s),oh(e,t),Le(e,t,i,n),t.child;case 6:return e===null&&Et&&((e=n=$t)&&(n=yk(n,t.pendingProps,jn),n!==null?(t.stateNode=n,ze=t,$t=null,e=!0):e=!1),e||Ys(t)),null;case 13:return Kw(e,t,n);case 4:return Ih(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=jr(t,null,i,n):Le(e,t,i,n),t.child;case 11:return F_(e,t,t.type,t.pendingProps,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,gs(t,t.type,i.value),Le(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Lr(t),s=Fe(s),i=i(s),t.flags|=1,Le(e,t,i,n),t.child;case 14:return H_(e,t,t.type,t.pendingProps,n);case 15:return Gw(e,t,t.type,t.pendingProps,n);case 19:return Yw(e,t,n);case 31:return UN(e,t,n);case 22:return qw(e,t,n,t.pendingProps);case 24:return Lr(t),i=Fe(ge),e===null?(s=dy(),s===null&&(s=zt,r=fy(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},py(t),gs(t,ge,s)):(e.lanes&n&&(Tp(e,t),Nl(t,null,null,n),Dl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),gs(t,ge,i)):(i=r.cache,gs(t,ge,i),i!==s.cache&&_p(t,[ge],n,!0))),Le(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function xi(e){e.flags|=4}function sm(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(vA())e.flags|=8192;else throw Nr=Lh,my}else e.flags&=-16777217}function Q_(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!BA(t))if(vA())e.flags|=8192;else throw Nr=Lh,my}function Nc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_1():536870912,e.lanes|=t,lo|=t)}function sl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function BN(e,t,n){var i=t.pendingProps;switch(hy(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return Yt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),zi(ge),no(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ga(t)?xi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xd())),Yt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(xi(t),r!==null?(Yt(t),Q_(t,r)):(Yt(t),sm(t,s,null,i,n))):r?r!==e.memoizedState?(xi(t),Yt(t),Q_(t,r)):(Yt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&xi(t),Yt(t),sm(t,s,e,i,n)),null;case 27:if(Dh(t),n=Ds.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xi(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Yt(t),null}e=ci.current,ga(t)?A_(t):(e=jA(s,i,n),t.stateNode=e,xi(t))}return Yt(t),null;case 5:if(Dh(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xi(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Yt(t),null}if(r=ci.current,ga(t))A_(t);else{var a=Wh(Ds.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[Ue]=t,r[yn]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;t:switch(Ge(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&xi(t)}}return Yt(t),sm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Ds.current,ga(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=ze,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Ue]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||MA(e.nodeValue,n)),e||Ys(t,!0)}else e=Wh(e).createTextNode(i),e[Ue]=t,t.stateNode=e}return Yt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ga(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[Ue]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),e=!1}else n=Xd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if(t.flags&128)throw Error(L(558))}return Yt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ga(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Ue]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),s=!1}else s=Xd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Nc(t,t.updateQueue),Yt(t),null);case 4:return no(),e===null&&jy(t.stateNode.containerInfo),Yt(t),null;case 10:return zi(t.type),Yt(t),null;case 19:if(ke(le),i=t.memoizedState,i===null)return Yt(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)sl(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Uh(e),r!==null){for(t.flags|=128,sl(i,!1),e=r.updateQueue,t.updateQueue=e,Nc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)X1(n,e),n=n.sibling;return Ht(le,le.current&1|2),Et&&Ni(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&wn()>qh&&(t.flags|=128,s=!0,sl(i,!1),t.lanes=4194304)}else{if(!s)if(e=Uh(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Nc(t,e),sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!Et)return Yt(t),null}else 2*wn()-i.renderingStartTime>qh&&n!==536870912&&(t.flags|=128,s=!0,sl(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=wn(),e.sibling=null,n=le.current,Ht(le,s?n&1|2:n&1),Et&&Ni(t,i.treeForkCount),e):(Yt(t),null);case 22:case 23:return Tn(t),gy(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),n=t.updateQueue,n!==null&&Nc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ke(Dr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),zi(ge),Yt(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function FN(e,t){switch(hy(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zi(ge),no(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dh(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(L(340));Pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(le),null;case 4:return no(),null;case 10:return zi(t.type),null;case 22:case 23:return Tn(t),gy(),e!==null&&ke(Dr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return zi(ge),null;case 25:return null;default:return null}}function Xw(e,t){switch(hy(t),t.tag){case 3:zi(ge),no();break;case 26:case 27:case 5:Dh(t);break;case 4:no();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:ke(le);break;case 10:zi(t.type);break;case 22:case 23:Tn(t),gy(),e!==null&&ke(Dr);break;case 24:zi(ge)}}function Lu(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){Ot(t,t.return,o)}}function $s(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,c=o;try{c()}catch(h){Ot(s,u,h)}}}i=i.next}while(i!==r)}}catch(h){Ot(t,t.return,h)}}function Qw(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{rw(t,n)}catch(i){Ot(e,e.return,i)}}}function Ww(e,t,n){n.props=zr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ot(e,t,i)}}function Ol(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){Ot(e,t,s)}}function ui(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Ot(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ot(e,t,s)}else n.current=null}function Jw(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Ot(e,e.return,s)}}function rm(e,t,n){try{var i=e.stateNode;ck(i,e.type,n,t),i[yn]=t}catch(s){Ot(e,e.return,s)}}function Zw(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function am(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Zw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kp(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vi));else if(i!==4&&(i===27&&rr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(kp(e,t,n),e=e.sibling;e!==null;)kp(e,t,n),e=e.sibling}function Gh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&rr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gh(e,t,n),e=e.sibling;e!==null;)Gh(e,t,n),e=e.sibling}function tA(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ge(t,i,n),t[Ue]=e,t[yn]=n}catch(r){Ot(e,e.return,r)}}var ki=!1,pe=!1,om=!1,W_=typeof WeakSet=="function"?WeakSet:Set,De=null;function HN(e,t){if(e=e.containerInfo,Up=ef,e=B1(e),ay(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,c=0,h=0,d=e,m=null;e:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(u=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break e;if(m===n&&++c===s&&(o=a),m===r&&++h===i&&(u=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zp={focusedElem:e,selectionRange:n},ef=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){switch(t=De,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var A=zr(n.type,s);e=i.getSnapshotBeforeUpdate(A,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(C){Ot(n,n.return,C)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Fp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}}function eA(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(e,n),i&4&&Lu(5,n);break;case 1:if(Ri(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Ot(n,n.return,a)}else{var s=zr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Ot(n,n.return,a)}}i&64&&Qw(n),i&512&&Ol(n,n.return);break;case 3:if(Ri(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{rw(e,t)}catch(a){Ot(n,n.return,a)}}break;case 27:t===null&&i&4&&tA(n);case 26:case 5:Ri(e,n),t===null&&i&4&&Jw(n),i&512&&Ol(n,n.return);break;case 12:Ri(e,n);break;case 31:Ri(e,n),i&4&&sA(e,n);break;case 13:Ri(e,n),i&4&&rA(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=JN.bind(null,n),vk(e,n))));break;case 22:if(i=n.memoizedState!==null||ki,!i){t=t!==null&&t.memoizedState!==null||pe,s=ki;var r=pe;ki=i,(pe=t)&&!r?Di(e,n,(n.subtreeFlags&8772)!==0):Ri(e,n),ki=s,pe=r}break;case 30:break;default:Ri(e,n)}}function nA(e){var t=e.alternate;t!==null&&(e.alternate=null,nA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ty(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Jt=null,dn=!1;function Ci(e,t,n){for(n=n.child;n!==null;)iA(e,t,n),n=n.sibling}function iA(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Du,n)}catch{}switch(n.tag){case 26:pe||ui(n,t),Ci(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pe||ui(n,t);var i=Jt,s=dn;rr(n.type)&&(Jt=n.stateNode,dn=!1),Ci(e,t,n),Ll(n.stateNode),Jt=i,dn=s;break;case 5:pe||ui(n,t);case 6:if(i=Jt,s=dn,Jt=null,Ci(e,t,n),Jt=i,dn=s,Jt!==null)if(dn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(n.stateNode)}catch(r){Ot(n,t,r)}else try{Jt.removeChild(n.stateNode)}catch(r){Ot(n,t,r)}break;case 18:Jt!==null&&(dn?(e=Jt,cb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fo(e)):cb(Jt,n.stateNode));break;case 4:i=Jt,s=dn,Jt=n.stateNode.containerInfo,dn=!0,Ci(e,t,n),Jt=i,dn=s;break;case 0:case 11:case 14:case 15:$s(2,n,t),pe||$s(4,n,t),Ci(e,t,n);break;case 1:pe||(ui(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ww(n,t,i)),Ci(e,t,n);break;case 21:Ci(e,t,n);break;case 22:pe=(i=pe)||n.memoizedState!==null,Ci(e,t,n),pe=i;break;default:Ci(e,t,n)}}function sA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fo(e)}catch(n){Ot(t,t.return,n)}}}function rA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fo(e)}catch(n){Ot(t,t.return,n)}}function GN(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new W_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new W_),t;default:throw Error(L(435,e.tag))}}function kc(e,t){var n=GN(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=ZN.bind(null,e,i);i.then(s,s)}})}function hn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(rr(o.type)){Jt=o.stateNode,dn=!1;break t}break;case 5:Jt=o.stateNode,dn=!1;break t;case 3:case 4:Jt=o.stateNode.containerInfo,dn=!0;break t}o=o.return}if(Jt===null)throw Error(L(160));iA(r,a,s),Jt=null,dn=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)aA(t,e),t=t.sibling}var Zn=null;function aA(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(t,e),fn(e),i&4&&($s(3,e,e.return),Lu(3,e),$s(5,e,e.return));break;case 1:hn(t,e),fn(e),i&512&&(pe||n===null||ui(n,n.return)),i&64&&ki&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Zn;if(hn(t,e),fn(e),i&512&&(pe||n===null||ui(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Ou]||r[Ue]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Ge(r,i,n),r[Ue]=e,Ne(r),i=r;break t;case"link":var a=yb("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),Ge(r,i,n),s.head.appendChild(r);break;case"meta":if(a=yb("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),Ge(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[Ue]=e,Ne(r),i=r}e.stateNode=i}else vb(s,e.type,e.stateNode);else e.stateNode=gb(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?vb(s,e.type,e.stateNode):gb(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&rm(e,e.memoizedProps,n.memoizedProps)}break;case 27:hn(t,e),fn(e),i&512&&(pe||n===null||ui(n,n.return)),n!==null&&i&4&&rm(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hn(t,e),fn(e),i&512&&(pe||n===null||ui(n,n.return)),e.flags&32){s=e.stateNode;try{so(s,"")}catch(A){Ot(e,e.return,A)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,rm(e,s,n!==null?n.memoizedProps:s)),i&1024&&(om=!0);break;case 6:if(hn(t,e),fn(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(A){Ot(e,e.return,A)}}break;case 3:if(ch=null,s=Zn,Zn=Jh(t.containerInfo),hn(t,e),Zn=s,fn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(t.containerInfo)}catch(A){Ot(e,e.return,A)}om&&(om=!1,oA(e));break;case 4:i=Zn,Zn=Jh(e.stateNode.containerInfo),hn(t,e),fn(e),Zn=i;break;case 12:hn(t,e),fn(e);break;case 31:hn(t,e),fn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kc(e,i)));break;case 13:hn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kf=wn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kc(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=ki,h=pe;if(ki=c||s,pe=h||u,hn(t,e),pe=h,ki=c,fn(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||ki||pe||Tr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var d=u.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(A){Ot(u,u.return,A)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(A){Ot(u,u.return,A)}}}else if(t.tag===18){if(n===null){u=t;try{var g=u.stateNode;s?hb(g,!0):hb(u.stateNode,!1)}catch(A){Ot(u,u.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,kc(e,n))));break;case 19:hn(t,e),fn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kc(e,i)));break;case 30:break;case 21:break;default:hn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Zw(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=am(e);Gh(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(so(a,""),n.flags&=-33);var o=am(e);Gh(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=am(e);kp(e,c,u);break;default:throw Error(L(161))}}catch(h){Ot(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;oA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)eA(e,t.alternate,t),t=t.sibling}function Tr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$s(4,t,t.return),Tr(t);break;case 1:ui(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ww(t,t.return,n),Tr(t);break;case 27:Ll(t.stateNode);case 26:case 5:ui(t,t.return),Tr(t);break;case 22:t.memoizedState===null&&Tr(t);break;case 30:Tr(t);break;default:Tr(t)}e=e.sibling}}function Di(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Di(s,r,n),Lu(4,r);break;case 1:if(Di(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Ot(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)sw(u[s],o)}catch(c){Ot(i,i.return,c)}}n&&a&64&&Qw(r),Ol(r,r.return);break;case 27:tA(r);case 26:case 5:Di(s,r,n),n&&i===null&&a&4&&Jw(r),Ol(r,r.return);break;case 12:Di(s,r,n);break;case 31:Di(s,r,n),n&&a&4&&sA(s,r);break;case 13:Di(s,r,n),n&&a&4&&rA(s,r);break;case 22:r.memoizedState===null&&Di(s,r,n),Ol(r,r.return);break;case 30:break;default:Di(s,r,n)}t=t.sibling}}function ky(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Vu(n))}function Oy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vu(e))}function Qn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lA(e,t,n,i),t=t.sibling}function lA(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Qn(e,t,n,i),s&2048&&Lu(9,t);break;case 1:Qn(e,t,n,i);break;case 3:Qn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vu(e)));break;case 12:if(s&2048){Qn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Ot(t,t.return,u)}}else Qn(e,t,n,i);break;case 31:Qn(e,t,n,i);break;case 13:Qn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?Qn(e,t,n,i):Ml(e,t):r._visibility&2?Qn(e,t,n,i):(r._visibility|=2,Ta(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&ky(a,t);break;case 24:Qn(e,t,n,i),s&2048&&Oy(t.alternate,t);break;default:Qn(e,t,n,i)}}function Ta(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ta(r,a,o,u,s),Lu(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Ta(r,a,o,u,s):Ml(r,a):(h._visibility|=2,Ta(r,a,o,u,s)),s&&c&2048&&ky(a.alternate,a);break;case 24:Ta(r,a,o,u,s),s&&c&2048&&Oy(a.alternate,a);break;default:Ta(r,a,o,u,s)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Ml(n,i),s&2048&&ky(i.alternate,i);break;case 24:Ml(n,i),s&2048&&Oy(i.alternate,i);break;default:Ml(n,i)}t=t.sibling}}var gl=8192;function ya(e,t,n){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)uA(e,t,n),e=e.sibling}function uA(e,t,n){switch(e.tag){case 26:ya(e,t,n),e.flags&gl&&e.memoizedState!==null&&Dk(n,Zn,e.memoizedState,e.memoizedProps);break;case 5:ya(e,t,n);break;case 3:case 4:var i=Zn;Zn=Jh(e.stateNode.containerInfo),ya(e,t,n),Zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,ya(e,t,n),gl=i):ya(e,t,n));break;default:ya(e,t,n)}}function cA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,fA(i,e)}cA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hA(e),e=e.sibling}function hA(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&$s(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,lh(e)):rl(e);break;default:rl(e)}}function lh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,fA(i,e)}cA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$s(8,t,t.return),lh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,lh(t));break;default:lh(t)}e=e.sibling}}function fA(e,t){for(;De!==null;){var n=De;switch(n.tag){case 0:case 11:case 15:$s(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Vu(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,De=i;else t:for(n=e;De!==null;){i=De;var s=i.sibling,r=i.return;if(nA(i),i===n){De=null;break t}if(s!==null){s.return=r,De=s;break t}De=r}}}var qN={getCacheForType:function(e){var t=Fe(ge),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Fe(ge).controller.signal}},KN=typeof WeakMap=="function"?WeakMap:Map,Rt=0,zt=null,vt=null,Tt=0,kt=0,bn=null,As=!1,Co=!1,My=!1,$i=0,ae=0,Xs=0,kr=0,Vy=0,Sn=0,lo=0,Vl=null,mn=null,Op=!1,Kf=0,dA=0,qh=1/0,Kh=null,Ms=null,Se=0,Vs=null,uo=null,Bi=0,Mp=0,Vp=null,mA=null,Pl=0,Pp=null;function Cn(){return Rt&2&&Tt!==0?Tt&-Tt:st.T!==null?Ly():S1()}function pA(){if(Sn===0)if(!(Tt&536870912)||Et){var e=wc;wc<<=1,!(wc&3932160)&&(wc=262144),Sn=e}else Sn=536870912;return e=In.current,e!==null&&(e.flags|=32),Sn}function gn(e,t,n){(e===zt&&(kt===2||kt===9)||e.cancelPendingCommit!==null)&&(co(e,0),xs(e,Tt,Sn,!1)),ku(e,n),(!(Rt&2)||e!==zt)&&(e===zt&&(!(Rt&2)&&(kr|=n),ae===4&&xs(e,Tt,Sn,!1)),Ei(e))}function gA(e,t,n){if(Rt&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Nu(e,t),s=i?XN(e,t):lm(e,t,!0),r=i;do{if(s===0){Co&&!i&&xs(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!YN(n)){s=lm(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=Vl;var u=o.current.memoizedState.isDehydrated;if(u&&(co(o,a).flags|=256),a=lm(o,a,!1),a!==2){if(My&&!u){o.errorRecoveryDisabledLanes|=r,kr|=r,s=4;break t}r=mn,mn=s,r!==null&&(mn===null?mn=r:mn.push.apply(mn,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){co(e,0),xs(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:xs(i,t,Sn,!As);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(s=Kf+300-wn(),10<s)){if(xs(i,t,Sn,!As),Vf(i,0,!0)!==0)break t;Bi=t,i.timeoutHandle=PA(J_.bind(null,i,n,mn,Kh,Op,t,Sn,kr,lo,As,r,"Throttled",-0,0),s);break t}J_(i,n,mn,Kh,Op,t,Sn,kr,lo,As,r,null,-0,0)}}break}while(!0);Ei(e)}function J_(e,t,n,i,s,r,a,o,u,c,h,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},uA(t,r,d);var A=(r&62914560)===r?Kf-wn():(r&4194048)===r?dA-wn():0;if(A=Nk(d,A),A!==null){Bi=r,e.cancelPendingCommit=A(tb.bind(null,e,t,r,n,i,s,a,o,u,h,d,null,m,g)),xs(e,r,a,!c);return}}tb(e,t,r,n,i,s,a,o,u)}function YN(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Rn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t,n,i){t&=~Vy,t&=~kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-xn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&b1(e,n,t)}function Yf(){return Rt&6?!0:(ju(0),!1)}function Py(){if(vt!==null){if(kt===0)var e=vt.return;else e=vt,Pi=Jr=null,Ty(e),Ya=null,su=0,e=vt;for(;e!==null;)Xw(e.alternate,e),e=e.return;vt=null}}function co(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,dk(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bi=0,Py(),zt=e,vt=n=Ui(e.current,null),Tt=t,kt=0,bn=null,As=!1,Co=Nu(e,t),My=!1,lo=Sn=Vy=kr=Xs=ae=0,mn=Vl=null,Op=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-xn(i),r=1<<s;t|=e[s],i&=~r}return $i=t,Uf(),n}function yA(e,t){dt=null,st.H=au,t===xo||t===Bf?(t=D_(),kt=3):t===my?(t=D_(),kt=4):kt=t===Dy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bn=t,vt===null&&(ae=1,Fh(e,Ln(t,e.current)))}function vA(){var e=In.current;return e===null?!0:(Tt&4194048)===Tt?Fn===null:(Tt&62914560)===Tt||Tt&536870912?e===Fn:!1}function _A(){var e=st.H;return st.H=au,e===null?au:e}function bA(){var e=st.A;return st.A=qN,e}function Yh(){ae=4,As||(Tt&4194048)!==Tt&&In.current!==null||(Co=!0),!(Xs&134217727)&&!(kr&134217727)||zt===null||xs(zt,Tt,Sn,!1)}function lm(e,t,n){var i=Rt;Rt|=2;var s=_A(),r=bA();(zt!==e||Tt!==t)&&(Kh=null,co(e,t)),t=!1;var a=ae;t:do try{if(kt!==0&&vt!==null){var o=vt,u=bn;switch(kt){case 8:Py(),a=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(t=!0);var c=kt;if(kt=0,bn=null,ja(e,o,u,c),n&&Co){a=0;break t}break;default:c=kt,kt=0,bn=null,ja(e,o,u,c)}}$N(),a=ae;break}catch(h){yA(e,h)}while(!0);return t&&e.shellSuspendCounter++,Pi=Jr=null,Rt=i,st.H=s,st.A=r,vt===null&&(zt=null,Tt=0,Uf()),a}function $N(){for(;vt!==null;)TA(vt)}function XN(e,t){var n=Rt;Rt|=2;var i=_A(),s=bA();zt!==e||Tt!==t?(Kh=null,qh=wn()+500,co(e,t)):Co=Nu(e,t);t:do try{if(kt!==0&&vt!==null){t=vt;var r=bn;e:switch(kt){case 1:kt=0,bn=null,ja(e,t,r,1);break;case 2:case 9:if(I_(r)){kt=0,bn=null,Z_(t);break}t=function(){kt!==2&&kt!==9||zt!==e||(kt=7),Ei(e)},r.then(t,t);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:I_(r)?(kt=0,bn=null,Z_(t)):(kt=0,bn=null,ja(e,t,r,7));break;case 5:var a=null;switch(vt.tag){case 26:a=vt.memoizedState;case 5:case 27:var o=vt;if(a?BA(a):o.stateNode.complete){kt=0,bn=null;var u=o.sibling;if(u!==null)vt=u;else{var c=o.return;c!==null?(vt=c,$f(c)):vt=null}break e}}kt=0,bn=null,ja(e,t,r,5);break;case 6:kt=0,bn=null,ja(e,t,r,6);break;case 8:Py(),ae=6;break t;default:throw Error(L(462))}}QN();break}catch(h){yA(e,h)}while(!0);return Pi=Jr=null,st.H=i,st.A=s,Rt=n,vt!==null?0:(zt=null,Tt=0,Uf(),ae)}function QN(){for(;vt!==null&&!_D();)TA(vt)}function TA(e){var t=$w(e.alternate,e,$i);e.memoizedProps=e.pendingProps,t===null?$f(e):vt=t}function Z_(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=K_(n,t,t.pendingProps,t.type,void 0,Tt);break;case 11:t=K_(n,t,t.pendingProps,t.type.render,t.ref,Tt);break;case 5:Ty(t);default:Xw(n,t),t=vt=X1(t,$i),t=$w(n,t,$i)}e.memoizedProps=e.pendingProps,t===null?$f(e):vt=t}function ja(e,t,n,i){Pi=Jr=null,Ty(t),Ya=null,su=0;var s=t.return;try{if(jN(e,s,t,n,Tt)){ae=1,Fh(e,Ln(n,e.current)),vt=null;return}}catch(r){if(s!==null)throw vt=s,r;ae=1,Fh(e,Ln(n,e.current)),vt=null;return}t.flags&32768?(Et||i===1?e=!0:Co||Tt&536870912?e=!1:(As=e=!0,(i===2||i===9||i===3||i===6)&&(i=In.current,i!==null&&i.tag===13&&(i.flags|=16384))),EA(t,e)):$f(t)}function $f(e){var t=e;do{if(t.flags&32768){EA(t,As);return}e=t.return;var n=BN(t.alternate,t,$i);if(n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);ae===0&&(ae=5)}function EA(e,t){do{var n=FN(e.alternate,e);if(n!==null){n.flags&=32767,vt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){vt=e;return}vt=e=n}while(e!==null);ae=6,vt=null}function tb(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do Xf();while(Se!==0);if(Rt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=oy,ID(e,n,r,a,o,u),e===zt&&(vt=zt=null,Tt=0),uo=t,Vs=e,Bi=n,Mp=r,Vp=s,mA=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,tk(Nh,function(){return CA(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=st.T,st.T=null,s=It.p,It.p=2,a=Rt,Rt|=4;try{HN(e,t,n)}finally{Rt=a,It.p=s,st.T=i}}Se=1,SA(),wA(),AA()}}function SA(){if(Se===1){Se=0;var e=Vs,t=uo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=st.T,st.T=null;var i=It.p;It.p=2;var s=Rt;Rt|=4;try{aA(t,e);var r=zp,a=B1(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&z1(o.ownerDocument.documentElement,o)){if(u!==null&&ay(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),A=o.textContent.length,C=Math.min(u.start,A),I=u.end===void 0?C:Math.min(u.end,A);!g.extend&&C>I&&(a=I,I=C,C=a);var _=E_(o,C),v=E_(o,I);if(_&&v&&(g.rangeCount!==1||g.anchorNode!==_.node||g.anchorOffset!==_.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var w=d.createRange();w.setStart(_.node,_.offset),g.removeAllRanges(),C>I?(g.addRange(w),g.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),g.addRange(w))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var N=d[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}ef=!!Up,zp=Up=null}finally{Rt=s,It.p=i,st.T=n}}e.current=t,Se=2}}function wA(){if(Se===2){Se=0;var e=Vs,t=uo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=st.T,st.T=null;var i=It.p;It.p=2;var s=Rt;Rt|=4;try{eA(e,t.alternate,t)}finally{Rt=s,It.p=i,st.T=n}}Se=3}}function AA(){if(Se===4||Se===3){Se=0,bD();var e=Vs,t=uo,n=Bi,i=mA;t.subtreeFlags&10256||t.flags&10256?Se=5:(Se=0,uo=Vs=null,xA(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ms=null),Zg(n),t=t.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Du,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=st.T,s=It.p,It.p=2,st.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{st.T=t,It.p=s}}Bi&3&&Xf(),Ei(e),s=e.pendingLanes,n&261930&&s&42?e===Pp?Pl++:(Pl=0,Pp=e):Pl=0,ju(0)}}function xA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vu(t)))}function Xf(){return SA(),wA(),AA(),CA()}function CA(){if(Se!==5)return!1;var e=Vs,t=Mp;Mp=0;var n=Zg(Bi),i=st.T,s=It.p;try{It.p=32>n?32:n,st.T=null,n=Vp,Vp=null;var r=Vs,a=Bi;if(Se=0,uo=Vs=null,Bi=0,Rt&6)throw Error(L(331));var o=Rt;if(Rt|=4,hA(r.current),lA(r,r.current,a,n),Rt=o,ju(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Du,r)}catch{}return!0}finally{It.p=s,st.T=i,xA(e,t)}}function eb(e,t,n){t=Ln(n,t),t=Ip(e.stateNode,t,2),e=Os(e,t,2),e!==null&&(ku(e,2),Ei(e))}function Ot(e,t,n){if(e.tag===3)eb(e,e,n);else for(;t!==null;){if(t.tag===3){eb(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ms===null||!Ms.has(i))){e=Ln(n,e),n=Fw(2),i=Os(t,n,2),i!==null&&(Hw(n,i,t,e),ku(i,2),Ei(i));break}}t=t.return}}function um(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new KN;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(My=!0,s.add(n),e=WN.bind(null,e,t,n),t.then(e,e))}function WN(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,zt===e&&(Tt&n)===n&&(ae===4||ae===3&&(Tt&62914560)===Tt&&300>wn()-Kf?!(Rt&2)&&co(e,0):Vy|=n,lo===Tt&&(lo=0)),Ei(e)}function RA(e,t){t===0&&(t=_1()),e=Wr(e,t),e!==null&&(ku(e,t),Ei(e))}function JN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),RA(e,n)}function ZN(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),RA(e,n)}function tk(e,t){return Wg(e,t)}var $h=null,Ea=null,Lp=!1,Xh=!1,cm=!1,Cs=0;function Ei(e){e!==Ea&&e.next===null&&(Ea===null?$h=Ea=e:Ea=Ea.next=e),Xh=!0,Lp||(Lp=!0,nk())}function ju(e,t){if(!cm&&Xh){cm=!0;do for(var n=!1,i=$h;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-xn(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,nb(i,r))}else r=Tt,r=Vf(i,i===zt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Nu(i,r)||(n=!0,nb(i,r));i=i.next}while(n);cm=!1}}function ek(){IA()}function IA(){Xh=Lp=!1;var e=0;Cs!==0&&fk()&&(e=Cs);for(var t=wn(),n=null,i=$h;i!==null;){var s=i.next,r=DA(i,t);r===0?(i.next=null,n===null?$h=s:n.next=s,s===null&&(Ea=n)):(n=i,(e!==0||r&3)&&(Xh=!0)),i=s}Se!==0&&Se!==5||ju(e),Cs!==0&&(Cs=0)}function DA(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-xn(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=RD(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=zt,n=Tt,n=Vf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(kt===2||kt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&jd(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Nu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&jd(i),Zg(n)){case 2:case 8:n=y1;break;case 32:n=Nh;break;case 268435456:n=v1;break;default:n=Nh}return i=NA.bind(null,e),n=Wg(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&jd(i),e.callbackPriority=2,e.callbackNode=null,2}function NA(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xf()&&e.callbackNode!==n)return null;var i=Tt;return i=Vf(e,e===zt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(gA(e,i,t),DA(e,wn()),e.callbackNode!=null&&e.callbackNode===n?NA.bind(null,e):null)}function nb(e,t){if(Xf())return null;gA(e,t,!0)}function nk(){mk(function(){Rt&6?Wg(g1,ek):IA()})}function Ly(){if(Cs===0){var e=ro;e===0&&(e=Sc,Sc<<=1,!(Sc&261888)&&(Sc=256)),Cs=e}return Cs}function ib(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zc(""+e)}function sb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ik(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=ib((s[yn]||null).action),a=i.submitter;a&&(t=(t=a[yn]||null)?ib(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Pf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Cs!==0){var u=a?sb(s,a):new FormData(s);Cp(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?sb(s,a):new FormData(s),Cp(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var hm=0;hm<pp.length;hm++){var fm=pp[hm],sk=fm.toLowerCase(),rk=fm[0].toUpperCase()+fm.slice(1);si(sk,"on"+rk)}si(H1,"onAnimationEnd");si(G1,"onAnimationIteration");si(q1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(TN,"onTransitionRun");si(EN,"onTransitionStart");si(SN,"onTransitionCancel");si(K1,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function kA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Oh(h)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Oh(h)}s.currentTarget=null,r=u}}}}function yt(e,t){var n=t[op];n===void 0&&(n=t[op]=new Set);var i=e+"__bubble";n.has(i)||(OA(t,e,2,!1),n.add(i))}function dm(e,t,n){var i=0;t&&(i|=4),OA(n,e,i,t)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function jy(e){if(!e[Oc]){e[Oc]=!0,w1.forEach(function(n){n!=="selectionchange"&&(ak.has(n)||dm(n,!1,e),dm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oc]||(t[Oc]=!0,dm("selectionchange",!1,t))}}function OA(e,t,n,i){switch(KA(t)){case 2:var s=Mk;break;case 8:s=Vk;break;default:s=Fy}n=s.bind(null,t,n,e),s=void 0,!fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mm(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Ia(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue t}o=o.parentNode}}i=i.return}k1(function(){var c=r,h=ny(n),d=[];t:{var m=Y1.get(e);if(m!==void 0){var g=Pf,A=e;switch(e){case"keypress":if(eh(n)===0)break t;case"keydown":case"keyup":g=ZD;break;case"focusin":A="focus",g=Hd;break;case"focusout":A="blur",g=Hd;break;case"beforeblur":case"afterblur":g=Hd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=f_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=BD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nN;break;case H1:case G1:case q1:g=GD;break;case K1:g=sN;break;case"scroll":case"scrollend":g=UD;break;case"wheel":g=aN;break;case"copy":case"cut":case"paste":g=KD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=m_;break;case"toggle":case"beforetoggle":g=lN}var C=(t&4)!==0,I=!C&&(e==="scroll"||e==="scrollend"),_=C?m!==null?m+"Capture":null:m;C=[];for(var v=c,w;v!==null;){var N=v;if(w=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||w===null||_===null||(N=Zl(v,_),N!=null&&C.push(lu(v,N,w))),I)break;v=v.return}0<C.length&&(m=new g(m,A,null,n,h),d.push({event:m,listeners:C}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==hp&&(A=n.relatedTarget||n.fromElement)&&(Ia(A)||A[So]))break t;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(A=n.relatedTarget||n.toElement,g=c,A=A?Ia(A):null,A!==null&&(I=Iu(A),C=A.tag,A!==I||C!==5&&C!==27&&C!==6)&&(A=null)):(g=null,A=c),g!==A)){if(C=f_,N="onMouseLeave",_="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(C=m_,N="onPointerLeave",_="onPointerEnter",v="pointer"),I=g==null?m:ml(g),w=A==null?m:ml(A),m=new C(N,v+"leave",g,n,h),m.target=I,m.relatedTarget=w,N=null,Ia(h)===c&&(C=new C(_,v+"enter",A,n,h),C.target=w,C.relatedTarget=I,N=C),I=N,g&&A)e:{for(C=ok,_=g,v=A,w=0,N=_;N;N=C(N))w++;N=0;for(var M=v;M;M=C(M))N++;for(;0<w-N;)_=C(_),w--;for(;0<N-w;)v=C(v),N--;for(;w--;){if(_===v||v!==null&&_===v.alternate){C=_;break e}_=C(_),v=C(v)}C=null}else C=null;g!==null&&rb(d,m,g,C,!1),A!==null&&I!==null&&rb(d,I,A,C,!0)}}t:{if(m=c?ml(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var z=v_;else if(y_(m))if(j1)z=vN;else{z=gN;var E=pN}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&ey(c.elementType)&&(z=v_):z=yN;if(z&&(z=z(e,c))){L1(d,z,n,h);break t}E&&E(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&cp(m,"number",m.value)}switch(E=c?ml(c):window,e){case"focusin":(y_(E)||E.contentEditable==="true")&&(ka=E,dp=c,Cl=null);break;case"focusout":Cl=dp=ka=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,S_(d,n,h);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":S_(d,n,h)}var y;if(ry)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else Na?V1(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(M1&&n.locale!=="ko"&&(Na||T!=="onCompositionStart"?T==="onCompositionEnd"&&Na&&(y=O1()):(ws=h,iy="value"in ws?ws.value:ws.textContent,Na=!0)),E=Qh(c,T),0<E.length&&(T=new d_(T,e,null,n,h),d.push({event:T,listeners:E}),y?T.data=y:(y=P1(n),y!==null&&(T.data=y)))),(y=cN?hN(e,n):fN(e,n))&&(T=Qh(c,"onBeforeInput"),0<T.length&&(E=new d_("onBeforeInput","beforeinput",null,n,h),d.push({event:E,listeners:T}),E.data=y)),ik(d,e,c,n,h)}kA(d,t)})}function lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qh(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Zl(e,n),s!=null&&i.unshift(lu(e,s,r)),s=Zl(e,t),s!=null&&i.push(lu(e,s,r))),e.tag===3)return i;e=e.return}return[]}function ok(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rb(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,s?(c=Zl(n,r),c!=null&&a.unshift(lu(n,c,u))):s||(c=Zl(n,r),c!=null&&a.push(lu(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var lk=/\r\n?/g,uk=/\u0000|\uFFFD/g;function ab(e){return(typeof e=="string"?e:""+e).replace(lk,`
`).replace(uk,"")}function MA(e,t){return t=ab(t),ab(e)===t}function Vt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||so(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&so(e,""+i);break;case"className":xc(e,"class",i);break;case"tabIndex":xc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":xc(e,n,i);break;case"style":N1(e,i,r);break;case"data":if(t!=="object"){xc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Zc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Vt(e,t,"name",s.name,s,null),Vt(e,t,"formEncType",s.formEncType,s,null),Vt(e,t,"formMethod",s.formMethod,s,null),Vt(e,t,"formTarget",s.formTarget,s,null)):(Vt(e,t,"encType",s.encType,s,null),Vt(e,t,"method",s.method,s,null),Vt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Zc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Vi);break;case"onScroll":i!=null&&yt("scroll",e);break;case"onScrollEnd":i!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Zc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":yt("beforetoggle",e),yt("toggle",e),Jc(e,"popover",i);break;case"xlinkActuate":Ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ai(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ai(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ai(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ai(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Jc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=LD.get(n)||n,Jc(e,n,i))}}function jp(e,t,n,i,s,r){switch(n){case"style":N1(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?so(e,i):(typeof i=="number"||typeof i=="bigint")&&so(e,""+i);break;case"onScroll":i!=null&&yt("scroll",e);break;case"onScrollEnd":i!=null&&yt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!A1.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[yn]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Jc(e,n,i)}}}function Ge(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Vt(e,t,r,a,n,null)}}s&&Vt(e,t,"srcSet",n.srcSet,n,null),i&&Vt(e,t,"src",n.src,n,null);return;case"input":yt("invalid",e);var o=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(L(137,t));break;default:Vt(e,t,i,h,n,null)}}R1(e,r,o,u,c,a,s,!1);return;case"select":yt("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Vt(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?Ga(e,!!i,t,!1):n!=null&&Ga(e,!!i,n,!0);return;case"textarea":yt("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:Vt(e,t,a,o,n,null)}D1(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Vt(e,t,u,i,n,null)}return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(i=0;i<ou.length;i++)yt(ou[i],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Vt(e,t,c,i,n,null)}return;default:if(ey(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&jp(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Vt(e,t,o,i,n,null))}function ck(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,c=null,h=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(g)||Vt(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:g!==d&&Vt(e,t,m,g,i,d)}}up(e,a,o,u,c,h,r,s);return;case"select":g=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(r)||Vt(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&Vt(e,t,s,r,i,u)}t=o,n=a,i=g,m!=null?Ga(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ga(e,!!n,t,!0):Ga(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Vt(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&Vt(e,t,a,s,i,r)}I1(e,m,g);return;case"option":for(var A in n)if(m=n[A],n.hasOwnProperty(A)&&m!=null&&!i.hasOwnProperty(A))switch(A){case"selected":e.selected=!1;break;default:Vt(e,t,A,null,i,m)}for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Vt(e,t,u,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C)&&Vt(e,t,C,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:Vt(e,t,c,m,i,g)}return;default:if(ey(t)){for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!==void 0&&!i.hasOwnProperty(I)&&jp(e,t,I,void 0,i,m);for(h in i)m=i[h],g=n[h],!i.hasOwnProperty(h)||m===g||m===void 0&&g===void 0||jp(e,t,h,m,i,g);return}}for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!i.hasOwnProperty(_)&&Vt(e,t,_,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||Vt(e,t,d,m,i,g)}function ob(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hk(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&ob(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var h=u.transferSize,d=u.initiatorType;h&&ob(d)&&(u=u.responseEnd,a+=h*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Up=null,zp=null;function Wh(e){return e.nodeType===9?e:e.ownerDocument}function lb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pm=null;function fk(){var e=window.event;return e&&e.type==="popstate"?e===pm?!1:(pm=e,!0):(pm=null,!1)}var PA=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,ub=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof ub<"u"?function(e){return ub.resolve(null).then(e).catch(pk)}:PA;function pk(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function cb(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),fo(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ll(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ll(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Ou]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Ll(e.ownerDocument.body);n=s}while(n);fo(t)}function hb(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Fp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fp(n),ty(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function gk(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ou])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function yk(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function LA(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Hn(e.nextSibling),e===null))return null;return e}function Hp(e){return e.data==="$?"||e.data==="$~"}function Gp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vk(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qp=null;function fb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Hn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function db(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function jA(e,t,n){switch(t=Wh(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function Ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ty(e)}var qn=new Map,mb=new Set;function Jh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=It.d;It.d={f:_k,r:bk,D:Tk,C:Ek,L:Sk,m:wk,X:xk,S:Ak,M:Ck};function _k(){var e=es.f(),t=Yf();return e||t}function bk(e){var t=wo(e);t!==null&&t.tag===5&&t.type==="form"?Nw(t):es.r(e)}var Ro=typeof document>"u"?null:document;function UA(e,t,n){var i=Ro;if(i&&typeof t=="string"&&t){var s=Pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),mb.has(s)||(mb.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Ge(t,"link",e),Ne(t),i.head.appendChild(t)))}}function Tk(e){es.D(e),UA("dns-prefetch",e,null)}function Ek(e,t){es.C(e,t),UA("preconnect",e,t)}function Sk(e,t,n){es.L(e,t,n);var i=Ro;if(i&&e&&t){var s='link[rel="preload"][as="'+Pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Pn(n.imageSizes)+'"]')):s+='[href="'+Pn(e)+'"]';var r=s;switch(t){case"style":r=ho(e);break;case"script":r=Io(e)}qn.has(r)||(e=Wt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Uu(r))||t==="script"&&i.querySelector(zu(r))||(t=i.createElement("link"),Ge(t,"link",e),Ne(t),i.head.appendChild(t)))}}function wk(e,t){es.m(e,t);var n=Ro;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Pn(i)+'"][href="'+Pn(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Io(e)}if(!qn.has(r)&&(e=Wt({rel:"modulepreload",href:e},t),qn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zu(r)))return}i=n.createElement("link"),Ge(i,"link",e),Ne(i),n.head.appendChild(i)}}}function Ak(e,t,n){es.S(e,t,n);var i=Ro;if(i&&e){var s=Ha(i).hoistableStyles,r=ho(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Uu(r)))o.loading=5;else{e=Wt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qn.get(r))&&Uy(e,n);var u=a=i.createElement("link");Ne(u),Ge(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,uh(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function xk(e,t){es.X(e,t);var n=Ro;if(n&&e){var i=Ha(n).hoistableScripts,s=Io(e),r=i.get(s);r||(r=n.querySelector(zu(s)),r||(e=Wt({src:e,async:!0},t),(t=qn.get(s))&&zy(e,t),r=n.createElement("script"),Ne(r),Ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Ck(e,t){es.M(e,t);var n=Ro;if(n&&e){var i=Ha(n).hoistableScripts,s=Io(e),r=i.get(s);r||(r=n.querySelector(zu(s)),r||(e=Wt({src:e,async:!0,type:"module"},t),(t=qn.get(s))&&zy(e,t),r=n.createElement("script"),Ne(r),Ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function pb(e,t,n,i){var s=(s=Ds.current)?Jh(s):null;if(!s)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ho(n.href),n=Ha(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ho(n.href);var r=Ha(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(Uu(e)))&&!r._p&&(a.instance=r,a.state.loading=5),qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qn.set(e,n),r||Rk(s,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Io(n),n=Ha(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function ho(e){return'href="'+Pn(e)+'"'}function Uu(e){return'link[rel="stylesheet"]['+e+"]"}function zA(e){return Wt({},e,{"data-precedence":e.precedence,precedence:null})}function Rk(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ge(t,"link",n),Ne(t),e.head.appendChild(t))}function Io(e){return'[src="'+Pn(e)+'"]'}function zu(e){return"script[async]"+e}function gb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Pn(n.href)+'"]');if(i)return t.instance=i,Ne(i),i;var s=Wt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ne(i),Ge(i,"style",s),uh(i,n.precedence,e),t.instance=i;case"stylesheet":s=ho(n.href);var r=e.querySelector(Uu(s));if(r)return t.state.loading|=4,t.instance=r,Ne(r),r;i=zA(n),(s=qn.get(s))&&Uy(i,s),r=(e.ownerDocument||e).createElement("link"),Ne(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Ge(r,"link",i),t.state.loading|=4,uh(r,n.precedence,e),t.instance=r;case"script":return r=Io(n.src),(s=e.querySelector(zu(r)))?(t.instance=s,Ne(s),s):(i=n,(s=qn.get(r))&&(i=Wt({},n),zy(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ne(s),Ge(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,uh(i,n.precedence,e));return t.instance}function uh(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ch=null;function yb(e,t,n){if(ch===null){var i=new Map,s=ch=new Map;s.set(n,i)}else s=ch,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Ou]||r[Ue]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function vb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ik(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function BA(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Dk(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=ho(i.href),r=t.querySelector(Uu(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Ne(r);return}r=t.ownerDocument||t,i=zA(i),(s=qn.get(s))&&Uy(i,s),r=r.createElement("link"),Ne(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Ge(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gm=0;function Nk(e,t){return e.stylesheets&&e.count===0&&hh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&hh(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&gm===0&&(gm=62500*hk());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hh(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>gm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tf=null;function hh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tf=new Map,t.forEach(kk,e),tf=null,Zh.call(e))}function kk(e,t){if(!(t.state.loading&4)){var n=tf.get(e);if(n)var i=n.get(null);else{n=new Map,tf.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Zh.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var uu={$$typeof:Mi,Provider:null,Consumer:null,_currentValue:Rr,_currentValue2:Rr,_threadCount:0};function Ok(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ud(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.hiddenUpdates=Ud(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function FA(e,t,n,i,s,r,a,o,u,c,h,d){return e=new Ok(e,t,n,a,u,c,h,d,o),t=1,r===!0&&(t|=24),r=En(3,null,null,t),e.current=r,r.stateNode=e,t=fy(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},py(r),e}function HA(e){return e?(e=Va,e):Va}function GA(e,t,n,i,s,r){s=HA(s),i.context===null?i.context=s:i.pendingContext=s,i=ks(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=Os(e,i,t),n!==null&&(gn(n,e,t),Il(n,e,t))}function _b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function By(e,t){_b(e,t),(e=e.alternate)&&_b(e,t)}function qA(e){if(e.tag===13||e.tag===31){var t=Wr(e,67108864);t!==null&&gn(t,e,67108864),By(e,67108864)}}function bb(e){if(e.tag===13||e.tag===31){var t=Cn();t=Jg(t);var n=Wr(e,t);n!==null&&gn(n,e,t),By(e,t)}}var ef=!0;function Mk(e,t,n,i){var s=st.T;st.T=null;var r=It.p;try{It.p=2,Fy(e,t,n,i)}finally{It.p=r,st.T=s}}function Vk(e,t,n,i){var s=st.T;st.T=null;var r=It.p;try{It.p=8,Fy(e,t,n,i)}finally{It.p=r,st.T=s}}function Fy(e,t,n,i){if(ef){var s=Kp(i);if(s===null)mm(e,t,i,nf,n),Tb(e,i);else if(Lk(s,e,t,n,i))i.stopPropagation();else if(Tb(e,i),t&4&&-1<Pk.indexOf(e)){for(;s!==null;){var r=wo(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=_r(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-xn(a);o.entanglements[1]|=u,a&=~u}Ei(r),!(Rt&6)&&(qh=wn()+500,ju(0))}}break;case 31:case 13:o=Wr(r,2),o!==null&&gn(o,r,2),Yf(),By(r,2)}if(r=Kp(i),r===null&&mm(e,t,i,nf,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else mm(e,t,i,null,n)}}function Kp(e){return e=ny(e),Hy(e)}var nf=null;function Hy(e){if(nf=null,e=Ia(e),e!==null){var t=Iu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h1(t),e!==null)return e;e=null}else if(n===31){if(e=f1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nf=e,null}function KA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TD()){case g1:return 2;case y1:return 8;case Nh:case ED:return 32;case v1:return 268435456;default:return 32}default:return 32}}var Yp=!1,Ps=null,Ls=null,js=null,cu=new Map,hu=new Map,_s=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tb(e,t){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(t.pointerId)}}function al(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=wo(t),t!==null&&qA(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lk(e,t,n,i,s){switch(t){case"focusin":return Ps=al(Ps,e,t,n,i,s),!0;case"dragenter":return Ls=al(Ls,e,t,n,i,s),!0;case"mouseover":return js=al(js,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return cu.set(r,al(cu.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,hu.set(r,al(hu.get(r)||null,e,t,n,i,s)),!0}return!1}function YA(e){var t=Ia(e.target);if(t!==null){var n=Iu(t);if(n!==null){if(t=n.tag,t===13){if(t=h1(n),t!==null){e.blockedOn=t,r_(e.priority,function(){bb(n)});return}}else if(t===31){if(t=f1(n),t!==null){e.blockedOn=t,r_(e.priority,function(){bb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kp(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);hp=i,n.target.dispatchEvent(i),hp=null}else return t=wo(n),t!==null&&qA(t),e.blockedOn=n,!1;t.shift()}return!0}function Eb(e,t,n){fh(e)&&n.delete(t)}function jk(){Yp=!1,Ps!==null&&fh(Ps)&&(Ps=null),Ls!==null&&fh(Ls)&&(Ls=null),js!==null&&fh(js)&&(js=null),cu.forEach(Eb),hu.forEach(Eb)}function Mc(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,jk)))}var Vc=null;function Sb(e){Vc!==e&&(Vc=e,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(Hy(i||n)===null)continue;break}var r=wo(n);r!==null&&(e.splice(t,3),t-=3,Cp(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function fo(e){function t(u){return Mc(u,e)}Ps!==null&&Mc(Ps,e),Ls!==null&&Mc(Ls,e),js!==null&&Mc(js,e),cu.forEach(t),hu.forEach(t);for(var n=0;n<_s.length;n++){var i=_s[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)YA(n),n.blockedOn===null&&_s.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[yn]||null;if(typeof r=="function")a||Sb(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[yn]||null)o=a.formAction;else if(Hy(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Sb(n)}}}function $A(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Gy(e){this._internalRoot=e}Qf.prototype.render=Gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Cn();GA(n,i,e,t,null,null)};Qf.prototype.unmount=Gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;GA(e.current,2,null,e,null,null),Yf(),t[So]=null}};function Qf(e){this._internalRoot=e}Qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=S1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_s.length&&t!==0&&t<_s[n].priority;n++);_s.splice(n,0,e),n===0&&YA(e)}};var wb=u1.version;if(wb!=="19.2.3")throw Error(L(527,wb,"19.2.3"));It.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=mD(t),e=e!==null?d1(e):null,e=e===null?null:e.stateNode,e};var Uk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Du=Pc.inject(Uk),An=Pc}catch{}}Of.createRoot=function(e,t){if(!c1(e))throw Error(L(299));var n=!1,i="",s=Uw,r=zw,a=Bw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=FA(e,1,!1,null,null,n,i,null,s,r,a,$A),e[So]=t.current,jy(e),new Gy(t)};Of.hydrateRoot=function(e,t,n){if(!c1(e))throw Error(L(299));var i=!1,s="",r=Uw,a=zw,o=Bw,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=FA(e,1,!0,t,n??null,i,s,u,r,a,o,$A),t.context=HA(null),n=t.current,i=Cn(),i=Jg(i),s=ks(i),s.callback=null,Os(n,s,i),n=i,t.current.lanes=n,ku(t,n),Ei(t),e[So]=t.current,jy(e),new Qf(t)};Of.version="19.2.3";function XA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XA)}catch(e){console.error(e)}}XA(),i1.exports=Of;var zk=i1.exports;const Bk=KS(zk),qy=P.createContext({});function Zr(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const QA=typeof window<"u",Ky=QA?P.useLayoutEffect:P.useEffect,Wf=P.createContext(null);function Yy(e,t){e.indexOf(t)===-1&&e.push(t)}function $y(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Fk([...e],t,n){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const s=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(s,0,r)}return e}const yi=(e,t,n)=>n>t?t:n<e?e:n;let Xy=()=>{};const Xi={},WA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JA(e){return typeof e=="object"&&e!==null}const ZA=e=>/^0[^.\s]+$/u.test(e);function Qy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gn=e=>e,Hk=(e,t)=>n=>t(e(n)),Bu=(...e)=>e.reduce(Hk),fu=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Wy{constructor(){this.subscriptions=[]}add(t){return Yy(this.subscriptions,t),()=>$y(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=e=>e*1e3,Bn=e=>e/1e3;function tx(e,t){return t?e*(1e3/t):0}const ex=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Gk=1e-7,qk=12;function Kk(e,t,n,i,s){let r,a,o=0;do a=t+(n-t)/2,r=ex(a,i,s)-e,r>0?n=a:t=a;while(Math.abs(r)>Gk&&++o<qk);return a}function Fu(e,t,n,i){if(e===t&&n===i)return Gn;const s=r=>Kk(r,0,1,e,n);return r=>r===0||r===1?r:ex(s(r),t,i)}const nx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ix=e=>t=>1-e(1-t),sx=Fu(.33,1.53,.69,.99),Jy=ix(sx),rx=nx(Jy),ax=e=>(e*=2)<1?.5*Jy(e):.5*(2-Math.pow(2,-10*(e-1))),Zy=e=>1-Math.sin(Math.acos(e)),ox=ix(Zy),lx=nx(Zy),Yk=Fu(.42,0,1,1),$k=Fu(0,0,.58,1),ux=Fu(.42,0,.58,1),Xk=e=>Array.isArray(e)&&typeof e[0]!="number",cx=e=>Array.isArray(e)&&typeof e[0]=="number",Qk={linear:Gn,easeIn:Yk,easeInOut:ux,easeOut:$k,circIn:Zy,circInOut:lx,circOut:ox,backIn:Jy,backInOut:rx,backOut:sx,anticipate:ax},Wk=e=>typeof e=="string",Ab=e=>{if(cx(e)){Xy(e.length===4);const[t,n,i,s]=e;return Fu(t,n,i,s)}else if(Wk(e))return Qk[e];return e},Lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jk(e,t){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(c.schedule(h),e()),h(o)}const c={schedule:(h,d=!1,m=!1)=>{const A=m&&s?n:i;return d&&a.add(h),A.has(h)||A.add(h),h},cancel:h=>{i.delete(h),a.delete(h)},process:h=>{if(o=h,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,r&&(r=!1,c.process(h))}};return c}const Zk=40;function hx(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Lc.reduce((w,N)=>(w[N]=Jk(r),w),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:g,postRender:A}=a,C=()=>{const w=Xi.useManualTiming?s.timestamp:performance.now();n=!1,Xi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,Zk),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),h.process(s),d.process(s),m.process(s),g.process(s),A.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(C))},I=()=>{n=!0,i=!0,s.isProcessing||e(C)};return{schedule:Lc.reduce((w,N)=>{const M=a[N];return w[N]=(z,E=!1,y=!1)=>(n||I(),M.schedule(z,E,y)),w},{}),cancel:w=>{for(let N=0;N<Lc.length;N++)a[Lc[N]].cancel(w)},state:s,steps:a}}const{schedule:Gt,cancel:Qi,state:Pe,steps:ym}=hx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let dh;function tO(){dh=void 0}const on={now:()=>(dh===void 0&&on.set(Pe.isProcessing||Xi.useManualTiming?Pe.timestamp:performance.now()),dh),set:e=>{dh=e,queueMicrotask(tO)}},fx=e=>t=>typeof t=="string"&&t.startsWith(e),dx=fx("--"),eO=fx("var(--"),t0=e=>eO(e)?nO.test(e.split("/*")[0].trim()):!1,nO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xb(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Do={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},du={...Do,transform:e=>yi(0,1,e)},jc={...Do,default:1},jl=e=>Math.round(e*1e5)/1e5,e0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iO(e){return e==null}const sO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n0=(e,t)=>n=>!!(typeof n=="string"&&sO.test(n)&&n.startsWith(e)||t&&!iO(n)&&Object.prototype.hasOwnProperty.call(n,t)),mx=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(e0);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},rO=e=>yi(0,255,e),vm={...Do,transform:e=>Math.round(rO(e))},wr={test:n0("rgb","red"),parse:mx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+vm.transform(e)+", "+vm.transform(t)+", "+vm.transform(n)+", "+jl(du.transform(i))+")"};function aO(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const $p={test:n0("#"),parse:aO,transform:wr.transform},Hu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fs=Hu("deg"),hi=Hu("%"),X=Hu("px"),oO=Hu("vh"),lO=Hu("vw"),Cb={...hi,parse:e=>hi.parse(e)/100,transform:e=>hi.transform(e*100)},Ua={test:n0("hsl","hue"),parse:mx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+hi.transform(jl(t))+", "+hi.transform(jl(n))+", "+jl(du.transform(i))+")"},de={test:e=>wr.test(e)||$p.test(e)||Ua.test(e),parse:e=>wr.test(e)?wr.parse(e):Ua.test(e)?Ua.parse(e):$p.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wr.transform(e):Ua.transform(e),getAnimatableNone:e=>{const t=de.parse(e);return t.alpha=0,de.transform(t)}},uO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(e0))==null?void 0:t.length)||0)+(((n=e.match(uO))==null?void 0:n.length)||0)>0}const px="number",gx="color",hO="var",fO="var(",Rb="${}",dO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(dO,u=>(de.test(u)?(i.color.push(r),s.push(gx),n.push(de.parse(u))):u.startsWith(fO)?(i.var.push(r),s.push(hO),n.push(u)):(i.number.push(r),s.push(px),n.push(parseFloat(u))),++r,Rb)).split(Rb);return{values:n,split:o,indexes:i,types:s}}function yx(e){return mu(e).values}function vx(e){const{split:t,types:n}=mu(e),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=n[a];o===px?r+=jl(s[a]):o===gx?r+=de.transform(s[a]):r+=s[a]}return r}}const mO=e=>typeof e=="number"?0:de.test(e)?de.getAnimatableNone(e):e;function pO(e){const t=yx(e);return vx(e)(t.map(mO))}const Qs={test:cO,parse:yx,createTransformer:vx,getAnimatableNone:pO};function _m(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gO({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,a=0;if(!t)s=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;s=_m(u,o,e+1/3),r=_m(u,o,e),a=_m(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function sf(e,t){return n=>n>0?t:e}const Zt=(e,t,n)=>e+(t-e)*n,bm=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},yO=[$p,wr,Ua],vO=e=>yO.find(t=>t.test(e));function Ib(e){const t=vO(e);if(!t)return!1;let n=t.parse(e);return t===Ua&&(n=gO(n)),n}const Db=(e,t)=>{const n=Ib(e),i=Ib(t);if(!n||!i)return sf(e,t);const s={...n};return r=>(s.red=bm(n.red,i.red,r),s.green=bm(n.green,i.green,r),s.blue=bm(n.blue,i.blue,r),s.alpha=Zt(n.alpha,i.alpha,r),wr.transform(s))},Xp=new Set(["none","hidden"]);function _O(e,t){return Xp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bO(e,t){return n=>Zt(e,t,n)}function i0(e){return typeof e=="number"?bO:typeof e=="string"?t0(e)?sf:de.test(e)?Db:SO:Array.isArray(e)?_x:typeof e=="object"?de.test(e)?Db:TO:sf}function _x(e,t){const n=[...e],i=n.length,s=e.map((r,a)=>i0(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function TO(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=i0(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function EO(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],o=e.values[a]??0;n[s]=o,i[r]++}return n}const SO=(e,t)=>{const n=Qs.createTransformer(t),i=mu(e),s=mu(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Xp.has(e)&&!s.values.length||Xp.has(t)&&!i.values.length?_O(e,t):Bu(_x(EO(i,s),s.values),n):sf(e,t)};function bx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Zt(e,t,n):i0(e)(e,t)}const wO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Gt.update(t,n),stop:()=>Qi(t),now:()=>Pe.isProcessing?Pe.timestamp:on.now()}},Tx=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},rf=2e4;function s0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<rf;)t+=n,i=e.next(t);return t>=rf?1/0:t}function AO(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(s0(i),rf);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:Bn(s)}}const xO=5;function Ex(e,t,n){const i=Math.max(t-xO,0);return tx(n-e(i),t-i)}const re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tm=.001;function CO({duration:e=re.duration,bounce:t=re.bounce,velocity:n=re.velocity,mass:i=re.mass}){let s,r,a=1-t;a=yi(re.minDamping,re.maxDamping,a),e=yi(re.minDuration,re.maxDuration,Bn(e)),a<1?(s=c=>{const h=c*a,d=h*e,m=h-n,g=Qp(c,a),A=Math.exp(-d);return Tm-m/g*A},r=c=>{const d=c*a*e,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*e,A=Math.exp(-d),C=Qp(Math.pow(c,2),a);return(-s(c)+Tm>0?-1:1)*((m-g)*A)/C}):(s=c=>{const h=Math.exp(-c*e),d=(c-n)*e+1;return-Tm+h*d},r=c=>{const h=Math.exp(-c*e),d=(n-c)*(e*e);return h*d});const o=5/e,u=IO(s,r,o);if(e=Fi(e),isNaN(u))return{stiffness:re.stiffness,damping:re.damping,duration:e};{const c=Math.pow(u,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:e}}}const RO=12;function IO(e,t,n){let i=n;for(let s=1;s<RO;s++)i=i-e(i)/t(i);return i}function Qp(e,t){return e*Math.sqrt(1-t*t)}const DO=["duration","bounce"],NO=["stiffness","damping","mass"];function Nb(e,t){return t.some(n=>e[n]!==void 0)}function kO(e){let t={velocity:re.velocity,stiffness:re.stiffness,damping:re.damping,mass:re.mass,isResolvedFromDuration:!1,...e};if(!Nb(e,NO)&&Nb(e,DO))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:re.mass,stiffness:s,damping:r}}else{const n=CO(e);t={...t,...n,mass:re.mass},t.isResolvedFromDuration=!0}return t}function af(e=re.visualDuration,t=re.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:u,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:g}=kO({...n,velocity:-Bn(n.velocity||0)}),A=m||0,C=c/(2*Math.sqrt(u*h)),I=a-r,_=Bn(Math.sqrt(u/h)),v=Math.abs(I)<5;i||(i=v?re.restSpeed.granular:re.restSpeed.default),s||(s=v?re.restDelta.granular:re.restDelta.default);let w;if(C<1){const M=Qp(_,C);w=z=>{const E=Math.exp(-C*_*z);return a-E*((A+C*_*I)/M*Math.sin(M*z)+I*Math.cos(M*z))}}else if(C===1)w=M=>a-Math.exp(-_*M)*(I+(A+_*I)*M);else{const M=_*Math.sqrt(C*C-1);w=z=>{const E=Math.exp(-C*_*z),y=Math.min(M*z,300);return a-E*((A+C*_*I)*Math.sinh(y)+M*I*Math.cosh(y))/M}}const N={calculatedDuration:g&&d||null,next:M=>{const z=w(M);if(g)o.done=M>=d;else{let E=M===0?A:0;C<1&&(E=M===0?Fi(A):Ex(w,M,z));const y=Math.abs(E)<=i,T=Math.abs(a-z)<=s;o.done=y&&T}return o.value=o.done?a:z,o},toString:()=>{const M=Math.min(s0(N),rf),z=Tx(E=>N.next(M*E).value,M,30);return M+"ms "+z},toTransition:()=>{}};return N}af.applyToOptions=e=>{const t=AO(e,100,af);return e.ease=t.ease,e.duration=Fi(t.duration),e.type="keyframes",e};function Wp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:h}){const d=e[0],m={done:!1,value:d},g=y=>o!==void 0&&y<o||u!==void 0&&y>u,A=y=>o===void 0?u:u===void 0||Math.abs(o-y)<Math.abs(u-y)?o:u;let C=n*t;const I=d+C,_=a===void 0?I:a(I);_!==I&&(C=_-d);const v=y=>-C*Math.exp(-y/i),w=y=>_+v(y),N=y=>{const T=v(y),x=w(y);m.done=Math.abs(T)<=c,m.value=m.done?_:x};let M,z;const E=y=>{g(m.value)&&(M=y,z=af({keyframes:[m.value,A(m.value)],velocity:Ex(w,y,m.value),damping:s,stiffness:r,restDelta:c,restSpeed:h}))};return E(0),{calculatedDuration:null,next:y=>{let T=!1;return!z&&M===void 0&&(T=!0,N(y),E(y)),M!==void 0&&y>=M?z.next(y-M):(!T&&N(y),m)}}}function OO(e,t,n){const i=[],s=n||Xi.mix||bx,r=e.length-1;for(let a=0;a<r;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||Gn:t;o=Bu(u,o)}i.push(o)}return i}function Sx(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(Xy(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=OO(t,i,s),u=o.length,c=h=>{if(a&&h<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const m=fu(e[d],e[d+1],h);return o[d](m)};return n?h=>c(yi(e[0],e[r-1],h)):c}function MO(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=fu(0,t,i);e.push(Zt(n,1,s))}}function VO(e){const t=[0];return MO(t,e.length-1),t}function PO(e,t){return e.map(n=>n*t)}function LO(e,t){return e.map(()=>t||ux).splice(0,e.length-1)}function Ul({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=Xk(i)?i.map(Ab):Ab(i),r={done:!1,value:t[0]},a=PO(n&&n.length===t.length?n:VO(t),e),o=Sx(a,t,{ease:Array.isArray(s)?s:LO(t,s)});return{calculatedDuration:e,next:u=>(r.value=o(u),r.done=u>=e,r)}}const jO=e=>e!==null;function r0(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(jO),o=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const UO={decay:Wp,inertia:Wp,tween:Ul,keyframes:Ul,spring:af};function wx(e){typeof e.type=="string"&&(e.type=UO[e.type])}class a0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const zO=e=>e/100;class o0 extends a0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wx(t);const{type:n=Ul,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const u=n||Ul;u!==Ul&&typeof o[0]!="number"&&(this.mixKeyframes=Bu(zO,bx(o[0],o[1])),o=[0,100]);const c=u({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=s0(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:g,type:A,onUpdate:C,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,N=i;if(d){const y=Math.min(this.currentTime,s)/o;let T=Math.floor(y),x=y%1;!x&&y>=1&&(x=1),x===1&&T--,T=Math.min(T,d+1),!!(T%2)&&(m==="reverse"?(x=1-x,g&&(x-=g/o)):m==="mirror"&&(N=a)),w=yi(0,1,x)*o}const M=v?{done:!1,value:h[0]}:N.next(w);r&&(M.value=r(M.value));let{done:z}=M;!v&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return E&&A!==Wp&&(M.value=r0(h,this.options,I,this.speed)),C&&C(M.value),E&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return Bn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bn(t)}get time(){return Bn(this.currentTime)}set time(t){var n;t=Fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bn(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=wO,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function BO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ar=e=>e*180/Math.PI,Jp=e=>{const t=Ar(Math.atan2(e[1],e[0]));return Zp(t)},FO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jp,rotateZ:Jp,skewX:e=>Ar(Math.atan(e[1])),skewY:e=>Ar(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zp=e=>(e=e%360,e<0&&(e+=360),e),kb=Jp,Ob=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Mb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),HO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ob,scaleY:Mb,scale:e=>(Ob(e)+Mb(e))/2,rotateX:e=>Zp(Ar(Math.atan2(e[6],e[5]))),rotateY:e=>Zp(Ar(Math.atan2(-e[2],e[0]))),rotateZ:kb,rotate:kb,skewX:e=>Ar(Math.atan(e[4])),skewY:e=>Ar(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tg(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return tg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=HO,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=FO,s=o}if(!s)return tg(t);const r=i[t],a=s[1].split(",").map(qO);return typeof r=="function"?r(a):a[r]}const GO=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eg(n,t)};function qO(e){return parseFloat(e.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(No),Vb=e=>e===Do||e===X,KO=new Set(["x","y","z"]),YO=No.filter(e=>!KO.has(e));function $O(e){const t=[];return YO.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Rs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};Rs.translateX=Rs.x;Rs.translateY=Rs.y;const Or=new Set;let ng=!1,ig=!1,sg=!1;function Ax(){if(ig){const e=Array.from(Or).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=$O(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ig=!1,ng=!1,Or.forEach(e=>e.complete(sg)),Or.clear()}function xx(){Or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ig=!0)})}function XO(){sg=!0,xx(),Ax(),sg=!1}class l0{constructor(t,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Or.add(this),ng||(ng=!0,Gt.read(xx),Gt.resolveKeyframes(Ax))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&r===void 0&&s.set(t[0])}BO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Or.delete(this)}cancel(){this.state==="scheduled"&&(Or.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QO=e=>e.startsWith("--");function WO(e,t,n){QO(t)?e.style.setProperty(t,n):e.style[t]=n}const JO=Qy(()=>window.ScrollTimeline!==void 0),ZO={};function tM(e,t){const n=Qy(e);return()=>ZO[t]??n()}const Cx=tM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yl=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Pb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yl([0,.65,.55,1]),circOut:yl([.55,0,1,.45]),backIn:yl([.31,.01,.66,-.59]),backOut:yl([.33,1.53,.69,.99])};function Rx(e,t){if(e)return typeof e=="function"?Cx()?Tx(e,t):"ease-out":cx(e)?yl(e):Array.isArray(e)?e.map(n=>Rx(n,t)||Pb.easeOut):Pb[e]}function eM(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const h={[t]:n};u&&(h.offset=u);const d=Rx(o,s);Array.isArray(d)&&(h.easing=d);const m={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(h,m)}function Ix(e){return typeof e=="function"&&"applyToOptions"in e}function nM({type:e,...t}){return Ix(e)&&Cx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class iM extends a0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,Xy(typeof t.type!="string");const c=nM(t);this.animation=eM(n,i,s,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=r0(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):WO(n,i,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Bn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bn(t)}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&JO()?(this.animation.timeline=t,Gn):n(this)}}const Dx={anticipate:ax,backInOut:rx,circInOut:lx};function sM(e){return e in Dx}function rM(e){typeof e.ease=="string"&&sM(e.ease)&&(e.ease=Dx[e.ease])}const Em=10;class aM extends iM{constructor(t){rM(t),wx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new o0({...a,autoplay:!1}),u=Math.max(Em,on.now()-this.startTime),c=yi(0,Em,u-Em);n.setWithVelocity(o.sample(Math.max(0,u-c)).value,o.sample(u).value,c),o.stop()}}const Lb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qs.test(e)||e==="0")&&!e.startsWith("url("));function oM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lM(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=Lb(s,t),o=Lb(r,t);return!a||!o?!1:oM(e)||(n==="spring"||Ix(n))&&i}function rg(e){e.duration=0,e.type="keyframes"}const uM=new Set(["opacity","clipPath","filter","transform"]),cM=Qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hM(e){var h;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return cM()&&n&&uM.has(n)&&(n!=="transform"||!c)&&!u&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const fM=40;class dM extends a0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:h,...d}){var A;super(),this.stop=()=>{var C,I;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=on.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:c,element:h,...d},g=(h==null?void 0:h.KeyframeResolver)||l0;this.keyframeResolver=new g(o,(C,I,_)=>this.onKeyframesResolved(C,I,m,!_),u,c,h),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:h}=i;this.resolvedAt=on.now(),lM(t,r,a,o)||((Xi.instantAnimations||!u)&&(h==null||h(r0(t,i,n))),t[0]=t[t.length-1],rg(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>fM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},g=!c&&hM(m)?new aM({...m,element:m.motionValue.owner.current}):new o0(m);g.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),XO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pM(e){const t=mM.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function Nx(e,t,n=1){const[i,s]=pM(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return WA(a)?parseFloat(a):a}return t0(s)?Nx(s,t,n+1):s}function u0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gM={type:"spring",stiffness:500,damping:25,restSpeed:10},yM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vM={type:"keyframes",duration:.8},_M={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bM=(e,{keyframes:t})=>t.length>2?vM:ko.has(e)?e.startsWith("scale")?yM(t[1]):gM:_M;function TM({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const EM=e=>e!==null;function SM(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(EM),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}function kx(e,t,n,i=0,s=1){const r=Array.from(e).sort((c,h)=>c.sortNodePosition(h)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(r,a):s===1?r*i:o-r*i}const c0=(e,t,n,i={},s,r)=>a=>{const o=u0(i,e)||{},u=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Fi(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};TM(o)||Object.assign(h,bM(e,h)),h.duration&&(h.duration=Fi(h.duration)),h.repeatDelay&&(h.repeatDelay=Fi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(rg(h),h.delay===0&&(d=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(d=!0,rg(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!r&&t.get()!==void 0){const m=SM(h.keyframes,o);if(m!==void 0){Gt.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new o0(h):new dM(h)},Ox=new Set(["width","height","top","left","right","bottom",...No]),jb=30,wM=e=>!isNaN(parseFloat(e)),zl={current:void 0};class AM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=on.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wy);const i=this.events[t].add(n);return t==="change"?()=>{i(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return zl.current&&zl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jb);return tx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Br(e,t){return new AM(e,t)}function Ub(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function h0(e,t,n,i){if(typeof t=="function"){const[s,r]=Ub(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=Ub(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function Qa(e,t,n){const i=e.getProps();return h0(i,t,n!==void 0?n:i.custom,e)}const ag=e=>Array.isArray(e);function xM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Br(n))}function CM(e){return ag(e)?e[e.length-1]||0:e}function RM(e,t){const n=Qa(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=CM(r[a]);xM(e,a,o)}}const He=e=>!!(e&&e.getVelocity);function IM(e){return!!(He(e)&&e.add)}function og(e,t){const n=e.getValue("willChange");if(IM(n))return n.add(t);if(!n&&Xi.WillChange){const i=new Xi.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function f0(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const DM="framerAppearId",Mx="data-"+f0(DM);function Vx(e){return e.props[Mx]}function NM({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Px(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(r=i);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const h in o){const d=e.getValue(h,e.latestValues[h]??null),m=o[h];if(m===void 0||c&&NM(c,h))continue;const g={delay:n,...u0(r||{},h)},A=d.get();if(A!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===A&&!g.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const _=Vx(e);if(_){const v=window.MotionHandoffAnimation(_,h,Gt);v!==null&&(g.startTime=v,C=!0)}}og(e,h),d.start(c0(h,d,m,e.shouldReduceMotion&&Ox.has(h)?{type:!1}:g,e,C));const I=d.animation;I&&u.push(I)}return a&&Promise.all(u).then(()=>{Gt.update(()=>{a&&RM(e,a)})}),u}function lg(e,t,n={}){var u;const i=Qa(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Px(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=s;return kM(e,t,c,h,d,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,h]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>h())}else return Promise.all([r(),a(n.delay)])}function kM(e,t,n=0,i=0,s=0,r=1,a){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(lg(u,t,{...a,delay:n+(typeof i=="function"?0:i)+kx(e.variantChildren,u,i,s,r)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function OM(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>lg(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=lg(e,t,n);else{const s=typeof t=="function"?Qa(e,t,n.custom):t;i=Promise.all(Px(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const MM={test:e=>e==="auto",parse:e=>e},Lx=e=>t=>t.test(e),jx=[Do,X,hi,fs,lO,oO,MM],zb=e=>jx.find(Lx(e));function VM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZA(e):!0}const PM=new Set(["brightness","contrast","saturate","opacity"]);function LM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(e0)||[];if(!i)return e;const s=n.replace(i,"");let r=PM.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const jM=/\b([a-z-]*)\(.*?\)/gu,ug={...Qs,getAnimatableNone:e=>{const t=e.match(jM);return t?t.map(LM).join(" "):e}},Bb={...Do,transform:Math.round},UM={rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:fs,skewX:fs,skewY:fs,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:du,originX:Cb,originY:Cb,originZ:X},d0={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,inset:X,insetBlock:X,insetBlockStart:X,insetBlockEnd:X,insetInline:X,insetInlineStart:X,insetInlineEnd:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,paddingBlock:X,paddingBlockStart:X,paddingBlockEnd:X,paddingInline:X,paddingInlineStart:X,paddingInlineEnd:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,marginBlock:X,marginBlockStart:X,marginBlockEnd:X,marginInline:X,marginInlineStart:X,marginInlineEnd:X,backgroundPositionX:X,backgroundPositionY:X,...UM,zIndex:Bb,fillOpacity:du,strokeOpacity:du,numOctaves:Bb},zM={...d0,color:de,backgroundColor:de,outlineColor:de,fill:de,stroke:de,borderColor:de,borderTopColor:de,borderRightColor:de,borderBottomColor:de,borderLeftColor:de,filter:ug,WebkitFilter:ug},Ux=e=>zM[e];function zx(e,t){let n=Ux(e);return n!==ug&&(n=Qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const BM=new Set(["auto","none","0"]);function FM(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!BM.has(r)&&mu(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=zx(n,s)}class HM extends l0{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),t0(d))){const m=Nx(d,n.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ox.has(i)||t.length!==2)return;const[s,r]=t,a=zb(s),o=zb(r),u=xb(s),c=xb(r);if(u!==c&&Rs[i]){this.needsMeasurement=!0;return}if(a!==o)if(Vb(a)&&Vb(o))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else Rs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||VM(t[s]))&&i.push(s);i.length&&FM(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Rs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function GM(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Bx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Fx(e){return JA(e)&&"offsetHeight"in e}const{schedule:m0}=hx(queueMicrotask,!1),Jn={x:!1,y:!1};function Hx(){return Jn.x||Jn.y}function qM(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function Gx(e,t){const n=GM(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Fb(e){return!(e.pointerType==="touch"||Hx())}function KM(e,t,n={}){const[i,s,r]=Gx(e,n),a=o=>{if(!Fb(o))return;const{target:u}=o,c=t(u,o);if(typeof c!="function"||!u)return;const h=d=>{Fb(d)&&(c(d),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const qx=(e,t)=>t?e===t?!0:qx(e,t.parentElement):!1,p0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,YM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kx(e){return YM.has(e.tagName)||e.isContentEditable===!0}const mh=new WeakSet;function Hb(e){return t=>{t.key==="Enter"&&e(t)}}function Sm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $M=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Hb(()=>{if(mh.has(n))return;Sm(n,"down");const s=Hb(()=>{Sm(n,"up")}),r=()=>Sm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Gb(e){return p0(e)&&!Hx()}function XM(e,t,n={}){const[i,s,r]=Gx(e,n),a=o=>{const u=o.currentTarget;if(!Gb(o))return;mh.add(u);const c=t(u,o),h=(g,A)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),mh.has(u)&&mh.delete(u),Gb(g)&&typeof c=="function"&&c(g,{success:A})},d=g=>{h(g,u===window||u===document||n.useGlobalTarget||qx(u,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Fx(o)&&(o.addEventListener("focus",c=>$M(c,s)),!Kx(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function Yx(e){return JA(e)&&"ownerSVGElement"in e}function QM(e){return Yx(e)&&e.tagName==="svg"}function WM(...e){const t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],s=e[1+n],r=e[2+n],a=e[3+n],o=Sx(s,r,a);return t?o(i):o}const JM=[...jx,de,Qs],ZM=e=>JM.find(Lx(e)),qb=()=>({translate:0,scale:1,origin:0,originPoint:0}),za=()=>({x:qb(),y:qb()}),Kb=()=>({min:0,max:0}),Ee=()=>({x:Kb(),y:Kb()}),cg={current:null},$x={current:!1},tV=typeof window<"u";function eV(){if($x.current=!0,!!tV)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cg.current=e.matches;e.addEventListener("change",t),t()}else cg.current=!1}const nV=new WeakMap;function Jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const g0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y0=["initial",...g0];function Zf(e){return Jf(e.animate)||y0.some(t=>pu(e[t]))}function Xx(e){return!!(Zf(e)||e.variants)}function iV(e,t,n){for(const i in t){const s=t[i],r=n[i];if(He(s))e.addValue(i,s);else if(He(r))e.addValue(i,Br(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Br(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let of={};function Qx(e){of=e}function sV(){return of}class rV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=on.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Gt.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Zf(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];u[m]!==void 0&&He(g)&&g.set(u[m])}}mount(t){var n;this.current=t,nV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($x.current||eV(),this.shouldReduceMotion=cg.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ko.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;typeof window<"u"&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in of){const n=of[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Yb.length;i++){const s=Yb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=iV(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Br(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(WA(i)||ZA(i))?i=parseFloat(i):!ZM(i)&&Qs.test(n)&&(i=zx(t,n)),this.setBaseTarget(t,He(i)?i.get():i)),He(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=h0(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!He(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){m0.render(this.render)}}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Wx extends rV{constructor(){super(...arguments),this.KeyframeResolver=HM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;He(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Jx({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function aV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function wm(e){return e===void 0||e===1}function hg({scale:e,scaleX:t,scaleY:n}){return!wm(e)||!wm(t)||!wm(n)}function Er(e){return hg(e)||Zx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zx(e){return $b(e.x)||$b(e.y)}function $b(e){return e&&e!=="0%"}function lf(e,t,n){const i=e-n,s=t*i;return n+s}function Xb(e,t,n,i,s){return s!==void 0&&(e=lf(e,s,i)),lf(e,n,i)+t}function fg(e,t=0,n=1,i,s){e.min=Xb(e.min,t,n,i,s),e.max=Xb(e.max,t,n,i,s)}function tC(e,{x:t,y:n}){fg(e.x,t.translate,t.scale,t.originPoint),fg(e.y,n.translate,n.scale,n.originPoint)}const Qb=.999999999999,Wb=1.0000000000001;function lV(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Fa(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,tC(e,a)),i&&Er(r.latestValues)&&Fa(e,r.latestValues))}t.x<Wb&&t.x>Qb&&(t.x=1),t.y<Wb&&t.y>Qb&&(t.y=1)}function Ba(e,t){e.min=e.min+t,e.max=e.max+t}function Jb(e,t,n,i,s=.5){const r=Zt(e.min,e.max,s);fg(e,t,n,r,i)}function Fa(e,t){Jb(e.x,t.x,t.scaleX,t.scale,t.originX),Jb(e.y,t.y,t.scaleY,t.scale,t.originY)}function eC(e,t){return Jx(oV(e.getBoundingClientRect(),t))}function uV(e,t,n){const i=eC(e,n),{scroll:s}=t;return s&&(Ba(i.x,s.offset.x),Ba(i.y,s.offset.y)),i}const cV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hV=No.length;function fV(e,t,n){let i="",s=!0;for(let r=0;r<hV;r++){const a=No[r],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const c=Bx(o,d0[a]);if(!u){s=!1;const h=cV[a]||a;i+=`${h}(${c}) `}n&&(t[a]=c)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function v0(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(ko.has(u)){a=!0;continue}else if(dx(u)){s[u]=c;continue}else{const h=Bx(c,d0[u]);u.startsWith("origin")?(o=!0,r[u]=h):i[u]=h}}if(t.transform||(a||n?i.transform=fV(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:h=0}=r;i.transformOrigin=`${u} ${c} ${h}`}}function nC(e,{style:t,vars:n},i,s){const r=e.style;let a;for(a in t)r[a]=t[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function Zb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ol={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const n=Zb(e,t.target.x),i=Zb(e,t.target.y);return`${n}% ${i}%`}},dV={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Qs.parse(e);if(s.length>5)return i;const r=Qs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,u=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=Zt(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),r(s)}},dg={borderRadius:{...ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ol,borderTopRightRadius:ol,borderBottomLeftRadius:ol,borderBottomRightRadius:ol,boxShadow:dV};function iC(e,{layout:t,layoutId:n}){return ko.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!dg[e]||e==="opacity")}function _0(e,t,n){var a;const i=e.style,s=t==null?void 0:t.style,r={};if(!i)return r;for(const o in i)(He(i[o])||s&&He(s[o])||iC(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=i[o]);return r}function mV(e){return window.getComputedStyle(e)}class pV extends Wx{constructor(){super(...arguments),this.type="html",this.renderInstance=nC}readValueFromInstance(t,n){var i;if(ko.has(n))return(i=this.projection)!=null&&i.isProjecting?tg(n):GO(t,n);{const s=mV(t),r=(dx(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eC(t,n)}build(t,n,i){v0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return _0(t,n,i)}}const gV={offset:"stroke-dashoffset",array:"stroke-dasharray"},yV={offset:"strokeDashoffset",array:"strokeDasharray"};function vV(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?gV:yV;e[r.offset]=X.transform(-i);const a=X.transform(t),o=X.transform(n);e[r.array]=`${a} ${o}`}const _V=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sC(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},u,c,h){if(v0(e,o,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox);for(const g of _V)d[g]!==void 0&&(m[g]=d[g],delete d[g]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),s!==void 0&&vV(d,s,r,a,!1)}const rC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),aC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bV(e,t,n,i){nC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(rC.has(s)?s:f0(s),t.attrs[s])}function oC(e,t,n){const i=_0(e,t,n);for(const s in e)if(He(e[s])||He(t[s])){const r=No.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}class TV extends Wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ko.has(n)){const i=Ux(n);return i&&i.default||0}return n=rC.has(n)?n:f0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return oC(t,n,i)}build(t,n,i){sC(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){bV(t,n,i,s)}mount(t){this.isSVGTag=aC(t.tagName),super.mount(t)}}const EV=y0.length;function lC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<EV;n++){const i=y0[n],s=e.props[i];(pu(s)||s===!1)&&(t[i]=s)}return t}function uC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const SV=[...g0].reverse(),wV=g0.length;function AV(e){return t=>Promise.all(t.map(({animation:n,options:i})=>OM(e,n,i)))}function xV(e){let t=AV(e),n=tT(),i=!0;const s=u=>(c,h)=>{var m;const d=Qa(e,h,u==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:A,...C}=d;c={...c,...C,...A}}return c};function r(u){t=u(e)}function a(u){const{props:c}=e,h=lC(e.parent)||{},d=[],m=new Set;let g={},A=1/0;for(let I=0;I<wV;I++){const _=SV[I],v=n[_],w=c[_]!==void 0?c[_]:h[_],N=pu(w),M=_===u?v.isActive:null;M===!1&&(A=I);let z=w===h[_]&&w!==c[_]&&N;if(z&&i&&e.manuallyAnimateOnMount&&(z=!1),v.protectedKeys={...g},!v.isActive&&M===null||!w&&!v.prevProp||Jf(w)||typeof w=="boolean")continue;const E=CV(v.prevProp,w);let y=E||_===u&&v.isActive&&!z&&N||I>A&&N,T=!1;const x=Array.isArray(w)?w:[w];let D=x.reduce(s(_),{});M===!1&&(D={});const{prevResolvedValues:k={}}=v,R={...k,...D},ce=K=>{y=!0,m.has(K)&&(T=!0,m.delete(K)),v.needsAnimating[K]=!0;const U=e.getValue(K);U&&(U.liveStyle=!1)};for(const K in R){const U=D[K],nt=k[K];if(g.hasOwnProperty(K))continue;let St=!1;ag(U)&&ag(nt)?St=!uC(U,nt):St=U!==nt,St?U!=null?ce(K):m.add(K):U!==void 0&&m.has(K)?ce(K):v.protectedKeys[K]=!0}v.prevProp=w,v.prevResolvedValues=D,v.isActive&&(g={...g,...D}),i&&e.blockInitialAnimation&&(y=!1);const te=z&&E;y&&(!te||T)&&d.push(...x.map(K=>{const U={type:_};if(typeof K=="string"&&i&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:nt}=e,St=Qa(nt,K);if(nt.enteringChildren&&St){const{delayChildren:Ze}=St.transition||{};U.delay=kx(nt.enteringChildren,e,Ze)}}return{animation:K,options:U}}))}if(m.size){const I={};if(typeof c.initial!="boolean"){const _=Qa(e,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(I.transition=_.transition)}m.forEach(_=>{const v=e.getBaseTarget(_),w=e.getValue(_);w&&(w.liveStyle=!0),I[_]=v??null}),d.push({animation:I})}let C=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(d):Promise.resolve()}function o(u,c){var d;if(n[u].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const h=a(u);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=tT()}}}function CV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uC(t,e):!1}function gr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tT(){return{animate:gr(!0),whileInView:gr(),whileHover:gr(),whileTap:gr(),whileDrag:gr(),whileFocus:gr(),exit:gr()}}const cC=1e-4,RV=1-cC,IV=1+cC,hC=.01,DV=0-hC,NV=0+hC;function ln(e){return e.max-e.min}function kV(e,t,n){return Math.abs(e-t)<=n}function eT(e,t,n,i=.5){e.origin=i,e.originPoint=Zt(t.min,t.max,e.origin),e.scale=ln(n)/ln(t),e.translate=Zt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RV&&e.scale<=IV||isNaN(e.scale))&&(e.scale=1),(e.translate>=DV&&e.translate<=NV||isNaN(e.translate))&&(e.translate=0)}function Bl(e,t,n,i){eT(e.x,t.x,n.x,i?i.originX:void 0),eT(e.y,t.y,n.y,i?i.originY:void 0)}function nT(e,t,n){e.min=n.min+t.min,e.max=e.min+ln(t)}function OV(e,t,n){nT(e.x,t.x,n.x),nT(e.y,t.y,n.y)}function iT(e,t,n){e.min=t.min-n.min,e.max=e.min+ln(t)}function uf(e,t,n){iT(e.x,t.x,n.x),iT(e.y,t.y,n.y)}function sT(e,t,n,i,s){return e-=t,e=lf(e,1/n,i),s!==void 0&&(e=lf(e,1/s,i)),e}function MV(e,t=0,n=1,i=.5,s,r=e,a=e){if(hi.test(t)&&(t=parseFloat(t),t=Zt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Zt(r.min,r.max,i);e===r&&(o-=t),e.min=sT(e.min,t,n,o,s),e.max=sT(e.max,t,n,o,s)}function rT(e,t,[n,i,s],r,a){MV(e,t[n],t[i],t[s],t.scale,r,a)}const VV=["x","scaleX","originX"],PV=["y","scaleY","originY"];function aT(e,t,n,i){rT(e.x,t,VV,n?n.x:void 0,i?i.x:void 0),rT(e.y,t,PV,n?n.y:void 0,i?i.y:void 0)}function oT(e,t){e.min=t.min,e.max=t.max}function Wn(e,t){oT(e.x,t.x),oT(e.y,t.y)}function lT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uT(e){return e.translate===0&&e.scale===1}function fC(e){return uT(e.x)&&uT(e.y)}function cT(e,t){return e.min===t.min&&e.max===t.max}function LV(e,t){return cT(e.x,t.x)&&cT(e.y,t.y)}function hT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dC(e,t){return hT(e.x,t.x)&&hT(e.y,t.y)}function fT(e){return ln(e.x)/ln(e.y)}function dT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Nn(e){return[e("x"),e("y")]}function jV(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:g,skewY:A}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),A&&(i+=`skewY(${A}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(i+=`scale(${o}, ${u})`),i||"none"}const mC=["TopLeft","TopRight","BottomLeft","BottomRight"],UV=mC.length,mT=e=>typeof e=="string"?parseFloat(e):e,pT=e=>typeof e=="number"||X.test(e);function zV(e,t,n,i,s,r){s?(e.opacity=Zt(0,n.opacity??1,BV(i)),e.opacityExit=Zt(t.opacity??1,0,FV(i))):r&&(e.opacity=Zt(t.opacity??1,n.opacity??1,i));for(let a=0;a<UV;a++){const o=`border${mC[a]}Radius`;let u=gT(t,o),c=gT(n,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||pT(u)===pT(c)?(e[o]=Math.max(Zt(mT(u),mT(c),i),0),(hi.test(c)||hi.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=Zt(t.rotate||0,n.rotate||0,i))}function gT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BV=pC(0,.5,ox),FV=pC(.5,.95,Gn);function pC(e,t,n){return i=>i<e?0:i>t?1:n(fu(e,t,i))}function HV(e,t){const n=on.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(Qi(i),e(r-t))};return Gt.setup(i,!0),()=>Qi(i)}function gu(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function ph(e){return He(e)?e.get():e}function GV(e,t,n){const i=He(e)?e:Br(e);return i.start(c0("",i,t,n)),i.animation}const qV=(e,t)=>e.depth-t.depth;class KV{constructor(){this.children=[],this.isDirty=!1}add(t){Yy(this.children,t),this.isDirty=!0}remove(t){$y(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qV),this.isDirty=!1,this.children.forEach(t)}}class YV{constructor(){this.members=[]}add(t){Yy(this.members,t),t.scheduleRender()}remove(t){if($y(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Am=["","X","Y","Z"],$V=1e3;let XV=0;function xm(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function gC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Vx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&gC(i)}function yC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=XV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JV),this.nodes.forEach(n4),this.nodes.forEach(i4),this.nodes.forEach(ZV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new KV)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Wy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Yx(a)&&!QM(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{d=window.innerWidth}),e(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=HV(m,250),gh.hasAnimatedSinceResize&&(gh.hasAnimatedSinceResize=!1,this.nodes.forEach(_T)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||c.getDefaultTransition()||l4,{onLayoutAnimationStart:C,onLayoutAnimationComplete:I}=c.getProps(),_=!this.targetLayout||!dC(this.targetLayout,g),v=!d&&m;if(this.options.layoutRoot||this.resumeFrom||v||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...u0(A,"layout"),onPlay:C,onComplete:I};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,v)}else d||_T(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(e4),this.nodes.forEach(QV),this.nodes.forEach(WV)):this.nodes.forEach(vT),this.clearAllSnapshots();const o=on.now();Pe.delta=yi(0,1e3/60,o-Pe.timestamp),Pe.timestamp=o,Pe.isProcessing=!0,ym.update.process(Pe),ym.preRender.process(Pe),ym.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t4),this.sharedNodes.forEach(r4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fC(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Er(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),u4(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Ee();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(c4))){const{scroll:h}=this.root;h&&(Ba(o.x,h.offset.x),Ba(o.y,h.offset.y))}return o}removeElementScroll(a){var u;const o=Ee();if(Wn(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Wn(o,a),Ba(o.x,d.offset.x),Ba(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const u=Ee();Wn(u,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Fa(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Er(h.latestValues)&&Fa(u,h.latestValues)}return Er(this.latestValues)&&Fa(u,this.latestValues),u}removeTransform(a){const o=Ee();Wn(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Er(c.latestValues))continue;hg(c.latestValues)&&c.updateSnapshot();const h=Ee(),d=c.measurePageBox();Wn(h,d),aT(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Er(this.latestValues)&&aT(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Pe.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),tC(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hg(this.parent.latestValues)||Zx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),uf(this.relativeTargetOrigin,o,u),Wn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Wn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;lV(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ee());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lT(this.prevProjectionDelta.x,this.projectionDelta.x),lT(this.prevProjectionDelta.y,this.projectionDelta.y)),Bl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!dT(this.projectionDelta.x,this.prevProjectionDelta.x)||!dT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=za(),this.projectionDelta=za(),this.projectionDeltaWithTransform=za()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},d=za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Ee(),g=u?u.source:void 0,A=this.layout?this.layout.source:void 0,C=g!==A,I=this.getStack(),_=!I||I.members.length<=1,v=!!(C&&!_&&this.options.crossfade===!0&&!this.path.some(o4));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const M=N/1e3;bT(d.x,a.x,M),bT(d.y,a.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a4(this.relativeTarget,this.relativeTargetOrigin,m,M),w&&LV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ee()),Wn(w,this.relativeTarget)),C&&(this.animationValues=h,zV(h,c,this.latestValues,M,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{gh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Br(0)),this.currentAnimation=GV(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($V),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:h}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&vC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ee();const d=ln(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+d;const m=ln(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}Wn(o,u),Fa(o,h),Bl(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new YV),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&xm("z",a,c,this.animationValues);for(let h=0;h<Am.length;h++)xm(`rotate${Am[h]}`,a,c,this.animationValues),xm(`skew${Am[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ph(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ph(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Er(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=jV(this.projectionDeltaWithTransform,this.treeScale,h);u&&(d=u(h,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const A in dg){if(h[A]===void 0)continue;const{correct:C,applyTo:I,isCSSVariable:_}=dg[A],v=d==="none"?h[A]:C(h[A],c);if(I){const w=I.length;for(let N=0;N<w;N++)a[I[N]]=v}else _?this.options.visualElement.renderState.vars[A]=v:a[A]=v}this.options.layoutId&&(a.pointerEvents=c===this?ph(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(yT),this.root.sharedNodes.clear()}}}function QV(e){e.updateLayout()}function WV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?Nn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=ln(m);m.min=i[d].min,m.max=m.min+g}):vC(r,t.layoutBox,i)&&Nn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=ln(i[d]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const o=za();Bl(o,i,t.layoutBox);const u=za();a?Bl(u,e.applyTransform(s,!0),t.measuredBox):Bl(u,i,t.layoutBox);const c=!fC(o);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const A=Ee();uf(A,t.layoutBox,m.layoutBox);const C=Ee();uf(C,i,g.layoutBox),dC(A,C)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=A,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function JV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function t4(e){e.clearSnapshot()}function yT(e){e.clearMeasurements()}function vT(e){e.isLayoutDirty=!1}function e4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _T(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n4(e){e.resolveTargetDelta()}function i4(e){e.calcProjection()}function s4(e){e.resetSkewAndRotation()}function r4(e){e.removeLeadSnapshot()}function bT(e,t,n){e.translate=Zt(t.translate,0,n),e.scale=Zt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function TT(e,t,n,i){e.min=Zt(t.min,n.min,i),e.max=Zt(t.max,n.max,i)}function a4(e,t,n,i){TT(e.x,t.x,n.x,i),TT(e.y,t.y,n.y,i)}function o4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const l4={duration:.45,ease:[.4,0,.1,1]},ET=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ST=ET("applewebkit/")&&!ET("chrome/")?Math.round:Gn;function wT(e){e.min=ST(e.min),e.max=ST(e.max)}function u4(e){wT(e.x),wT(e.y)}function vC(e,t,n){return e==="position"||e==="preserve-aspect"&&!kV(fT(t),fT(n),.2)}function c4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const h4=yC({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cm={current:void 0},_C=yC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cm.current){const e=new h4({});e.mount(window),e.setOptions({layoutScroll:!0}),Cm.current=e}return Cm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),td=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function AT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function f4(...e){return t=>{let n=!1;const i=e.map(s=>{const r=AT(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():AT(e[s],null)}}}}function d4(...e){return P.useCallback(f4(...e),e)}class m4 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=Fx(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p4({children:e,isPresent:t,anchorX:n,root:i}){var h;const s=P.useId(),r=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=P.useContext(td),u=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),c=d4(r,u);return P.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:A,right:C}=a.current;if(t||!r.current||!d||!m)return;const I=n==="left"?`left: ${A}`:`right: ${C}`;r.current.dataset.motionPopId=s;const _=document.createElement("style");o&&(_.nonce=o);const v=i??document.head;return v.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${I}px !important;
            top: ${g}px !important;
          }
        `),()=>{v.contains(_)&&v.removeChild(_)}},[t]),S.jsx(m4,{isPresent:t,childRef:r,sizeRef:a,children:P.cloneElement(e,{ref:c})})}const g4=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a,anchorX:o,root:u})=>{const c=Zr(y4),h=P.useId();let d=!0,m=P.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const A of c.values())if(!A)return;i&&i()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,i]);return r&&d&&(m={...m}),P.useMemo(()=>{c.forEach((g,A)=>c.set(A,!1))},[n]),P.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),a==="popLayout"&&(e=S.jsx(p4,{isPresent:n,anchorX:o,root:u,children:e})),S.jsx(Wf.Provider,{value:m,children:e})};function y4(){return new Map}function bC(e=!0){const t=P.useContext(Wf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=P.useId();P.useEffect(()=>{if(e)return s(r)},[e]);const a=P.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,a]:[!0]}const Uc=e=>e.key||"";function xT(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const us=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,h]=bC(a),d=P.useMemo(()=>xT(e),[e]),m=a&&!c?[]:d.map(Uc),g=P.useRef(!0),A=P.useRef(d),C=Zr(()=>new Map),I=P.useRef(new Set),[_,v]=P.useState(d),[w,N]=P.useState(d);Ky(()=>{g.current=!1,A.current=d;for(let E=0;E<w.length;E++){const y=Uc(w[E]);m.includes(y)?(C.delete(y),I.current.delete(y)):C.get(y)!==!0&&C.set(y,!1)}},[w,m.length,m.join("-")]);const M=[];if(d!==_){let E=[...d];for(let y=0;y<w.length;y++){const T=w[y],x=Uc(T);m.includes(x)||(E.splice(y,0,T),M.push(T))}return r==="wait"&&M.length&&(E=M),N(xT(E)),v(d),null}const{forceRender:z}=P.useContext(qy);return S.jsx(S.Fragment,{children:w.map(E=>{const y=Uc(E),T=a&&!c?!1:d===w||m.includes(y),x=()=>{if(I.current.has(y))return;if(I.current.add(y),C.has(y))C.set(y,!0);else return;let D=!0;C.forEach(k=>{k||(D=!1)}),D&&(z==null||z(),N(A.current),a&&(h==null||h()),i&&i())};return S.jsx(g4,{isPresent:T,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:u,onExitComplete:T?void 0:x,anchorX:o,children:E},y)})})},TC=P.createContext({strict:!1}),CT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let RT=!1;function v4(){if(RT)return;const e={};for(const t in CT)e[t]={isEnabled:n=>CT[t].some(i=>!!n[i])};Qx(e),RT=!0}function EC(){return v4(),sV()}function _4(e){const t=EC();for(const n in e)t[n]={...t[n],...e[n]};Qx(t)}const b4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b4.has(e)}let SC=e=>!cf(e);function T4(e){typeof e=="function"&&(SC=t=>t.startsWith("on")?!cf(t):e(t))}try{T4(require("@emotion/is-prop-valid").default)}catch{}function E4(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(SC(s)||n===!0&&cf(s)||!t&&!cf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const ed=P.createContext({});function S4(e,t){if(Zf(e)){const{initial:n,animate:i}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(i)?i:void 0}}return e.inherit!==!1?t:{}}function w4(e){const{initial:t,animate:n}=S4(e,P.useContext(ed));return P.useMemo(()=>({initial:t,animate:n}),[IT(t),IT(n)])}function IT(e){return Array.isArray(e)?e.join(" "):e}const b0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wC(e,t,n){for(const i in t)!He(t[i])&&!iC(i,n)&&(e[i]=t[i])}function A4({transformTemplate:e},t){return P.useMemo(()=>{const n=b0();return v0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function x4(e,t){const n=e.style||{},i={};return wC(i,n,e),Object.assign(i,A4(e,t)),i}function C4(e,t){const n={},i=x4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const AC=()=>({...b0(),attrs:{}});function R4(e,t,n,i){const s=P.useMemo(()=>{const r=AC();return sC(r,t,aC(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};wC(r,e.style,e),s.style={...r,...s.style}}return s}const I4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T0(e){return typeof e!="string"||e.includes("-")?!1:!!(I4.indexOf(e)>-1||/[A-Z]/u.test(e))}function D4(e,t,n,{latestValues:i},s,r=!1,a){const u=(a??T0(e)?R4:C4)(t,i,s,e),c=E4(t,typeof e=="string",r),h=e!==P.Fragment?{...c,...u,ref:n}:{},{children:d}=t,m=P.useMemo(()=>He(d)?d.get():d,[d]);return P.createElement(e,{...h,children:m})}function N4({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:k4(n,i,s,e),renderState:t()}}function k4(e,t,n,i){const s={},r=i(e,{});for(const m in r)s[m]=ph(r[m]);let{initial:a,animate:o}=e;const u=Zf(e),c=Xx(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!Jf(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const A=h0(e,m[g]);if(A){const{transitionEnd:C,transition:I,..._}=A;for(const v in _){let w=_[v];if(Array.isArray(w)){const N=h?w.length-1:0;w=w[N]}w!==null&&(s[v]=w)}for(const v in C)s[v]=C[v]}}}return s}const xC=e=>(t,n)=>{const i=P.useContext(ed),s=P.useContext(Wf),r=()=>N4(e,t,i,s);return n?r():Zr(r)},O4=xC({scrapeMotionValuesFromProps:_0,createRenderState:b0}),M4=xC({scrapeMotionValuesFromProps:oC,createRenderState:AC}),V4=Symbol.for("motionComponentSymbol");function P4(e,t,n){const i=P.useRef(n);P.useInsertionEffect(()=>{i.current=n});const s=P.useRef(null);return P.useCallback(r=>{var o;r&&((o=e.onMount)==null||o.call(e,r)),t&&(r?t.mount(r):t.unmount());const a=i.current;if(typeof a=="function")if(r){const u=a(r);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):a(r);else a&&(a.current=r)},[t])}const CC=P.createContext({});function vl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L4(e,t,n,i,s,r){var I,_;const{visualElement:a}=P.useContext(ed),o=P.useContext(TC),u=P.useContext(Wf),c=P.useContext(td).reducedMotion,h=P.useRef(null);i=i||o.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c,isSVG:r}));const d=h.current,m=P.useContext(CC);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&j4(h.current,n,s,m);const g=P.useRef(!1);P.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const A=n[Mx],C=P.useRef(!!A&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,A))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,A)));return Ky(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),C.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!C.current&&d.animationState&&d.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,A)}),C.current=!1),d.enteringChildren=void 0)}),d}function j4(e,t,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RC(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&vl(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:u,layoutRoot:c})}function RC(e){if(e)return e.options.allowProjection!==!1?e.projection:RC(e.parent)}function Rm(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&_4(i);const r=n?n==="svg":T0(e),a=r?M4:O4;function o(c,h){let d;const m={...P.useContext(td),...c,layoutId:U4(c)},{isStatic:g}=m,A=w4(c),C=a(c,g);if(!g&&QA){z4();const I=B4(m);d=I.MeasureLayout,A.visualElement=L4(e,C,m,s,I.ProjectionNode,r)}return S.jsxs(ed.Provider,{value:A,children:[d&&A.visualElement?S.jsx(d,{visualElement:A.visualElement,...m}):null,D4(e,c,P4(C,A.visualElement,h),C,g,t,r)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=P.forwardRef(o);return u[V4]=e,u}function U4({layoutId:e}){const t=P.useContext(qy).id;return t&&e!==void 0?t+"-"+e:e}function z4(e,t){P.useContext(TC).strict}function B4(e){const t=EC(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(e)||i!=null&&i.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function F4(e,t){if(typeof Proxy>"u")return Rm;const n=new Map,i=(r,a)=>Rm(r,a,e,t),s=(r,a)=>i(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,Rm(a,void 0,e,t)),n.get(a))})}const H4=(e,t)=>t.isSVG??T0(e)?new TV(t):new pV(t,{allowProjection:e!==P.Fragment});class G4 extends ar{constructor(t){super(t),t.animationState||(t.animationState=xV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let q4=0;class K4 extends ar{constructor(){super(...arguments),this.id=q4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Y4={animation:{Feature:G4},exit:{Feature:K4}};function Gu(e){return{point:{x:e.pageX,y:e.pageY}}}const $4=e=>t=>p0(t)&&e(t,Gu(t));function Fl(e,t,n,i){return gu(e,t,$4(n),i)}const IC=({current:e})=>e?e.ownerDocument.defaultView:null,DT=(e,t)=>Math.abs(e-t);function X4(e,t){const n=DT(e.x,t.x),i=DT(e.y,t.y);return Math.sqrt(n**2+i**2)}const NT=new Set(["auto","scroll"]);class DC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Dm(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,C=X4(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!C)return;const{point:I}=g,{timestamp:_}=Pe;this.history.push({...I,timestamp:_});const{onStart:v,onMove:w}=this.handlers;A||(v&&v(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,A)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Im(A,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(g,A)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Dm(g.type==="pointercancel"?this.lastMoveEventInfo:Im(A,this.transformPagePoint),this.history);this.startEvent&&C&&C(g,v),I&&I(g,v)},!p0(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const u=Gu(t),c=Im(u,this.transformPagePoint),{point:h}=c,{timestamp:d}=Pe;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,Dm(c,this.history)),this.removeListeners=Bu(Fl(this.contextWindow,"pointermove",this.handlePointerMove),Fl(this.contextWindow,"pointerup",this.handlePointerUp),Fl(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(NT.has(i.overflowX)||NT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:s.x-n.x,y:s.y-n.y};r.x===0&&r.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,s),Gt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qi(this.updatePoint)}}function Im(e,t){return t?{point:t(e.point)}:e}function kT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dm({point:e},t){return{point:e,delta:kT(e,NC(t)),offset:kT(e,Q4(t)),velocity:W4(t,.1)}}function Q4(e){return e[0]}function NC(e){return e[e.length-1]}function W4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=NC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Fi(t)));)n--;if(!i)return{x:0,y:0};const r=Bn(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function J4(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Zt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Zt(n,e,i.max):Math.min(e,n)),e}function OT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Z4(e,{top:t,left:n,bottom:i,right:s}){return{x:OT(e.x,n,s),y:OT(e.y,t,i)}}function MT(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function t3(e,t){return{x:MT(e.x,t.x),y:MT(e.y,t.y)}}function e3(e,t){let n=.5;const i=ln(e),s=ln(t);return s>i?n=fu(t.min,t.max-i,e.min):i>s&&(n=fu(e.min,e.max-s,t.min)),yi(0,1,n)}function n3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const mg=.35;function i3(e=mg){return e===!1?e=0:e===!0&&(e=mg),{x:VT(e,"left","right"),y:VT(e,"top","bottom")}}function VT(e,t,n){return{min:PT(e,t),max:PT(e,n)}}function PT(e,t){return typeof e=="number"?e:e[t]||0}const s3=new WeakMap;class r3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{n?(this.stopAnimation(),this.snapToCursor(Gu(d).point)):this.pauseAnimation()},a=(d,m)=>{this.stopAnimation();const{drag:g,dragPropagation:A,onDragStart:C}=this.getProps();if(g&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qM(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(_=>{let v=this.getAxisMotionValue(_).get()||0;if(hi.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[_];N&&(v=ln(N)*(parseFloat(v)/100))}}this.originPoint[_]=v}),C&&Gt.postRender(()=>C(d,m)),og(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:A,onDirectionLock:C,onDrag:I}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=m;if(A&&this.currentDirection===null){this.currentDirection=a3(_),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),I&&I(d,m)},u=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Nn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new DC(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:IC(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!zc(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=J4(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&vl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Z4(i.layoutBox,t):this.constraints=!1,this.elastic=i3(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Nn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=n3(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=uV(i,s.root,this.visualElement.getTransformPagePoint());let a=t3(s.layout.layoutBox,r);if(n){const o=n(aV(a));this.hasMutatedConstraints=!!o,o&&(a=Jx(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=Nn(h=>{if(!zc(h,n,this.currentDirection))return;let d=u&&u[h]||{};a&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,A={type:"inertia",velocity:i?t[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(h,A)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return og(this.visualElement,t),i.start(c0(t,i,0,n,this.visualElement,!1))}stopAnimation(){Nn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Nn(n=>{const{drag:i}=this.getProps();if(!zc(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],u=r.get()||0;r.set(t[n]-Zt(a,o,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!vl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=e3({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(a=>{if(!zc(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(Zt(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;s3.set(this.visualElement,this);const t=this.visualElement.current,n=Fl(t,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&!Kx(u.target)&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();vl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gt.read(i);const a=gu(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=mg,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function zc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function a3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class o3 extends ar{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new r3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const LT=e=>(t,n)=>{e&&Gt.postRender(()=>e(t,n))};class l3 extends ar{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new DC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:LT(t),onStart:LT(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Gt.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Fl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Nm=!1;class u3 extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),Nm&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,Nm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||Gt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),m0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;Nm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kC(e){const[t,n]=bC(),i=P.useContext(qy);return S.jsx(u3,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(CC),isPresent:t,safeToRemove:n})}const c3={pan:{Feature:l3},drag:{Feature:o3,ProjectionNode:_C,MeasureLayout:kC}};function jT(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Gt.postRender(()=>r(t,Gu(t)))}class h3 extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=KM(t,(n,i)=>(jT(this.node,i,"Start"),s=>jT(this.node,s,"End"))))}unmount(){}}class f3 extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UT(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Gt.postRender(()=>r(t,Gu(t)))}class d3 extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=XM(t,(n,i)=>(UT(this.node,i,"Start"),(s,{success:r})=>UT(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pg=new WeakMap,km=new WeakMap,m3=e=>{const t=pg.get(e.target);t&&t(e)},p3=e=>{e.forEach(m3)};function g3({root:e,...t}){const n=e||document;km.has(n)||km.set(n,{});const i=km.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(p3,{root:e,...t})),i[s]}function y3(e,t,n){const i=g3(t);return pg.set(e,n),i.observe(e),()=>{pg.delete(e),i.unobserve(e)}}const v3={some:0,all:1};class _3 extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:v3[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(u)};return y3(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(b3(t,n))&&this.startObserver()}unmount(){}}function b3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const T3={inView:{Feature:_3},tap:{Feature:d3},focus:{Feature:f3},hover:{Feature:h3}},E3={layout:{ProjectionNode:_C,MeasureLayout:kC}},S3={...Y4,...T3,...c3,...E3},sn=F4(S3,H4);function OC(e){const t=Zr(()=>Br(e)),{isStatic:n}=P.useContext(td);if(n){const[,i]=P.useState(e);P.useEffect(()=>t.on("change",i),[])}return t}function MC(e,t){const n=OC(t()),i=()=>n.set(t());return i(),Ky(()=>{const s=()=>Gt.preRender(i,!1,!0),r=e.map(a=>a.on("change",s));return()=>{r.forEach(a=>a()),Qi(i)}}),n}function w3(e){zl.current=[],e();const t=MC(zl.current,e);return zl.current=void 0,t}function A3(e,t,n,i){if(typeof e=="function")return w3(e);const r=typeof t=="function"?t:WM(t,n,i);return Array.isArray(e)?zT(e,r):zT([e],([a])=>r(a))}function zT(e,t){const n=Zr(()=>[]);return MC(e,()=>{n.length=0;const i=e.length;for(let s=0;s<i;s++)n[s]=e[s].get();return t(n)})}const VC=P.createContext(null);function x3(e,t,n,i){if(!i)return e;const s=e.findIndex(h=>h.value===t);if(s===-1)return e;const r=i>0?1:-1,a=e[s+r];if(!a)return e;const o=e[s],u=a.layout,c=Zt(u.min,u.max,.5);return r===1&&o.layout.max+n>c||r===-1&&o.layout.min+n<c?Fk(e,s,s+r):e}function C3({children:e,as:t="ul",axis:n="y",onReorder:i,values:s,...r},a){const o=Zr(()=>sn[t]),u=[],c=P.useRef(!1),h=P.useRef(null),d={axis:n,groupRef:h,registerItem:(A,C)=>{const I=u.findIndex(_=>A===_.value);I!==-1?u[I].layout=C[n]:u.push({value:A,layout:C[n]}),u.sort(D3)},updateOrder:(A,C,I)=>{if(c.current)return;const _=x3(u,A,C,I);u!==_&&(c.current=!0,i(_.map(I3).filter(v=>s.indexOf(v)!==-1)))}};P.useEffect(()=>{c.current=!1});const m=A=>{h.current=A,typeof a=="function"?a(A):a&&(a.current=A)},g={overflowAnchor:"none",...r.style};return S.jsx(o,{...r,style:g,ref:m,ignoreStrict:!0,children:S.jsx(VC.Provider,{value:d,children:e})})}const R3=P.forwardRef(C3);function I3(e){return e.value}function D3(e,t){return e.layout.min-t.layout.min}const Bc=50,BT=25,N3=new Set(["auto","scroll"]),Hl=new WeakMap,Gl=new WeakMap;let _l=null;function k3(){if(_l){const e=gg(_l,"y");e&&(Gl.delete(e),Hl.delete(e));const t=gg(_l,"x");t&&t!==e&&(Gl.delete(t),Hl.delete(t)),_l=null}}function O3(e,t){const n=getComputedStyle(e),i=t==="x"?n.overflowX:n.overflowY;return N3.has(i)}function gg(e,t){let n=e==null?void 0:e.parentElement;for(;n;){if(O3(n,t))return n;n=n.parentElement}return null}function M3(e,t,n){const i=t.getBoundingClientRect(),s=n==="x"?i.left:i.top,r=n==="x"?i.right:i.bottom,a=e-s,o=r-e;if(a<Bc){const u=1-a/Bc;return{amount:-BT*u*u,edge:"start"}}else if(o<Bc){const u=1-o/Bc;return{amount:BT*u*u,edge:"end"}}return{amount:0,edge:null}}function V3(e,t,n,i){if(!e)return;_l=e;const s=gg(e,n);if(!s)return;const{amount:r,edge:a}=M3(t,s,n);if(a===null){Gl.delete(s),Hl.delete(s);return}if(Gl.get(s)!==a){if(!(a==="start"&&i<0||a==="end"&&i>0))return;Gl.set(s,a);const c=n==="x"?s.scrollWidth-s.clientWidth:s.scrollHeight-s.clientHeight;Hl.set(s,c)}if(r>0){const u=Hl.get(s);if((n==="x"?s.scrollLeft:s.scrollTop)>=u)return}n==="x"?s.scrollLeft+=r:s.scrollTop+=r}function FT(e,t=0){return He(e)?e:OC(t)}function P3({children:e,style:t={},value:n,as:i="li",onDrag:s,onDragEnd:r,layout:a=!0,...o},u){const c=Zr(()=>sn[i]),h=P.useContext(VC),d={x:FT(t.x),y:FT(t.y)},m=A3([d.x,d.y],([_,v])=>_||v?1:"unset"),{axis:g,registerItem:A,updateOrder:C,groupRef:I}=h;return S.jsx(c,{drag:g,...o,dragSnapToOrigin:!0,style:{...t,x:d.x,y:d.y,zIndex:m},layout:a,onDrag:(_,v)=>{const{velocity:w,point:N}=v,M=d[g].get();C(n,M,w[g]),V3(I.current,N[g],g,w[g]),s&&s(_,v)},onDragEnd:(_,v)=>{k3(),r&&r(_,v)},onLayoutMeasure:_=>{A(n,_)},ref:u,ignoreStrict:!0,children:e})}const L3=P.forwardRef(P3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),HT=e=>{const t=U3(e);return t.charAt(0).toUpperCase()+t.slice(1)},PC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),z3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...o},u)=>P.createElement("svg",{ref:u,...B3,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:PC("lucide",s),...!r&&!z3(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,h])=>P.createElement(c,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(e,t)=>{const n=P.forwardRef(({className:i,...s},r)=>P.createElement(F3,{ref:r,iconNode:t,className:PC(`lucide-${j3(HT(e))}`,`lucide-${e}`,i),...s}));return n.displayName=HT(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Om=qt("calendar",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mm=qt("check",G3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K3=qt("chevron-down",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$3=qt("chevron-left",Y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q3=qt("chevron-right",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J3=qt("chevron-up",W3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GT=qt("circle-alert",Z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ll=qt("circle-check",tP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vm=qt("circle",eP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qT=qt("copy",nP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sP=qt("file-text",iP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],aP=qt("grip-vertical",rP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KT=qt("history",oP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],uP=qt("languages",lP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],hP=qt("layout-grid",cP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],YT=qt("loader-circle",fP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mP=qt("log-out",dP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gP=qt("moon",pP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$T=qt("pen-line",yP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XT=qt("plus",vP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pm=qt("refresh-cw",_P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TP=qt("sun",bP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SP=qt("trash-2",EP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],AP=qt("user",wP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lm=qt("x",xP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fc=qt("zap",CP);function LC(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=LC(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function RP(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=LC(e))&&(i&&(i+=" "),i+=t);return i}const IP=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},DP=(e,t)=>({classGroupId:e,validator:t}),jC=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),hf="-",QT=[],NP="arbitrary..",kP=e=>{const t=MP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return OP(a);const o=a.split(hf),u=o[0]===""&&o.length>1?1:0;return UC(o,u,t)},getConflictingClassGroupIds:(a,o)=>{if(o){const u=i[a],c=n[a];return u?c?IP(c,u):u:c||QT}return n[a]||QT}}},UC=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],r=n.nextPart.get(s);if(r){const c=UC(e,t+1,r);if(c)return c}const a=n.validators;if(a===null)return;const o=t===0?e.join(hf):e.slice(t).join(hf),u=a.length;for(let c=0;c<u;c++){const h=a[c];if(h.validator(o))return h.classGroupId}},OP=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?NP+i:void 0})(),MP=e=>{const{theme:t,classGroups:n}=e;return VP(n,t)},VP=(e,t)=>{const n=jC();for(const i in e){const s=e[i];E0(s,n,i,t)}return n},E0=(e,t,n,i)=>{const s=e.length;for(let r=0;r<s;r++){const a=e[r];PP(a,t,n,i)}},PP=(e,t,n,i)=>{if(typeof e=="string"){LP(e,t,n);return}if(typeof e=="function"){jP(e,t,n,i);return}UP(e,t,n,i)},LP=(e,t,n)=>{const i=e===""?t:zC(t,e);i.classGroupId=n},jP=(e,t,n,i)=>{if(zP(e)){E0(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(DP(n,e))},UP=(e,t,n,i)=>{const s=Object.entries(e),r=s.length;for(let a=0;a<r;a++){const[o,u]=s[a];E0(u,zC(t,o),n,i)}},zC=(e,t)=>{let n=e;const i=t.split(hf),s=i.length;for(let r=0;r<s;r++){const a=i[r];let o=n.nextPart.get(a);o||(o=jC(),n.nextPart.set(a,o)),n=o}return n},zP=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,BP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(r,a)=>{n[r]=a,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(r){let a=n[r];if(a!==void 0)return a;if((a=i[r])!==void 0)return s(r,a),a},set(r,a){r in n?n[r]=a:s(r,a)}}},yg="!",WT=":",FP=[],JT=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),HP=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const r=[];let a=0,o=0,u=0,c;const h=s.length;for(let C=0;C<h;C++){const I=s[C];if(a===0&&o===0){if(I===WT){r.push(s.slice(u,C)),u=C+1;continue}if(I==="/"){c=C;continue}}I==="["?a++:I==="]"?a--:I==="("?o++:I===")"&&o--}const d=r.length===0?s:s.slice(u);let m=d,g=!1;d.endsWith(yg)?(m=d.slice(0,-1),g=!0):d.startsWith(yg)&&(m=d.slice(1),g=!0);const A=c&&c>u?c-u:void 0;return JT(r,g,m,A)};if(t){const s=t+WT,r=i;i=a=>a.startsWith(s)?r(a.slice(s.length)):JT(FP,!1,a,void 0,!0)}if(n){const s=i;i=r=>n({className:r,parseClassName:s})}return i},GP=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let r=0;r<n.length;r++){const a=n[r],o=a[0]==="[",u=t.has(a);o||u?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(a)):s.push(a)}return s.length>0&&(s.sort(),i.push(...s)),i}},qP=e=>({cache:BP(e.cacheSize),parseClassName:HP(e),sortModifiers:GP(e),...kP(e)}),KP=/\s+/,YP=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,a=[],o=e.trim().split(KP);let u="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:d,modifiers:m,hasImportantModifier:g,baseClassName:A,maybePostfixModifierPosition:C}=n(h);if(d){u=h+(u.length>0?" "+u:u);continue}let I=!!C,_=i(I?A.substring(0,C):A);if(!_){if(!I){u=h+(u.length>0?" "+u:u);continue}if(_=i(A),!_){u=h+(u.length>0?" "+u:u);continue}I=!1}const v=m.length===0?"":m.length===1?m[0]:r(m).join(":"),w=g?v+yg:v,N=w+_;if(a.indexOf(N)>-1)continue;a.push(N);const M=s(_,I);for(let z=0;z<M.length;++z){const E=M[z];a.push(w+E)}u=h+(u.length>0?" "+u:u)}return u},$P=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=BC(n))&&(s&&(s+=" "),s+=i);return s},BC=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=BC(e[i]))&&(n&&(n+=" "),n+=t);return n},XP=(e,...t)=>{let n,i,s,r;const a=u=>{const c=t.reduce((h,d)=>d(h),e());return n=qP(c),i=n.cache.get,s=n.cache.set,r=o,o(u)},o=u=>{const c=i(u);if(c)return c;const h=YP(u,n);return s(u,h),h};return r=a,(...u)=>r($P(...u))},QP=[],Te=e=>{const t=n=>n[e]||QP;return t.isThemeGetter=!0,t},FC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WP=/^\d+\/\d+$/,JP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,e6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=e=>WP.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),cs=e=>!!e&&Number.isInteger(Number(e)),jm=e=>e.endsWith("%")&&mt(e.slice(0,-1)),Ii=e=>JP.test(e),i6=()=>!0,s6=e=>ZP.test(e)&&!t6.test(e),GC=()=>!1,r6=e=>e6.test(e),a6=e=>n6.test(e),o6=e=>!Q(e)&&!W(e),l6=e=>Oo(e,YC,GC),Q=e=>FC.test(e),yr=e=>Oo(e,$C,s6),Um=e=>Oo(e,d6,mt),ZT=e=>Oo(e,qC,GC),u6=e=>Oo(e,KC,a6),Hc=e=>Oo(e,XC,r6),W=e=>HC.test(e),ul=e=>Mo(e,$C),c6=e=>Mo(e,m6),tE=e=>Mo(e,qC),h6=e=>Mo(e,YC),f6=e=>Mo(e,KC),Gc=e=>Mo(e,XC,!0),Oo=(e,t,n)=>{const i=FC.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Mo=(e,t,n=!1)=>{const i=HC.exec(e);return i?i[1]?t(i[1]):n:!1},qC=e=>e==="position"||e==="percentage",KC=e=>e==="image"||e==="url",YC=e=>e==="length"||e==="size"||e==="bg-size",$C=e=>e==="length",d6=e=>e==="number",m6=e=>e==="family-name",XC=e=>e==="shadow",p6=()=>{const e=Te("color"),t=Te("font"),n=Te("text"),i=Te("font-weight"),s=Te("tracking"),r=Te("leading"),a=Te("breakpoint"),o=Te("container"),u=Te("spacing"),c=Te("radius"),h=Te("shadow"),d=Te("inset-shadow"),m=Te("text-shadow"),g=Te("drop-shadow"),A=Te("blur"),C=Te("perspective"),I=Te("aspect"),_=Te("ease"),v=Te("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...N(),W,Q],z=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],y=()=>[W,Q,u],T=()=>[va,"full","auto",...y()],x=()=>[cs,"none","subgrid",W,Q],D=()=>["auto",{span:["full",cs,W,Q]},cs,W,Q],k=()=>[cs,"auto",W,Q],R=()=>["auto","min","max","fr",W,Q],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...y()],K=()=>[va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],U=()=>[e,W,Q],nt=()=>[...N(),tE,ZT,{position:[W,Q]}],St=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ze=()=>["auto","cover","contain",h6,l6,{size:[W,Q]}],_e=()=>[jm,ul,yr],gt=()=>["","none","full",c,W,Q],Lt=()=>["",mt,ul,yr],he=()=>["solid","dashed","dotted","double"],or=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Dt=()=>[mt,jm,tE,ZT],lr=()=>["","none",A,W,Q],be=()=>["none",mt,W,Q],tn=()=>["none",mt,W,Q],Oe=()=>[mt,W,Q],cn=()=>[va,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ii],breakpoint:[Ii],color:[i6],container:[Ii],"drop-shadow":[Ii],ease:["in","out","in-out"],font:[o6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ii],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ii],shadow:[Ii],spacing:["px",mt],text:[Ii],"text-shadow":[Ii],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",va,Q,W,I]}],container:["container"],columns:[{columns:[mt,Q,W,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[cs,"auto",W,Q]}],basis:[{basis:[va,"full","auto",o,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,va,"auto","initial","none",Q]}],grow:[{grow:["",mt,W,Q]}],shrink:[{shrink:["",mt,W,Q]}],order:[{order:[cs,"first","last","none",W,Q]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[o,"screen",...K()]}],"min-w":[{"min-w":[o,"screen","none",...K()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,ul,yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,W,Um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jm,Q]}],"font-family":[{font:[c6,Q,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,W,Q]}],"line-clamp":[{"line-clamp":[mt,"none",W,Um]}],leading:[{leading:[r,...y()]}],"list-image":[{"list-image":["none",W,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",W,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",W,yr]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[mt,"auto",W,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:nt()}],"bg-repeat":[{bg:St()}],"bg-size":[{bg:Ze()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cs,W,Q],radial:["",W,Q],conic:[cs,W,Q]},f6,u6]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:gt()}],"rounded-s":[{"rounded-s":gt()}],"rounded-e":[{"rounded-e":gt()}],"rounded-t":[{"rounded-t":gt()}],"rounded-r":[{"rounded-r":gt()}],"rounded-b":[{"rounded-b":gt()}],"rounded-l":[{"rounded-l":gt()}],"rounded-ss":[{"rounded-ss":gt()}],"rounded-se":[{"rounded-se":gt()}],"rounded-ee":[{"rounded-ee":gt()}],"rounded-es":[{"rounded-es":gt()}],"rounded-tl":[{"rounded-tl":gt()}],"rounded-tr":[{"rounded-tr":gt()}],"rounded-br":[{"rounded-br":gt()}],"rounded-bl":[{"rounded-bl":gt()}],"border-w":[{border:Lt()}],"border-w-x":[{"border-x":Lt()}],"border-w-y":[{"border-y":Lt()}],"border-w-s":[{"border-s":Lt()}],"border-w-e":[{"border-e":Lt()}],"border-w-t":[{"border-t":Lt()}],"border-w-r":[{"border-r":Lt()}],"border-w-b":[{"border-b":Lt()}],"border-w-l":[{"border-l":Lt()}],"divide-x":[{"divide-x":Lt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Lt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,W,Q]}],"outline-w":[{outline:["",mt,ul,yr]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",h,Gc,Hc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",d,Gc,Hc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Lt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[mt,yr]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Lt()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,Gc,Hc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[mt,W,Q]}],"mix-blend":[{"mix-blend":[...or(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":or()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Dt()}],"mask-image-linear-to-pos":[{"mask-linear-to":Dt()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":Dt()}],"mask-image-t-to-pos":[{"mask-t-to":Dt()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":Dt()}],"mask-image-r-to-pos":[{"mask-r-to":Dt()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":Dt()}],"mask-image-b-to-pos":[{"mask-b-to":Dt()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":Dt()}],"mask-image-l-to-pos":[{"mask-l-to":Dt()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":Dt()}],"mask-image-x-to-pos":[{"mask-x-to":Dt()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":Dt()}],"mask-image-y-to-pos":[{"mask-y-to":Dt()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[W,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":Dt()}],"mask-image-radial-to-pos":[{"mask-radial-to":Dt()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Dt()}],"mask-image-conic-to-pos":[{"mask-conic-to":Dt()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:nt()}],"mask-repeat":[{mask:St()}],"mask-size":[{mask:Ze()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",W,Q]}],filter:[{filter:["","none",W,Q]}],blur:[{blur:lr()}],brightness:[{brightness:[mt,W,Q]}],contrast:[{contrast:[mt,W,Q]}],"drop-shadow":[{"drop-shadow":["","none",g,Gc,Hc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",mt,W,Q]}],"hue-rotate":[{"hue-rotate":[mt,W,Q]}],invert:[{invert:["",mt,W,Q]}],saturate:[{saturate:[mt,W,Q]}],sepia:[{sepia:["",mt,W,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",W,Q]}],"backdrop-blur":[{"backdrop-blur":lr()}],"backdrop-brightness":[{"backdrop-brightness":[mt,W,Q]}],"backdrop-contrast":[{"backdrop-contrast":[mt,W,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,W,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,W,Q]}],"backdrop-invert":[{"backdrop-invert":["",mt,W,Q]}],"backdrop-opacity":[{"backdrop-opacity":[mt,W,Q]}],"backdrop-saturate":[{"backdrop-saturate":[mt,W,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,W,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",W,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",W,Q]}],ease:[{ease:["linear","initial",_,W,Q]}],delay:[{delay:[mt,W,Q]}],animate:[{animate:["none",v,W,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,W,Q]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:tn()}],"scale-x":[{"scale-x":tn()}],"scale-y":[{"scale-y":tn()}],"scale-z":[{"scale-z":tn()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[W,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:cn()}],"translate-x":[{"translate-x":cn()}],"translate-y":[{"translate-y":cn()}],"translate-z":[{"translate-z":cn()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W,Q]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[mt,ul,yr,Um]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g6=XP(p6),y6=()=>{};var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},v6=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},WC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,h=r>>2,d=(r&3)<<4|o>>4;let m=(o&15)<<2|c>>6,g=c&63;u||(g=64,a||(m=64)),i.push(n[h],n[d],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):v6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||d==null)throw new _6;const m=r<<2|o>>4;if(i.push(m),c!==64){const g=o<<4&240|c>>2;if(i.push(g),d!==64){const A=c<<6&192|d;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b6=function(e){const t=QC(e);return WC.encodeByteArray(t,!0)},ff=function(e){return b6(e).replace(/\./g,"")},JC=function(e){try{return WC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=()=>T6().__FIREBASE_DEFAULTS__,S6=()=>{if(typeof process>"u"||typeof eE>"u")return;const e=eE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},w6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JC(e[1]);return t&&JSON.parse(t)},nd=()=>{try{return y6()||E6()||S6()||w6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZC=e=>{var t,n;return(n=(t=nd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},A6=e=>{const t=ZC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},tR=()=>{var e;return(e=nd())===null||e===void 0?void 0:e.config},eR=e=>{var t;return(t=nd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ff(JSON.stringify(n)),ff(JSON.stringify(a)),""].join(".")}const ql={};function R6(){const e={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?e.emulator.push(t):e.prod.push(t);return e}function I6(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let nE=!1;function iR(e,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||ql[e]===t||ql[e]||nE)return;ql[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=R6().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{nE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=I6(i),g=n("text"),A=document.getElementById(g)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;o(w),h(I,C);const N=c();u(v,_),w.append(v,A,I,N),document.body.appendChild(w)}r?(A.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function N6(){var e;const t=(e=nd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O6(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function M6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V6(){const e=Je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P6(){return!N6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L6(){try{return typeof indexedDB=="object"}catch{return!1}}function j6(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="FirebaseError";class ns extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=U6,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?z6(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ns(s,o,i)}}function z6(e,t){return e.replace(B6,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const B6=/\{\$([^}]+)}/g;function F6(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(iE(r)&&iE(a)){if(!Fr(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function iE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function H6(e,t){const n=new G6(e,t);return n.subscribe.bind(n)}class G6{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");q6(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=zm),s.error===void 0&&(s.error=zm),s.complete===void 0&&(s.complete=zm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q6(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return e&&e._delegate?e._delegate:e}class Hr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new x6;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($6(t))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sr){return this.instances.has(t)}getOptions(t=Sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Y6(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Sr){return this.component?this.component.multipleInstances?t:Sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y6(e){return e===Sr?void 0:e}function $6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new K6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_t||(_t={}));const Q6={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},W6=_t.INFO,J6={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},Z6=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=J6[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class S0{constructor(t){this.name=t,this._logLevel=W6,this._logHandler=Z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...t),this._logHandler(this,_t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...t),this._logHandler(this,_t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...t),this._logHandler(this,_t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...t),this._logHandler(this,_t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...t),this._logHandler(this,_t.ERROR,...t)}}const tL=(e,t)=>t.some(n=>e instanceof n);let sE,rE;function eL(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nL(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sR=new WeakMap,vg=new WeakMap,rR=new WeakMap,Bm=new WeakMap,w0=new WeakMap;function iL(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Us(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&sR.set(n,e)}).catch(()=>{}),w0.set(t,e),t}function sL(e){if(vg.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});vg.set(e,t)}let _g={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return vg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rL(e){_g=e(_g)}function aL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Fm(this),t,...n);return rR.set(i,t.sort?t.sort():[t]),Us(i)}:nL().includes(e)?function(...t){return e.apply(Fm(this),t),Us(sR.get(this))}:function(...t){return Us(e.apply(Fm(this),t))}}function oL(e){return typeof e=="function"?aL(e):(e instanceof IDBTransaction&&sL(e),tL(e,eL())?new Proxy(e,_g):e)}function Us(e){if(e instanceof IDBRequest)return iL(e);if(Bm.has(e))return Bm.get(e);const t=oL(e);return t!==e&&(Bm.set(e,t),w0.set(t,e)),t}const Fm=e=>w0.get(e);function lL(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=Us(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Us(a.result),u.oldVersion,u.newVersion,Us(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const uL=["get","getKey","getAll","getAllKeys","count"],cL=["put","add","delete","clear"],Hm=new Map;function aE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hm.get(t))return Hm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=cL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||uL.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&u.done]))[0]};return Hm.set(t,r),r}rL(e=>({...e,get:(t,n,i)=>aE(t,n)||e.get(t,n,i),has:(t,n)=>!!aE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bg="@firebase/app",oE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new S0("@firebase/app"),dL="@firebase/app-compat",mL="@firebase/analytics-compat",pL="@firebase/analytics",gL="@firebase/app-check-compat",yL="@firebase/app-check",vL="@firebase/auth",_L="@firebase/auth-compat",bL="@firebase/database",TL="@firebase/data-connect",EL="@firebase/database-compat",SL="@firebase/functions",wL="@firebase/functions-compat",AL="@firebase/installations",xL="@firebase/installations-compat",CL="@firebase/messaging",RL="@firebase/messaging-compat",IL="@firebase/performance",DL="@firebase/performance-compat",NL="@firebase/remote-config",kL="@firebase/remote-config-compat",OL="@firebase/storage",ML="@firebase/storage-compat",VL="@firebase/firestore",PL="@firebase/ai",LL="@firebase/firestore-compat",jL="firebase",UL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",zL={[bg]:"fire-core",[dL]:"fire-core-compat",[pL]:"fire-analytics",[mL]:"fire-analytics-compat",[yL]:"fire-app-check",[gL]:"fire-app-check-compat",[vL]:"fire-auth",[_L]:"fire-auth-compat",[bL]:"fire-rtdb",[TL]:"fire-data-connect",[EL]:"fire-rtdb-compat",[SL]:"fire-fn",[wL]:"fire-fn-compat",[AL]:"fire-iid",[xL]:"fire-iid-compat",[CL]:"fire-fcm",[RL]:"fire-fcm-compat",[IL]:"fire-perf",[DL]:"fire-perf-compat",[NL]:"fire-rc",[kL]:"fire-rc-compat",[OL]:"fire-gcs",[ML]:"fire-gcs-compat",[VL]:"fire-fst",[LL]:"fire-fst-compat",[PL]:"fire-vertex","fire-js":"fire-js",[jL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,BL=new Map,Eg=new Map;function lE(e,t){try{e.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mo(e){const t=e.name;if(Eg.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Eg.set(t,e);for(const n of df.values())lE(n,e);for(const n of BL.values())lE(n,e);return!0}function A0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ti(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new qu("app","Firebase",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=UL;function aR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Tg,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw zs.create("bad-app-name",{appName:String(s)});if(n||(n=tR()),!n)throw zs.create("no-options");const r=df.get(s);if(r){if(Fr(n,r.options)&&Fr(i,r.config))return r;throw zs.create("duplicate-app",{appName:s})}const a=new X6(s);for(const u of Eg.values())a.addComponent(u);const o=new HL(n,i,a);return df.set(s,o),o}function oR(e=Tg){const t=df.get(e);if(!t&&e===Tg&&tR())return aR();if(!t)throw zs.create("no-app",{appName:e});return t}function Bs(e,t,n){var i;let s=(i=zL[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${t}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(o.join(" "));return}mo(new Hr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-heartbeat-database",qL=1,yu="firebase-heartbeat-store";let Gm=null;function lR(){return Gm||(Gm=lL(GL,qL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(e=>{throw zs.create("idb-open",{originalErrorMessage:e.message})})),Gm}async function KL(e){try{const n=(await lR()).transaction(yu),i=await n.objectStore(yu).get(uR(e));return await n.done,i}catch(t){if(t instanceof ns)Wi.warn(t.message);else{const n=zs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}async function uE(e,t){try{const i=(await lR()).transaction(yu,"readwrite");await i.objectStore(yu).put(t,uR(e)),await i.done}catch(n){if(n instanceof ns)Wi.warn(n.message);else{const i=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(i.message)}}}function uR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1024,$L=30;class XL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>$L){const a=JL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cE(),{heartbeatsToSend:i,unsentEntries:s}=QL(this._heartbeatsCache.heartbeats),r=ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Wi.warn(n),""}}}function cE(){return new Date().toISOString().substring(0,10)}function QL(e,t=YL){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),hE(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hE(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class WL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L6()?j6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function hE(e){return ff(JSON.stringify({version:2,heartbeats:e})).length}function JL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(e){mo(new Hr("platform-logger",t=>new hL(t),"PRIVATE")),mo(new Hr("heartbeat",t=>new XL(t),"PRIVATE")),Bs(bg,oE,e),Bs(bg,oE,"esm2017"),Bs("fire-js","")}ZL("");var t5="firebase",e5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(t5,e5,"app");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,cR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function T(){}T.prototype=y.prototype,E.D=y.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(x,D,k){for(var R=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)R[ce-2]=arguments[ce];return y.prototype[D].apply(x,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,T){T||(T=0);var x=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)x[D]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(D=0;16>D;++D)x[D]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=E.g[0],T=E.g[1],D=E.g[2];var k=E.g[3],R=y+(k^T&(D^k))+x[0]+3614090360&4294967295;y=T+(R<<7&4294967295|R>>>25),R=k+(D^y&(T^D))+x[1]+3905402710&4294967295,k=y+(R<<12&4294967295|R>>>20),R=D+(T^k&(y^T))+x[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=T+(y^D&(k^y))+x[3]+3250441966&4294967295,T=D+(R<<22&4294967295|R>>>10),R=y+(k^T&(D^k))+x[4]+4118548399&4294967295,y=T+(R<<7&4294967295|R>>>25),R=k+(D^y&(T^D))+x[5]+1200080426&4294967295,k=y+(R<<12&4294967295|R>>>20),R=D+(T^k&(y^T))+x[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=T+(y^D&(k^y))+x[7]+4249261313&4294967295,T=D+(R<<22&4294967295|R>>>10),R=y+(k^T&(D^k))+x[8]+1770035416&4294967295,y=T+(R<<7&4294967295|R>>>25),R=k+(D^y&(T^D))+x[9]+2336552879&4294967295,k=y+(R<<12&4294967295|R>>>20),R=D+(T^k&(y^T))+x[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=T+(y^D&(k^y))+x[11]+2304563134&4294967295,T=D+(R<<22&4294967295|R>>>10),R=y+(k^T&(D^k))+x[12]+1804603682&4294967295,y=T+(R<<7&4294967295|R>>>25),R=k+(D^y&(T^D))+x[13]+4254626195&4294967295,k=y+(R<<12&4294967295|R>>>20),R=D+(T^k&(y^T))+x[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=T+(y^D&(k^y))+x[15]+1236535329&4294967295,T=D+(R<<22&4294967295|R>>>10),R=y+(D^k&(T^D))+x[1]+4129170786&4294967295,y=T+(R<<5&4294967295|R>>>27),R=k+(T^D&(y^T))+x[6]+3225465664&4294967295,k=y+(R<<9&4294967295|R>>>23),R=D+(y^T&(k^y))+x[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=T+(k^y&(D^k))+x[0]+3921069994&4294967295,T=D+(R<<20&4294967295|R>>>12),R=y+(D^k&(T^D))+x[5]+3593408605&4294967295,y=T+(R<<5&4294967295|R>>>27),R=k+(T^D&(y^T))+x[10]+38016083&4294967295,k=y+(R<<9&4294967295|R>>>23),R=D+(y^T&(k^y))+x[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=T+(k^y&(D^k))+x[4]+3889429448&4294967295,T=D+(R<<20&4294967295|R>>>12),R=y+(D^k&(T^D))+x[9]+568446438&4294967295,y=T+(R<<5&4294967295|R>>>27),R=k+(T^D&(y^T))+x[14]+3275163606&4294967295,k=y+(R<<9&4294967295|R>>>23),R=D+(y^T&(k^y))+x[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=T+(k^y&(D^k))+x[8]+1163531501&4294967295,T=D+(R<<20&4294967295|R>>>12),R=y+(D^k&(T^D))+x[13]+2850285829&4294967295,y=T+(R<<5&4294967295|R>>>27),R=k+(T^D&(y^T))+x[2]+4243563512&4294967295,k=y+(R<<9&4294967295|R>>>23),R=D+(y^T&(k^y))+x[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=T+(k^y&(D^k))+x[12]+2368359562&4294967295,T=D+(R<<20&4294967295|R>>>12),R=y+(T^D^k)+x[5]+4294588738&4294967295,y=T+(R<<4&4294967295|R>>>28),R=k+(y^T^D)+x[8]+2272392833&4294967295,k=y+(R<<11&4294967295|R>>>21),R=D+(k^y^T)+x[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=T+(D^k^y)+x[14]+4259657740&4294967295,T=D+(R<<23&4294967295|R>>>9),R=y+(T^D^k)+x[1]+2763975236&4294967295,y=T+(R<<4&4294967295|R>>>28),R=k+(y^T^D)+x[4]+1272893353&4294967295,k=y+(R<<11&4294967295|R>>>21),R=D+(k^y^T)+x[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=T+(D^k^y)+x[10]+3200236656&4294967295,T=D+(R<<23&4294967295|R>>>9),R=y+(T^D^k)+x[13]+681279174&4294967295,y=T+(R<<4&4294967295|R>>>28),R=k+(y^T^D)+x[0]+3936430074&4294967295,k=y+(R<<11&4294967295|R>>>21),R=D+(k^y^T)+x[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=T+(D^k^y)+x[6]+76029189&4294967295,T=D+(R<<23&4294967295|R>>>9),R=y+(T^D^k)+x[9]+3654602809&4294967295,y=T+(R<<4&4294967295|R>>>28),R=k+(y^T^D)+x[12]+3873151461&4294967295,k=y+(R<<11&4294967295|R>>>21),R=D+(k^y^T)+x[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=T+(D^k^y)+x[2]+3299628645&4294967295,T=D+(R<<23&4294967295|R>>>9),R=y+(D^(T|~k))+x[0]+4096336452&4294967295,y=T+(R<<6&4294967295|R>>>26),R=k+(T^(y|~D))+x[7]+1126891415&4294967295,k=y+(R<<10&4294967295|R>>>22),R=D+(y^(k|~T))+x[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=T+(k^(D|~y))+x[5]+4237533241&4294967295,T=D+(R<<21&4294967295|R>>>11),R=y+(D^(T|~k))+x[12]+1700485571&4294967295,y=T+(R<<6&4294967295|R>>>26),R=k+(T^(y|~D))+x[3]+2399980690&4294967295,k=y+(R<<10&4294967295|R>>>22),R=D+(y^(k|~T))+x[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=T+(k^(D|~y))+x[1]+2240044497&4294967295,T=D+(R<<21&4294967295|R>>>11),R=y+(D^(T|~k))+x[8]+1873313359&4294967295,y=T+(R<<6&4294967295|R>>>26),R=k+(T^(y|~D))+x[15]+4264355552&4294967295,k=y+(R<<10&4294967295|R>>>22),R=D+(y^(k|~T))+x[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=T+(k^(D|~y))+x[13]+1309151649&4294967295,T=D+(R<<21&4294967295|R>>>11),R=y+(D^(T|~k))+x[4]+4149444226&4294967295,y=T+(R<<6&4294967295|R>>>26),R=k+(T^(y|~D))+x[11]+3174756917&4294967295,k=y+(R<<10&4294967295|R>>>22),R=D+(y^(k|~T))+x[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=T+(k^(D|~y))+x[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+k&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var T=y-this.blockSize,x=this.B,D=this.h,k=0;k<y;){if(D==0)for(;k<=T;)s(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<y;)if(x[D++]=E.charCodeAt(k++),D==this.blockSize){s(this,x),D=0;break}}else for(;k<y;)if(x[D++]=E[k++],D==this.blockSize){s(this,x),D=0;break}}this.h=D,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var T=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=T&255,T/=256;for(this.u(E),E=Array(16),y=T=0;4>y;++y)for(var x=0;32>x;x+=8)E[T++]=this.g[y]>>>x&255;return E};function r(E,y){var T=o;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=y(E)}function a(E,y){this.h=y;for(var T=[],x=!0,D=E.length-1;0<=D;D--){var k=E[D]|0;x&&k==y||(T[D]=k,x=!1)}this.g=T}var o={};function u(E){return-128<=E&&128>E?r(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return I(c(-E));for(var y=[],T=1,x=0;E>=T;x++)y[x]=E/T|0,T*=4294967296;return new a(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return I(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),x=d,D=0;D<E.length;D+=8){var k=Math.min(8,E.length-D),R=parseInt(E.substring(D,D+k),y);8>k?(k=c(Math.pow(y,k)),x=x.j(k).add(c(R))):(x=x.j(T),x=x.add(c(R)))}return x}var d=u(0),m=u(1),g=u(16777216);e=a.prototype,e.m=function(){if(C(this))return-I(this).m();for(var E=0,y=1,T=0;T<this.g.length;T++){var x=this.i(T);E+=(0<=x?x:4294967296+x)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(C(this))return"-"+I(this).toString(E);for(var y=c(Math.pow(E,6)),T=this,x="";;){var D=N(T,y).g;T=_(T,D.j(y));var k=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=D,A(T))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function C(E){return E.h==-1}e.l=function(E){return E=_(this,E),C(E)?-1:A(E)?0:1};function I(E){for(var y=E.g.length,T=[],x=0;x<y;x++)T[x]=~E.g[x];return new a(T,~E.h).add(m)}e.abs=function(){return C(this)?I(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],x=0,D=0;D<=y;D++){var k=x+(this.i(D)&65535)+(E.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);x=R>>>16,k&=65535,R&=65535,T[D]=R<<16|k}return new a(T,T[T.length-1]&-2147483648?-1:0)};function _(E,y){return E.add(I(y))}e.j=function(E){if(A(this)||A(E))return d;if(C(this))return C(E)?I(this).j(I(E)):I(I(this).j(E));if(C(E))return I(this.j(I(E)));if(0>this.l(g)&&0>E.l(g))return c(this.m()*E.m());for(var y=this.g.length+E.g.length,T=[],x=0;x<2*y;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<E.g.length;D++){var k=this.i(x)>>>16,R=this.i(x)&65535,ce=E.i(D)>>>16,te=E.i(D)&65535;T[2*x+2*D]+=R*te,v(T,2*x+2*D),T[2*x+2*D+1]+=k*te,v(T,2*x+2*D+1),T[2*x+2*D+1]+=R*ce,v(T,2*x+2*D+1),T[2*x+2*D+2]+=k*ce,v(T,2*x+2*D+2)}for(x=0;x<y;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=y;x<2*y;x++)T[x]=0;return new a(T,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function N(E,y){if(A(y))throw Error("division by zero");if(A(E))return new w(d,d);if(C(E))return y=N(I(E),y),new w(I(y.g),I(y.h));if(C(y))return y=N(E,I(y)),new w(I(y.g),y.h);if(30<E.g.length){if(C(E)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,x=y;0>=x.l(E);)T=M(T),x=M(x);var D=z(T,1),k=z(x,1);for(x=z(x,2),T=z(T,2);!A(x);){var R=k.add(x);0>=R.l(E)&&(D=D.add(T),k=R),x=z(x,1),T=z(T,1)}return y=_(E,D.j(y)),new w(D,y)}for(D=d;0<=E.l(y);){for(T=Math.max(1,Math.floor(E.m()/y.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=c(T),R=k.j(y);C(R)||0<R.l(E);)T-=x,k=c(T),R=k.j(y);A(k)&&(k=m),D=D.add(k),E=_(E,R)}return new w(D,E)}e.A=function(E){return N(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],x=0;x<y;x++)T[x]=this.i(x)&E.i(x);return new a(T,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],x=0;x<y;x++)T[x]=this.i(x)|E.i(x);return new a(T,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],x=0;x<y;x++)T[x]=this.i(x)^E.i(x);return new a(T,this.h^E.h)};function M(E){for(var y=E.g.length+1,T=[],x=0;x<y;x++)T[x]=E.i(x)<<1|E.i(x-1)>>>31;return new a(T,E.h)}function z(E,y){var T=y>>5;y%=32;for(var x=E.g.length-T,D=[],k=0;k<x;k++)D[k]=0<y?E.i(k+T)>>>y|E.i(k+T+1)<<32-y:E.i(k+T);return new a(D,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cR=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Fs=a}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hR,bl,fR,yh,Sg,dR,mR,pR;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,p){return l==Array.prototype||l==Object.prototype||(l[f]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var f=0;f<l.length;++f){var p=l[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(l,f){if(f)t:{var p=i;l=l.split(".");for(var b=0;b<l.length-1;b++){var O=l[b];if(!(O in p))break t;p=p[O]}l=l[l.length-1],b=p[l],f=f(b),f!=b&&f!=null&&t(p,l,{configurable:!0,writable:!0,value:f})}}function r(l,f){l instanceof String&&(l+="");var p=0,b=!1,O={next:function(){if(!b&&p<l.length){var V=p++;return{value:f(V,l[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return r(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,p){return l.call.apply(l.bind,arguments)}function d(l,f,p){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function m(l,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(l,f){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function A(l,f){function p(){}p.prototype=f.prototype,l.aa=f.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(b,O,V){for(var q=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)q[Ut-2]=arguments[Ut];return f.prototype[O].apply(b,q)}}function C(l){const f=l.length;if(0<f){const p=Array(f);for(let b=0;b<f;b++)p[b]=l[b];return p}return[]}function I(l,f){for(let p=1;p<arguments.length;p++){const b=arguments[p];if(u(b)){const O=l.length||0,V=b.length||0;l.length=O+V;for(let q=0;q<V;q++)l[O+q]=b[q]}else l.push(b)}}class _{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function z(l,f,p){for(const b in l)f.call(p,l[b],b,l)}function E(l,f){for(const p in l)f.call(void 0,l[p],p,l)}function y(l){const f={};for(const p in l)f[p]=l[p];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let p,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(p in b)l[p]=b[p];for(let V=0;V<T.length;V++)p=T[V],Object.prototype.hasOwnProperty.call(b,p)&&(l[p]=b[p])}}function D(l){var f=1;l=l.split(":");const p=[];for(;0<f&&l.length;)p.push(l.shift()),f--;return l.length&&p.push(l.join(":")),p}function k(l){o.setTimeout(()=>{throw l},0)}function R(){var l=nt;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ce{constructor(){this.h=this.g=null}add(f,p){const b=te.get();b.set(f,p),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new _(()=>new G,l=>l.reset());class G{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let K,U=!1,nt=new ce,St=()=>{const l=o.Promise.resolve(void 0);K=()=>{l.then(Ze)}};var Ze=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(p){k(p)}var f=te;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}U=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return l}();function he(l,f){if(gt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(M){t:{try{N(f.nodeName);var O=!0;break t}catch{}O=!1}O||(f=null)}}else p=="mouseover"?f=l.fromElement:p=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:or[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&he.aa.h.call(this)}}A(he,gt);var or={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),lr=0;function be(l,f,p,b,O){this.listener=l,this.proxy=null,this.src=f,this.type=p,this.capture=!!b,this.ha=O,this.key=++lr,this.da=this.fa=!1}function tn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Oe(l){this.src=l,this.g={},this.h=0}Oe.prototype.add=function(l,f,p,b,O){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var q=ur(l,f,b,O);return-1<q?(f=l[q],p||(f.fa=!1)):(f=new be(f,this.src,V,!!b,O),f.fa=p,l.push(f)),f};function cn(l,f){var p=f.type;if(p in l.g){var b=l.g[p],O=Array.prototype.indexOf.call(b,f,void 0),V;(V=0<=O)&&Array.prototype.splice.call(b,O,1),V&&(tn(f),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ur(l,f,p,b){for(var O=0;O<l.length;++O){var V=l[O];if(!V.da&&V.listener==f&&V.capture==!!p&&V.ha==b)return O}return-1}var sa="closure_lm_"+(1e6*Math.random()|0),ri={};function Fo(l,f,p,b,O){if(Array.isArray(f)){for(var V=0;V<f.length;V++)Fo(l,f[V],p,b,O);return null}return p=Go(p),l&&l[Dt]?l.K(f,p,c(b)?!!b.capture:!1,O):is(l,f,p,!1,b,O)}function is(l,f,p,b,O,V){if(!f)throw Error("Invalid event type");var q=c(O)?!!O.capture:!!O,Ut=wt(l);if(Ut||(l[sa]=Ut=new Oe(l)),p=Ut.add(f,p,b,q,V),p.proxy)return p;if(b=Ho(),p.proxy=b,b.src=l,b.listener=p,l.addEventListener)Lt||(O=q),O===void 0&&(O=!1),l.addEventListener(f.toString(),b,O);else if(l.attachEvent)l.attachEvent(nc(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ho(){function l(p){return f.call(l.src,l.listener,p)}const f=oa;return l}function ra(l,f,p,b,O){if(Array.isArray(f))for(var V=0;V<f.length;V++)ra(l,f[V],p,b,O);else b=c(b)?!!b.capture:!!b,p=Go(p),l&&l[Dt]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],p=ur(V,p,b,O),-1<p&&(tn(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=wt(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ur(f,p,b,O)),(p=-1<l?f[l]:null)&&aa(p))}function aa(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Dt])cn(f.i,l);else{var p=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(p,b,l.capture):f.detachEvent?f.detachEvent(nc(p),b):f.addListener&&f.removeListener&&f.removeListener(b),(p=wt(f))?(cn(p,l),p.h==0&&(p.src=null,f[sa]=null)):tn(l)}}}function nc(l){return l in ri?ri[l]:ri[l]="on"+l}function oa(l,f){if(l.da)l=!0;else{f=new he(f,this);var p=l.listener,b=l.ha||l.src;l.fa&&aa(l),l=p.call(b,f)}return l}function wt(l){return l=l[sa],l instanceof Oe?l:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Go(l){return typeof l=="function"?l:(l[Kn]||(l[Kn]=function(f){return l.handleEvent(f)}),l[Kn])}function ut(){_e.call(this),this.i=new Oe(this),this.M=this,this.F=null}A(ut,_e),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(l,f,p,b){ra(this,l,f,p,b)};function Mt(l,f){var p,b=l.F;if(b)for(p=[];b;b=b.F)p.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new gt(f,l);else if(f instanceof gt)f.target=f.target||l;else{var O=f;f=new gt(b,l),x(f,O)}if(O=!0,p)for(var V=p.length-1;0<=V;V--){var q=f.g=p[V];O=la(q,b,!0,f)&&O}if(q=f.g=l,O=la(q,b,!0,f)&&O,O=la(q,b,!1,f)&&O,p)for(V=0;V<p.length;V++)q=f.g=p[V],O=la(q,b,!1,f)&&O}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var p=l.g[f],b=0;b<p.length;b++)tn(p[b]);delete l.g[f],l.h--}}this.F=null},ut.prototype.K=function(l,f,p,b){return this.i.add(String(l),f,!1,p,b)},ut.prototype.L=function(l,f,p,b){return this.i.add(String(l),f,!0,p,b)};function la(l,f,p,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,V=0;V<f.length;++V){var q=f[V];if(q&&!q.da&&q.capture==p){var Ut=q.listener,Ve=q.ha||q.src;q.fa&&cn(l.i,q),O=Ut.call(Ve,b)!==!1&&O}}return O&&!b.defaultPrevented}function ic(l,f,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:o.setTimeout(l,f||0)}function sc(l){l.g=ic(()=>{l.g=null,l.i&&(l.i=!1,sc(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class bd extends _e{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:sc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(l){_e.call(this),this.h=l,this.g={}}A(cr,_e);var rc=[];function ac(l){z(l.g,function(f,p){this.g.hasOwnProperty(p)&&aa(f)},l),l.g={}}cr.prototype.N=function(){cr.aa.N.call(this),ac(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=o.JSON.stringify,Td=o.JSON.parse,Ed=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function ua(){}ua.prototype.h=null;function Yn(l){return l.h||(l.h=l.i())}function oc(){}var hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ca(){gt.call(this,"d")}A(ca,gt);function B(){gt.call(this,"c")}A(B,gt);var H={},Y=null;function Z(){return Y=Y||new ut}H.La="serverreachability";function ht(l){gt.call(this,H.La,l)}A(ht,gt);function ft(l){const f=Z();Mt(f,new ht(f))}H.STAT_EVENT="statevent";function it(l,f){gt.call(this,H.STAT_EVENT,l),this.stat=f}A(it,gt);function at(l){const f=Z();Mt(f,new it(f,l))}H.Ma="timingevent";function At(l,f){gt.call(this,H.Ma,l),this.size=f}A(At,gt);function Bt(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function Ft(l,f,p,b,O,V){l.info(function(){if(l.g)if(V)for(var q="",Ut=V.split("&"),Ve=0;Ve<Ut.length;Ve++){var Ct=Ut[Ve].split("=");if(1<Ct.length){var Ke=Ct[0];Ct=Ct[1];var Ye=Ke.split("_");q=2<=Ye.length&&Ye[1]=="type"?q+(Ke+"="+Ct+"&"):q+(Ke+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+f+`
`+p+`
`+q})}function Me(l,f,p,b,O,V,q){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+f+`
`+p+`
`+V+" "+q})}function Re(l,f,p,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+lc(l,p)+(b?" "+b:"")})}function $n(l,f){l.info(function(){return"TIMEOUT: "+f})}jt.prototype.info=function(){};function lc(l,f){if(!l.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var b=p[l];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<O.length;q++)O[q]=""}}}}return qo(p)}catch{return f}}var en={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ha;function fa(){}A(fa,ua),fa.prototype.g=function(){return new XMLHttpRequest},fa.prototype.i=function(){return{}},ha=new fa;function rs(l,f,p,b){this.j=l,this.i=f,this.l=p,this.R=b||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var mv={},Sd={};function wd(l,f,p){l.L=1,l.v=fc(Si(f)),l.m=p,l.P=!0,pv(l,null)}function pv(l,f){l.F=Date.now(),uc(l),l.A=Si(l.v);var p=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Iv(p.i,"t",b),l.C=0,p=l.j.J,l.h=new dv,l.g=Yv(l.j,p?f:null,!l.m),0<l.O&&(l.M=new bd(m(l.Y,l,l.g),l.O)),f=l.U,p=l.g,b=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(rc[0]=O.toString()),O=rc);for(var V=0;V<O.length;V++){var q=Fo(p,O[V],b||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ft(),Ft(l.i,l.u,l.A,l.l,l.R,l.m)}rs.prototype.ca=function(l){l=l.target;const f=this.M;f&&wi(l)==3?f.j():this.Y(l)},rs.prototype.Y=function(l){try{if(l==this.g)t:{const Ye=wi(this.g);var f=this.g.Ba();const pa=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Pv(this.g)))){this.J||Ye!=4||f==7||(f==8||0>=pa?ft(3):ft(2)),Ad(this);var p=this.g.Z();this.X=p;e:if(gv(this)){var b=Pv(this.g);l="";var O=b.length,V=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),Ko(this);var q="";break e}this.h.i=new o.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(V&&f==O-1)});b.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,Me(this.i,this.u,this.A,this.l,this.R,Ye,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ve=this.g;if((Ut=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ut)){var Ct=Ut;break e}}Ct=null}if(p=Ct)Re(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xd(this,p);else{this.o=!1,this.s=3,at(12),fr(this),Ko(this);break t}}if(this.P){p=!0;let Xn;for(;!this.J&&this.C<q.length;)if(Xn=AI(this,q),Xn==Sd){Ye==4&&(this.s=4,at(14),p=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==mv){this.s=4,at(15),Re(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else Re(this.i,this.l,Xn,null),xd(this,Xn);if(gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||q.length!=0||this.h.h||(this.s=1,at(16),p=!1),this.o=this.o&&p,!p)Re(this.i,this.l,q,"[Invalid Chunked Response]"),fr(this),Ko(this);else if(0<q.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),kd(Ke),Ke.M=!0,at(11))}}else Re(this.i,this.l,q,null),xd(this,q);Ye==4&&fr(this),this.o&&!this.J&&(Ye==4?Hv(this.j,this):(this.o=!1,uc(this)))}else FI(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),fr(this),Ko(this)}}}catch{}finally{}};function gv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function AI(l,f){var p=l.C,b=f.indexOf(`
`,p);return b==-1?Sd:(p=Number(f.substring(p,b)),isNaN(p)?mv:(b+=1,b+p>f.length?Sd:(f=f.slice(b,b+p),l.C=b+p,f)))}rs.prototype.cancel=function(){this.J=!0,fr(this)};function uc(l){l.S=Date.now()+l.I,yv(l,l.I)}function yv(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Bt(m(l.ba,l),f)}function Ad(l){l.B&&(o.clearTimeout(l.B),l.B=null)}rs.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?($n(this.i,this.A),this.L!=2&&(ft(),at(17)),fr(this),this.s=2,Ko(this)):yv(this,this.S-l)};function Ko(l){l.j.G==0||l.J||Hv(l.j,l)}function fr(l){Ad(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ac(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function xd(l,f){try{var p=l.j;if(p.G!=0&&(p.g==l||Cd(p.h,l))){if(!l.K&&Cd(p.h,l)&&p.G==3){try{var b=p.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)vc(p),gc(p);else break t;Nd(p),at(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Bt(m(p.Za,p),6e3));if(1>=bv(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mr(p,11)}else if((l.K||p.g==l)&&vc(p),!v(f))for(O=p.Da.g.parse(f),f=0;f<O.length;f++){let Ct=O[f];if(p.T=Ct[0],Ct=Ct[1],p.G==2)if(Ct[0]=="c"){p.K=Ct[1],p.ia=Ct[2];const Ke=Ct[3];Ke!=null&&(p.la=Ke,p.j.info("VER="+p.la));const Ye=Ct[4];Ye!=null&&(p.Aa=Ye,p.j.info("SVER="+p.Aa));const pa=Ct[5];pa!=null&&typeof pa=="number"&&0<pa&&(b=1.5*pa,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Xn=l.g;if(Xn){const bc=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var V=b.h;V.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Rd(V,V.h),V.h=null))}if(b.D){const Od=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Od&&(b.ya=Od,Kt(b.I,b.D,Od))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var q=l;if(b.qa=Kv(b,b.J?b.ia:null,b.W),q.K){Tv(b.h,q);var Ut=q,Ve=b.L;Ve&&(Ut.I=Ve),Ut.B&&(Ad(Ut),uc(Ut)),b.g=q}else Bv(b);0<p.i.length&&yc(p)}else Ct[0]!="stop"&&Ct[0]!="close"||mr(p,7);else p.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?mr(p,7):Dd(p):Ct[0]!="noop"&&p.l&&p.l.ta(Ct),p.v=0)}}ft(4)}catch{}}var xI=class{constructor(l,f){this.g=l,this.map=f}};function vv(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function bv(l){return l.h?1:l.g?l.g.size:0}function Cd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Rd(l,f){l.g?l.g.add(f):l.h=f}function Tv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}vv.prototype.cancel=function(){if(this.i=Ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ev(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const p of l.g.values())f=f.concat(p.D);return f}return C(l.i)}function CI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],p=l.length,b=0;b<p;b++)f.push(l[b]);return f}f=[],p=0;for(b in l)f[p++]=l[b];return f}function RI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var p=0;p<l;p++)f.push(p);return f}f=[],p=0;for(const b in l)f[p++]=b;return f}}}function Sv(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var p=RI(l),b=CI(l),O=b.length,V=0;V<O;V++)f.call(void 0,b[V],p&&p[V],l)}var wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function II(l,f){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var b=l[p].indexOf("="),O=null;if(0<=b){var V=l[p].substring(0,b);O=l[p].substring(b+1)}else V=l[p];f(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function dr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof dr){this.h=l.h,cc(this,l.j),this.o=l.o,this.g=l.g,hc(this,l.s),this.l=l.l;var f=l.i,p=new Xo;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),Av(this,p),this.m=l.m}else l&&(f=String(l).match(wv))?(this.h=!1,cc(this,f[1]||"",!0),this.o=Yo(f[2]||""),this.g=Yo(f[3]||"",!0),hc(this,f[4]),this.l=Yo(f[5]||"",!0),Av(this,f[6]||"",!0),this.m=Yo(f[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}dr.prototype.toString=function(){var l=[],f=this.j;f&&l.push($o(f,xv,!0),":");var p=this.g;return(p||f=="file")&&(l.push("//"),(f=this.o)&&l.push($o(f,xv,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push($o(p,p.charAt(0)=="/"?kI:NI,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",$o(p,MI)),l.join("")};function Si(l){return new dr(l)}function cc(l,f,p){l.j=p?Yo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function hc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Av(l,f,p){f instanceof Xo?(l.i=f,VI(l.i,l.h)):(p||(f=$o(f,OI)),l.i=new Xo(f,l.h))}function Kt(l,f,p){l.i.set(f,p)}function fc(l){return Kt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Yo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function $o(l,f,p){return typeof l=="string"?(l=encodeURI(l).replace(f,DI),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function DI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xv=/[#\/\?@]/g,NI=/[#\?:]/g,kI=/[#\?]/g,OI=/[#\?@]/g,MI=/#/g;function Xo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function as(l){l.g||(l.g=new Map,l.h=0,l.i&&II(l.i,function(f,p){l.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}e=Xo.prototype,e.add=function(l,f){as(this),this.i=null,l=da(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(f),this.h+=1,this};function Cv(l,f){as(l),f=da(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Rv(l,f){return as(l),f=da(l,f),l.g.has(f)}e.forEach=function(l,f){as(this),this.g.forEach(function(p,b){p.forEach(function(O){l.call(f,O,b,this)},this)},this)},e.na=function(){as(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let b=0;b<f.length;b++){const O=l[b];for(let V=0;V<O.length;V++)p.push(f[b])}return p},e.V=function(l){as(this);let f=[];if(typeof l=="string")Rv(this,l)&&(f=f.concat(this.g.get(da(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)f=f.concat(l[p])}return f},e.set=function(l,f){return as(this),this.i=null,l=da(this,l),Rv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},e.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Iv(l,f,p){Cv(l,f),0<p.length&&(l.i=null,l.g.set(da(l,f),C(p)),l.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var b=f[p];const V=encodeURIComponent(String(b)),q=this.V(b);for(b=0;b<q.length;b++){var O=V;q[b]!==""&&(O+="="+encodeURIComponent(String(q[b]))),l.push(O)}}return this.i=l.join("&")};function da(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function VI(l,f){f&&!l.j&&(as(l),l.i=null,l.g.forEach(function(p,b){var O=b.toLowerCase();b!=O&&(Cv(this,b),Iv(this,O,p))},l)),l.j=f}function PI(l,f){const p=new jt;if(o.Image){const b=new Image;b.onload=g(os,p,"TestLoadImage: loaded",!0,f,b),b.onerror=g(os,p,"TestLoadImage: error",!1,f,b),b.onabort=g(os,p,"TestLoadImage: abort",!1,f,b),b.ontimeout=g(os,p,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function LI(l,f){const p=new jt,b=new AbortController,O=setTimeout(()=>{b.abort(),os(p,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(V=>{clearTimeout(O),V.ok?os(p,"TestPingServer: ok",!0,f):os(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),os(p,"TestPingServer: error",!1,f)})}function os(l,f,p,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(p)}catch{}}function jI(){this.g=new Ed}function UI(l,f,p){const b=p||"";try{Sv(l,function(O,V){let q=O;c(O)&&(q=qo(O)),f.push(b+V+"="+encodeURIComponent(q))})}catch(O){throw f.push(b+"type="+encodeURIComponent("_badmap")),O}}function dc(l){this.l=l.Ub||null,this.j=l.eb||!1}A(dc,ua),dc.prototype.g=function(){return new mc(this.l,this.j)},dc.prototype.i=function(l){return function(){return l}}({});function mc(l,f){ut.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(mc,ut),e=mc.prototype,e.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Wo(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||o).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Qo(this):Wo(this),this.readyState==3&&Dv(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Qo(this))},e.Qa=function(l){this.g&&(this.response=l,Qo(this))},e.ga=function(){this.g&&Qo(this)};function Qo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wo(l)}e.setRequestHeader=function(l,f){this.u.append(l,f)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=f.next();return l.join(`\r
`)};function Wo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Nv(l){let f="";return z(l,function(p,b){f+=b,f+=":",f+=p,f+=`\r
`}),f}function Id(l,f,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Nv(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Kt(l,f,p))}function ie(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ie,ut);var zI=/^https?$/i,BI=["POST","PUT"];e=ie.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,f,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ha.g(),this.v=this.o?Yn(this.o):Yn(ha),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){kv(this,V);return}if(l=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)p.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())p.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(BI,f,void 0))||b||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of p)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vv(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){kv(this,V)}};function kv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ov(l),pc(l)}function Ov(l){l.A||(l.A=!0,Mt(l,"complete"),Mt(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Mt(this,"complete"),Mt(this,"abort"),pc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),ie.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Mv(this):this.bb())},e.bb=function(){Mv(this)};function Mv(l){if(l.h&&typeof a<"u"&&(!l.v[1]||wi(l)!=4||l.Z()!=2)){if(l.u&&wi(l)==4)ic(l.Ea,0,l);else if(Mt(l,"readystatechange"),wi(l)==4){l.h=!1;try{const q=l.Z();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var b;if(b=q===0){var O=String(l.D).match(wv)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),b=!zI.test(O?O.toLowerCase():"")}p=b}if(p)Mt(l,"complete"),Mt(l,"success");else{l.m=6;try{var V=2<wi(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Ov(l)}}finally{pc(l)}}}}function pc(l,f){if(l.g){Vv(l);const p=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Mt(l,"ready");try{p.onreadystatechange=b}catch{}}}function Vv(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function wi(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Td(f)}};function Pv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(l){const f={};l=(l.g&&2<=wi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var p=D(l[b]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=f[O]||[];f[O]=V,V.push(p)}E(f,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(l,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||f}function Lv(l){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,l),this.cb=Jo("retryDelaySeedMs",1e4,l),this.Wa=Jo("forwardChannelMaxRetries",2,l),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(l&&l.concurrentRequestLimit),this.Da=new jI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Lv.prototype,e.la=8,e.G=1,e.connect=function(l,f,p,b){at(0),this.W=l,this.H=f||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=Kv(this,null,this.W),yc(this)};function Dd(l){if(jv(l),l.G==3){var f=l.U++,p=Si(l.I);if(Kt(p,"SID",l.K),Kt(p,"RID",f),Kt(p,"TYPE","terminate"),Zo(l,p),f=new rs(l,l.j,f),f.L=2,f.v=fc(Si(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.v,p=!0),p||(f.g=Yv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),uc(f)}qv(l)}function gc(l){l.g&&(kd(l),l.g.cancel(),l.g=null)}function jv(l){gc(l),l.u&&(o.clearTimeout(l.u),l.u=null),vc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function yc(l){if(!_v(l.h)&&!l.s){l.s=!0;var f=l.Ga;K||St(),U||(K(),U=!0),nt.add(f,l),l.B=0}}function HI(l,f){return bv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Bt(m(l.Ga,l,f),Gv(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new rs(this,this.j,l);let V=this.o;if(this.S&&(V?(V=y(V),x(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)t:{for(var f=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=p;break t}if(f===4096||p===this.i.length-1){f=p+1;break t}}f=1e3}else f=1e3;f=zv(this,O,f),p=Si(this.I),Kt(p,"RID",l),Kt(p,"CVER",22),this.D&&Kt(p,"X-HTTP-Session-Id",this.D),Zo(this,p),V&&(this.O?f="headers="+encodeURIComponent(String(Nv(V)))+"&"+f:this.m&&Id(p,this.m,V)),Rd(this.h,O),this.Ua&&Kt(p,"TYPE","init"),this.P?(Kt(p,"$req",f),Kt(p,"SID","null"),O.T=!0,wd(O,p,null)):wd(O,p,f),this.G=2}}else this.G==3&&(l?Uv(this,l):this.i.length==0||_v(this.h)||Uv(this))};function Uv(l,f){var p;f?p=f.l:p=l.U++;const b=Si(l.I);Kt(b,"SID",l.K),Kt(b,"RID",p),Kt(b,"AID",l.T),Zo(l,b),l.m&&l.o&&Id(b,l.m,l.o),p=new rs(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),f&&(l.i=f.D.concat(l.i)),f=zv(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Rd(l.h,p),wd(p,b,f)}function Zo(l,f){l.H&&z(l.H,function(p,b){Kt(f,b,p)}),l.l&&Sv({},function(p,b){Kt(f,b,p)})}function zv(l,f,p){p=Math.min(l.i.length,p);var b=l.l?m(l.l.Na,l.l,l):null;t:{var O=l.i;let V=-1;for(;;){const q=["count="+p];V==-1?0<p?(V=O[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let Ut=!0;for(let Ve=0;Ve<p;Ve++){let Ct=O[Ve].g;const Ke=O[Ve].map;if(Ct-=V,0>Ct)V=Math.max(0,O[Ve].g-100),Ut=!1;else try{UI(Ke,q,"req"+Ct+"_")}catch{b&&b(Ke)}}if(Ut){b=q.join("&");break t}}}return l=l.i.splice(0,p),f.D=l,b}function Bv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;K||St(),U||(K(),U=!0),nt.add(f,l),l.v=0}}function Nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Bt(m(l.Fa,l),Gv(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Fv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Bt(m(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),gc(this),Fv(this))};function kd(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Fv(l){l.g=new rs(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Si(l.qa);Kt(f,"RID","rpc"),Kt(f,"SID",l.K),Kt(f,"AID",l.T),Kt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Kt(f,"TO",l.ja),Kt(f,"TYPE","xmlhttp"),Zo(l,f),l.m&&l.o&&Id(f,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=fc(Si(f)),p.m=null,p.P=!0,pv(p,l)}e.Za=function(){this.C!=null&&(this.C=null,gc(this),Nd(this),at(19))};function vc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Hv(l,f){var p=null;if(l.g==f){vc(l),kd(l),l.g=null;var b=2}else if(Cd(l.h,f))p=f.D,Tv(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;b=Z(),Mt(b,new At(b,p)),yc(l)}else Bv(l);else if(O=f.s,O==3||O==0&&0<f.X||!(b==1&&HI(l,f)||b==2&&Nd(l)))switch(p&&0<p.length&&(f=l.h,f.i=f.i.concat(p)),O){case 1:mr(l,5);break;case 4:mr(l,10);break;case 3:mr(l,6);break;default:mr(l,2)}}}function Gv(l,f){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*f}function mr(l,f){if(l.j.info("Error code "+f),f==2){var p=m(l.fb,l),b=l.Xa;const O=!b;b=new dr(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cc(b,"https"),fc(b),O?PI(b.toString(),p):LI(b.toString(),p)}else at(2);l.G=0,l.l&&l.l.sa(f),qv(l),jv(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function qv(l){if(l.G=0,l.ka=[],l.l){const f=Ev(l.h);(f.length!=0||l.i.length!=0)&&(I(l.ka,f),I(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function Kv(l,f,p){var b=p instanceof dr?Si(p):new dr(p);if(b.g!="")f&&(b.g=f+"."+b.g),hc(b,b.s);else{var O=o.location;b=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var V=new dr(null);b&&cc(V,b),f&&(V.g=f),O&&hc(V,O),p&&(V.l=p),b=V}return p=l.D,f=l.ya,p&&f&&Kt(b,p,f),Kt(b,"VER",l.la),Zo(l,b),b}function Yv(l,f,p){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ie(new dc({eb:p})):new ie(l.pa),f.Ha(l.J),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $v(){}e=$v.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function _c(){}_c.prototype.g=function(l,f){return new _n(l,f)};function _n(l,f){ut.call(this),this.g=new Lv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ma(this)}A(_n,ut),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Dd(this.g)},_n.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=qo(l),l=p);f.i.push(new xI(f.Ya++,l)),f.G==3&&yc(f)},_n.prototype.N=function(){this.g.l=null,delete this.j,Dd(this.g),delete this.g,_n.aa.N.call(this)};function Xv(l){ca.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){t:{for(const p in f){l=p;break t}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}A(Xv,ca);function Qv(){B.call(this),this.status=1}A(Qv,B);function ma(l){this.g=l}A(ma,$v),ma.prototype.ua=function(){Mt(this.g,"a")},ma.prototype.ta=function(l){Mt(this.g,new Xv(l))},ma.prototype.sa=function(l){Mt(this.g,new Qv)},ma.prototype.ra=function(){Mt(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,pR=function(){return new _c},mR=function(){return Z()},dR=H,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},en.NO_ERROR=0,en.TIMEOUT=8,en.HTTP_ERROR=6,yh=en,ss.COMPLETE="complete",fR=ss,oc.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,bl=oc,ie.prototype.listenOnce=ie.prototype.L,ie.prototype.getLastError=ie.prototype.Ka,ie.prototype.getLastErrorCode=ie.prototype.Ba,ie.prototype.getStatus=ie.prototype.Z,ie.prototype.getResponseJson=ie.prototype.Oa,ie.prototype.getResponseText=ie.prototype.oa,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Ha,hR=ie}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",mE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new S0("@firebase/firestore");function Sa(){return Gr.logLevel}function $(e,...t){if(Gr.logLevel<=_t.DEBUG){const n=t.map(x0);Gr.debug(`Firestore (${Lo}): ${e}`,...n)}}function Ji(e,...t){if(Gr.logLevel<=_t.ERROR){const n=t.map(x0);Gr.error(`Firestore (${Lo}): ${e}`,...n)}}function Ws(e,...t){if(Gr.logLevel<=_t.WARN){const n=t.map(x0);Gr.warn(`Firestore (${Lo}): ${e}`,...n)}}function x0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,gR(e,i,n)}function gR(e,t,n){let i=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ji(i),new Error(i)}function Nt(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||gR(t,s,i)}function lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class n5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s5{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Nt(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Hs,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Hs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Nt(typeof i.accessToken=="string",31837,{l:i}),new yR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Nt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class r5{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a5{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new r5(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Nt(this.o===void 0,3512);const i=r=>{r.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,$("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=l5(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function pt(e,t){return e<t?-1:e>t?1:0}function wg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return pt(i,s);{const r=vR(),a=u5(r.encode(gE(e,n)),r.encode(gE(t,n)));return a!==0?a:pt(i,s)}}n+=i>65535?2:1}return pt(e.length,t.length)}function gE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function u5(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return pt(e[n],t[n]);return pt(e.length,t.length)}function po(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class ai{constructor(t,n,i){n===void 0?n=0:n>t.length&&et(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&et(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=ai.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return pt(t.length,n.length)}static compareSegments(t,n){const i=ai.isNumericId(t),s=ai.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?ai.extractNumericId(t).compare(ai.extractNumericId(n)):wg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class ee extends ai{construct(t,n,i){return new ee(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new J(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const c5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ai{construct(t,n,i){return new Be(t,n,i)}static isValidIdentifier(t){return c5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new Be([yE])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new J(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new J(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new J(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.path=t}static fromPath(t){return new tt(ee.fromString(t))}static fromName(t){return new tt(ee.fromString(t).popFirst(5))}static empty(){return new tt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(e,t,n){if(!n)throw new J(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function f5(e,t,n,i){if(t===!0&&i===!0)throw new J(F.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vE(e){if(!tt.isDocumentKey(e))throw new J(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _R(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function R0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":et(12329,{type:typeof e})}function Gs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=R0(e);throw new J(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e,t){const n={typeString:e};return t&&(n.value=t),n}function Yu(e,t){if(!_R(e))throw new J(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new J(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=-62135596800,bE=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*bE);return new Xt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<_E)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(t){return this.seconds===t.seconds?pt(this.nanoseconds,t.nanoseconds):pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yu(t,Xt._jsonSchema))return new Xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_E;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:ve("string",Xt._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(t){return new ot(t)}static min(){return new ot(new Xt(0,0))}static max(){return new ot(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function d5(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ot.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Js(s,tt.empty(),t)}function m5(e){return new Js(e.readTime,e.key,vu)}class Js{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Js(ot.min(),tt.empty(),vu)}static max(){return new Js(ot.max(),tt.empty(),vu)}}function p5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=tt.comparator(e.documentKey,t.documentKey),n!==0?n:pt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==g5)throw e;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(s=>s?j.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new j((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let u=0;u<r;u++){const c=u;n(t[c]).next(h=>{a[c]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(t,n){return new j((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function v5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}id.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function sd(e){return e==null}function mf(e){return e===0&&1/e==-1/0}function _5(e){return typeof e=="number"&&Number.isInteger(e)&&!mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="";function b5(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=TE(t)),t=T5(e.get(n),t);return TE(t)}function T5(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case bR:n+="";break;default:n+=r}}return n}function TE(e){return e+bR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ta(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function TR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kc(this.root,t,this.comparator,!0)}}class Kc{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??je.RED,this.left=s??je.EMPTY,this.right=r??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new je(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return je.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw et(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(t){return new SE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class SE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new ei([])}unionWith(t){let n=new xe(Be.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ei(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new ER("Invalid base64 string: "+r):r}}(t);return new qe(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const E5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(e){if(Nt(!!e,39018),typeof e=="string"){let t=0;const n=E5.exec(e);if(Nt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:oe(e.seconds),nanos:oe(e.nanos)}}function oe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function tr(e){return typeof e=="string"?qe.fromBase64String(e):qe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="server_timestamp",wR="__type__",AR="__previous_value__",xR="__local_write_time__";function D0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[wR])===null||n===void 0?void 0:n.stringValue)===SR}function rd(e){const t=e.mapValue.fields[AR];return D0(t)?rd(t):t}function _u(e){const t=Zs(e.mapValue.fields[xR].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(t,n,i,s,r,a,o,u,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const pf="(default)";class bu{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="__type__",w5="__max__",Yc={mapValue:{}},RR="__vector__",gf="value";function er(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?D0(e)?4:x5(e)?9007199254740991:A5(e)?10:11:et(28295,{value:e})}function vi(e,t){if(e===t)return!0;const n=er(e);if(n!==er(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _u(e).isEqual(_u(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Zs(s.timestampValue),o=Zs(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return tr(s.bytesValue).isEqual(tr(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return oe(s.geoPointValue.latitude)===oe(r.geoPointValue.latitude)&&oe(s.geoPointValue.longitude)===oe(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return oe(s.integerValue)===oe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=oe(s.doubleValue),o=oe(r.doubleValue);return a===o?mf(a)===mf(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(EE(a)!==EE(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!vi(a[u],o[u])))return!1;return!0}(e,t);default:return et(52216,{left:e})}}function Tu(e,t){return(e.values||[]).find(n=>vi(n,t))!==void 0}function go(e,t){if(e===t)return 0;const n=er(e),i=er(t);if(n!==i)return pt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=oe(r.integerValue||r.doubleValue),u=oe(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return wE(e.timestampValue,t.timestampValue);case 4:return wE(_u(e),_u(t));case 5:return wg(e.stringValue,t.stringValue);case 6:return function(r,a){const o=tr(r),u=tr(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),u=a.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=pt(o[c],u[c]);if(h!==0)return h}return pt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=pt(oe(r.latitude),oe(a.latitude));return o!==0?o:pt(oe(r.longitude),oe(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return AE(e.arrayValue,t.arrayValue);case 10:return function(r,a){var o,u,c,h;const d=r.fields||{},m=a.fields||{},g=(o=d[gf])===null||o===void 0?void 0:o.arrayValue,A=(u=m[gf])===null||u===void 0?void 0:u.arrayValue,C=pt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=A==null?void 0:A.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:AE(g,A)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===Yc.mapValue&&a===Yc.mapValue)return 0;if(r===Yc.mapValue)return 1;if(a===Yc.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),c=a.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const m=wg(u[d],h[d]);if(m!==0)return m;const g=go(o[u[d]],c[h[d]]);if(g!==0)return g}return pt(u.length,h.length)}(e.mapValue,t.mapValue);default:throw et(23264,{le:n})}}function wE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pt(e,t);const n=Zs(e),i=Zs(t),s=pt(n.seconds,i.seconds);return s!==0?s:pt(n.nanos,i.nanos)}function AE(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=go(n[s],i[s]);if(r)return r}return pt(n.length,i.length)}function yo(e){return Ag(e)}function Ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Zs(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return tr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return tt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Ag(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Ag(n.fields[a])}`;return s+"}"}(e.mapValue):et(61005,{value:e})}function vh(e){switch(er(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rd(e);return t?16+vh(t):16;case 5:return 2*e.stringValue.length;case 6:return tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+vh(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return ta(i.fields,(r,a)=>{s+=r.length+vh(a)}),s}(e.mapValue);default:throw et(13486,{value:e})}}function xg(e){return!!e&&"integerValue"in e}function N0(e){return!!e&&"arrayValue"in e}function xE(e){return!!e&&"nullValue"in e}function CE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _h(e){return!!e&&"mapValue"in e}function A5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[CR])===null||n===void 0?void 0:n.stringValue)===RR}function Kl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ta(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Kl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function x5(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===w5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!_h(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(n)}setAll(t){let n=Be.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Kl(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];_h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){ta(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Un(Kl(this.value))}}function IR(e){const t=[];return ta(e.fields,(n,i)=>{const s=new Be([n]);if(_h(i)){const r=IR(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new ei(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Qe(t,0,ot.min(),ot.min(),ot.min(),Un.empty(),0)}static newFoundDocument(t,n,i,s){return new Qe(t,1,n,ot.min(),i,s,0)}static newNoDocument(t,n){return new Qe(t,2,n,ot.min(),ot.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,ot.min(),ot.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n){this.position=t,this.inclusive=n}}function RE(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=tt.comparator(tt.fromName(a.referenceValue),n.key):i=go(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function IE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n="asc"){this.field=t,this.dir=n}}function C5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{}class we extends DR{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new I5(t,n,i):n==="array-contains"?new k5(t,i):n==="in"?new O5(t,i):n==="not-in"?new M5(t,i):n==="array-contains-any"?new V5(t,i):new we(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new D5(t,i):new N5(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&er(this.value)===er(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends DR{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new _i(t,n)}matches(t){return NR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function NR(e){return e.op==="and"}function kR(e){return R5(e)&&NR(e)}function R5(e){for(const t of e.filters)if(t instanceof _i)return!1;return!0}function Cg(e){if(e instanceof we)return e.field.canonicalString()+e.op.toString()+yo(e.value);if(kR(e))return e.filters.map(t=>Cg(t)).join(",");{const t=e.filters.map(n=>Cg(n)).join(",");return`${e.op}(${t})`}}function OR(e,t){return e instanceof we?function(i,s){return s instanceof we&&i.op===s.op&&i.field.isEqual(s.field)&&vi(i.value,s.value)}(e,t):e instanceof _i?function(i,s){return s instanceof _i&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&OR(a,s.filters[o]),!0):!1}(e,t):void et(19439)}function MR(e){return e instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(e):e instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(MR).join(" ,")+"}"}(e):"Filter"}class I5 extends we{constructor(t,n,i){super(t,n,i),this.key=tt.fromName(i.referenceValue)}matches(t){const n=tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class D5 extends we{constructor(t,n){super(t,"in",n),this.keys=VR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class N5 extends we{constructor(t,n){super(t,"not-in",n),this.keys=VR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function VR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>tt.fromName(i.referenceValue))}class k5 extends we{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return N0(n)&&Tu(n.arrayValue,this.value)}}class O5 extends we{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class M5 extends we{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class V5 extends we{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!N0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Pe=null}}function DE(e,t=null,n=[],i=[],s=null,r=null,a=null){return new P5(e,t,n,i,s,r,a)}function k0(e){const t=lt(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Cg(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),sd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>yo(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>yo(i)).join(",")),t.Pe=n}return t.Pe}function O0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!C5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!OR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!IE(e.startAt,t.startAt)&&IE(e.endAt,t.endAt)}function Rg(e){return tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function L5(e,t,n,i,s,r,a,o){return new ad(e,t,n,i,s,r,a,o)}function od(e){return new ad(e)}function NE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function j5(e){return e.collectionGroup!==null}function Yl(e){const t=lt(e);if(t.Te===null){t.Te=[];const n=new Set;for(const r of t.explicitOrderBy)t.Te.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new xe(Be.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Te.push(new vf(r,i))}),n.has(Be.keyField().canonicalString())||t.Te.push(new vf(Be.keyField(),i))}return t.Te}function fi(e){const t=lt(e);return t.Ie||(t.Ie=U5(t,Yl(e))),t.Ie}function U5(e,t){if(e.limitType==="F")return DE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new vf(s.field,r)});const n=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;return DE(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ig(e,t,n){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ld(e,t){return O0(fi(e),fi(t))&&e.limitType===t.limitType}function PR(e){return`${k0(fi(e))}|lt:${e.limitType}`}function wa(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>MR(s)).join(", ")}]`),sd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>yo(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>yo(s)).join(",")),`Target(${i})`}(fi(e))}; limitType=${e.limitType})`}function ud(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):tt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Yl(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,u){const c=RE(a,o,u);return a.inclusive?c<=0:c<0}(i.startAt,Yl(i),s)||i.endAt&&!function(a,o,u){const c=RE(a,o,u);return a.inclusive?c>=0:c>0}(i.endAt,Yl(i),s))}(e,t)}function z5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function LR(e){return(t,n)=>{let i=!1;for(const s of Yl(e)){const r=B5(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function B5(e,t,n){const i=e.field.isKeyField()?tt.comparator(t.key,n.key):function(r,a,o){const u=a.data.field(r),c=o.data.field(r);return u!==null&&c!==null?go(u,c):et(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return TR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new ne(tt.comparator);function Zi(){return F5}const jR=new ne(tt.comparator);function Tl(...e){let t=jR;for(const n of e)t=t.insert(n.key,n);return t}function UR(e){let t=jR;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function xr(){return $l()}function zR(){return $l()}function $l(){return new ea(e=>e.toString(),(e,t)=>e.isEqual(t))}const H5=new ne(tt.comparator),G5=new xe(tt.comparator);function bt(...e){let t=G5;for(const n of e)t=t.add(n);return t}const q5=new xe(pt);function K5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function BR(e){return{integerValue:""+e}}function Y5(e,t){return _5(t)?BR(t):M0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function $5(e,t,n){return e instanceof _f?function(s,r){const a={fields:{[wR]:{stringValue:SR},[xR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&D0(r)&&(r=rd(r)),r&&(a.fields[AR]=r),{mapValue:a}}(n,t):e instanceof Eu?HR(e,t):e instanceof Su?GR(e,t):function(s,r){const a=FR(s,r),o=kE(a)+kE(s.Ee);return xg(a)&&xg(s.Ee)?BR(o):M0(s.serializer,o)}(e,t)}function X5(e,t,n){return e instanceof Eu?HR(e,t):e instanceof Su?GR(e,t):n}function FR(e,t){return e instanceof bf?function(i){return xg(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class _f extends cd{}class Eu extends cd{constructor(t){super(),this.elements=t}}function HR(e,t){const n=qR(t);for(const i of e.elements)n.some(s=>vi(s,i))||n.push(i);return{arrayValue:{values:n}}}class Su extends cd{constructor(t){super(),this.elements=t}}function GR(e,t){let n=qR(t);for(const i of e.elements)n=n.filter(s=>!vi(s,i));return{arrayValue:{values:n}}}class bf extends cd{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function kE(e){return oe(e.integerValue||e.doubleValue)}function qR(e){return N0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Q5(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Eu&&s instanceof Eu||i instanceof Su&&s instanceof Su?po(i.elements,s.elements,vi):i instanceof bf&&s instanceof bf?vi(i.Ee,s.Ee):i instanceof _f&&s instanceof _f}(e.transform,t.transform)}class W5{constructor(t,n){this.version=t,this.transformResults=n}}class Hi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hd{}function KR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $R(e.key,Hi.none()):new $u(e.key,e.data,Hi.none());{const n=e.data,i=Un.empty();let s=new xe(Be.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new na(e.key,i,new ei(s.toArray()),Hi.none())}}function J5(e,t,n){e instanceof $u?function(s,r,a){const o=s.value.clone(),u=ME(s.fieldTransforms,r,a.transformResults);o.setAll(u),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof na?function(s,r,a){if(!bh(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=ME(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(YR(s)),u.setAll(o),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Xl(e,t,n,i){return e instanceof $u?function(r,a,o,u){if(!bh(r.precondition,a))return o;const c=r.value.clone(),h=VE(r.fieldTransforms,u,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof na?function(r,a,o,u){if(!bh(r.precondition,a))return o;const c=VE(r.fieldTransforms,u,a),h=a.data;return h.setAll(YR(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(e,t,n,i):function(r,a,o){return bh(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function Z5(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=FR(i.transform,s||null);r!=null&&(n===null&&(n=Un.empty()),n.set(i.field,r))}return n||null}function OE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&po(i,s,(r,a)=>Q5(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends hd{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class na extends hd{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function YR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function ME(e,t,n){const i=new Map;Nt(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,X5(a,o,n[s]))}return i}function VE(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,$5(r,a,t))}return i}class $R extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t9 extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&J5(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Xl(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Xl(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=zR();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const u=KR(a,o);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ot.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),bt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(n,i)=>OE(n,i))&&po(this.baseMutations,t.baseMutations,(n,i)=>OE(n,i))}}class V0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Nt(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let s=function(){return H5}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new V0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe,xt;function s9(e){switch(e){case F.OK:return et(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return et(15467,{code:e})}}function XR(e){if(e===void 0)return Ji("GRPC error has no .code"),F.UNKNOWN;switch(e){case fe.OK:return F.OK;case fe.CANCELLED:return F.CANCELLED;case fe.UNKNOWN:return F.UNKNOWN;case fe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case fe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case fe.INTERNAL:return F.INTERNAL;case fe.UNAVAILABLE:return F.UNAVAILABLE;case fe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case fe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case fe.NOT_FOUND:return F.NOT_FOUND;case fe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case fe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case fe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case fe.ABORTED:return F.ABORTED;case fe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case fe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case fe.DATA_LOSS:return F.DATA_LOSS;default:return et(39323,{code:e})}}(xt=fe||(fe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Fs([4294967295,4294967295],0);function PE(e){const t=vR().encode(e),n=new cR;return n.update(t),new Uint8Array(n.digest())}function LE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Fs([n,i],0),new Fs([s,r],0)]}class P0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(i<0)throw new El(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Fs.fromNumber(this.fe)}pe(t,n,i){let s=t.add(n.multiply(Fs.fromNumber(i)));return s.compare(r9)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=PE(t),[i,s]=LE(n);for(let r=0;r<this.hashCount;r++){const a=this.pe(i,s,r);if(!this.ye(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new P0(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.fe===0)return;const n=PE(t),[i,s]=LE(n);for(let r=0;r<this.hashCount;r++){const a=this.pe(i,s,r);this.we(a)}}we(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Xu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new fd(ot.min(),s,new ne(pt),Zi(),bt())}}class Xu{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Xu(i,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.be=s}}class QR{constructor(t,n){this.targetId=t,this.De=n}}class WR{constructor(t,n,i=qe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class jE{constructor(){this.ve=0,this.Ce=UE(),this.Fe=qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=bt(),n=bt(),i=bt();return this.Ce.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:et(38017,{changeType:r})}}),new Xu(this.Fe,this.Me,t,n,i)}ke(){this.xe=!1,this.Ce=UE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Nt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class a9{constructor(t){this.We=t,this.Ge=new Map,this.ze=Zi(),this.je=$c(),this.Je=$c(),this.He=new ne(pt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const i=this.tt(n);switch(t.state){case 0:this.nt(n)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(t.resumeToken));break;default:et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(t){const n=t.targetId,i=t.De.count,s=this.st(n);if(s){const r=s.target;if(Rg(r))if(i===0){const a=new tt(r.path);this.Xe(n,a,Qe.newNoDocument(a,ot.min()))}else Nt(i===1,20013,{expectedCount:i});else{const a=this.ot(n);if(a!==i){const o=this._t(t),u=o?this.ut(o,t,a):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=tr(i).toUint8Array()}catch(u){if(u instanceof ER)return Ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new P0(a,s,r)}catch(u){return Ws(u instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.fe===0?null:o}ut(t,n,i){return n.De.count===i-this.ht(t,n.targetId)?0:2}ht(t,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.Xe(n,r,null),s++)}),s}Pt(t){const n=new Map;this.Ge.forEach((r,a)=>{const o=this.st(a);if(o){if(r.current&&Rg(o.target)){const u=new tt(o.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,Qe.newNoDocument(u,t))}r.Ne&&(n.set(a,r.Le()),r.ke())}});let i=bt();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ze.forEach((r,a)=>a.setReadTime(t));const s=new fd(t,n,this.He,this.ze,i);return this.ze=Zi(),this.je=$c(),this.Je=$c(),this.He=new ne(pt),s}Ze(t,n){if(!this.nt(t))return;const i=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,i){if(!this.nt(t))return;const s=this.tt(t);this.It(t,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new jE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new xe(pt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new xe(pt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||$("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new jE),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function $c(){return new ne(tt.comparator)}function UE(){return new ne(tt.comparator)}const o9={asc:"ASCENDING",desc:"DESCENDING"},l9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u9={and:"AND",or:"OR"};class c9{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dg(e,t){return e.useProto3Json||sd(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function h9(e,t){return Tf(e,t.toTimestamp())}function di(e){return Nt(!!e,49232),ot.fromTimestamp(function(n){const i=Zs(n);return new Xt(i.seconds,i.nanos)}(e))}function L0(e,t){return Ng(e,t).canonicalString()}function Ng(e,t){const n=function(s){return new ee(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ZR(e){const t=ee.fromString(e);return Nt(s2(t),10190,{key:t.toString()}),t}function kg(e,t){return L0(e.databaseId,t.path)}function qm(e,t){const n=ZR(t);if(n.get(1)!==e.databaseId.projectId)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tt(e2(n))}function t2(e,t){return L0(e.databaseId,t)}function f9(e){const t=ZR(e);return t.length===4?ee.emptyPath():e2(t)}function Og(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function e2(e){return Nt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function zE(e,t,n){return{name:kg(e,t),fields:n.value.mapValue.fields}}function d9(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:et(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(Nt(h===void 0||typeof h=="string",58123),qe.fromBase64String(h||"")):(Nt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qe.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?F.UNKNOWN:XR(c.code);return new J(h,c.message||"")}(a);n=new WR(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=qm(e,i.document.name),r=di(i.document.updateTime),a=i.document.createTime?di(i.document.createTime):ot.min(),o=new Un({mapValue:{fields:i.document.fields}}),u=Qe.newFoundDocument(s,r,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Th(c,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=qm(e,i.document),r=i.readTime?di(i.readTime):ot.min(),a=Qe.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Th([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=qm(e,i.document),r=i.removedTargetIds||[];n=new Th([],r,s,null)}else{if(!("filter"in t))return et(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new i9(s,r),o=i.targetId;n=new QR(o,a)}}return n}function m9(e,t){let n;if(t instanceof $u)n={update:zE(e,t.key,t.value)};else if(t instanceof $R)n={delete:kg(e,t.key)};else if(t instanceof na)n={update:zE(e,t.key,t.data),updateMask:S9(t.fieldMask)};else{if(!(t instanceof t9))return et(16599,{Rt:t.type});n={verify:kg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof _f)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Su)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bf)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw et(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:h9(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:et(27497)}(e,t.precondition)),n}function p9(e,t){return e&&e.length>0?(Nt(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?di(s.updateTime):di(r);return a.isEqual(ot.min())&&(a=di(r)),new W5(a,s.transformResults||[])}(n,t))):[]}function g9(e,t){return{documents:[t2(e,t.path)]}}function y9(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=t2(e,s);const r=function(c){if(c.length!==0)return i2(_i.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Aa(m.field),direction:b9(m.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Dg(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{Vt:n,parent:s}}function v9(e){let t=f9(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Nt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=function(d){const m=n2(d);return m instanceof _i&&kR(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(m=>function(A){return new vf(xa(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(d){let m;return m=typeof d=="object"?d.value:d,sd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(d){const m=!!d.before,g=d.values||[];return new yf(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,g=d.values||[];return new yf(g,m)}(n.endAt)),L5(t,s,a,r,o,"F",u,c)}function _9(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function n2(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xa(n.unaryFilter.field);return we.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(n.unaryFilter.field);return we.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xa(n.unaryFilter.field);return we.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xa(n.unaryFilter.field);return we.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}}(e):e.fieldFilter!==void 0?function(n){return we.create(xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(i=>n2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return et(1026)}}(n.compositeFilter.op))}(e):et(30097,{filter:e})}function b9(e){return o9[e]}function T9(e){return l9[e]}function E9(e){return u9[e]}function Aa(e){return{fieldPath:e.canonicalString()}}function xa(e){return Be.fromServerFormat(e.fieldPath)}function i2(e){return e instanceof we?function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(xE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(xE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:T9(n.op),value:n.value}}}(e):e instanceof _i?function(n){const i=n.getFilters().map(s=>i2(s));return i.length===1?i[0]:{compositeFilter:{op:E9(n.op),filters:i}}}(e):et(54877,{filter:e})}function S9(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function s2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,n,i,s,r=ot.min(),a=ot.min(),o=qe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(t){this.gt=t}}function A9(e){const t=v9({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ig(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.Dn=new C9}addToCollectionParentIndex(t,n){return this.Dn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(Js.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class C9{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new xe(ee.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r2=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(r2,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new vo(0)}static ur(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",R9=1048576;function HE([e,t],[n,i]){const s=pt(e,n);return s===0?pt(t,i):s}class I9{constructor(t){this.Tr=t,this.buffer=new xe(HE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();HE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D9{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){$(FE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?$(FE,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Rr(3e5)})}}class N9{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return j.resolve(id.ue);const i=new I9(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(BE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let i,s,r,a,o,u,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,a=Date.now(),this.nthSequenceNumber(t,s))).next(d=>(i=d,o=Date.now(),this.removeTargets(t,i,n))).next(d=>(r=d,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(c=Date.now(),Sa()<=_t.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function k9(e,t){return new N9(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.changes=new ea(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Xl(i.mutation,s,ei.empty(),Xt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,bt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=bt()){const s=xr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Tl();return r.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=xr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,bt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Zi();const a=$l(),o=function(){return $l()}();return n.forEach((u,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof na)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Xl(h.mutation,c,h.mutation.getFieldMask(),Xt.now())):a.set(c.key,ei.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var d;return o.set(c,new M9(h,(d=a.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,n){const i=$l();let s=new ne((a,o)=>a-o),r=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=i.get(u)||ei.empty();h=o.applyToLocalView(c,h),i.set(u,h);const d=(s.get(o.batchId)||bt()).add(u);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,d=zR();h.forEach(m=>{if(!r.has(m)){const g=KR(n.get(m),i.get(m));g!==null&&d.set(m,g),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,d))}return j.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):j5(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):j.resolve(xr());let o=vu,u=r;return a.next(c=>j.forEach(c,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),r.get(h)?j.resolve():this.remoteDocumentCache.getEntry(t,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,u,c,bt())).next(h=>({batchId:o,changes:UR(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new tt(n)).next(i=>{let s=Tl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Tl();return this.indexManager.getCollectionParents(t,r).next(o=>j.forEach(o,u=>{const c=function(d,m){return new ad(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(h=>{h.forEach((d,m)=>{a=a.insert(d,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Qe.newInvalidDocument(h)))});let o=Tl();return a.forEach((u,c)=>{const h=r.get(u);h!==void 0&&Xl(h.mutation,c,ei.empty(),Xt.now()),ud(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return j.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:di(s.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:A9(s.bundledQuery),readTime:di(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.overlays=new ne(tt.comparator),this.kr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=xr();return j.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.wt(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.kr.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const s=xr(),r=n.length+1,a=new tt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return j.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new ne((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=xr(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=xr(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return j.resolve(o)}wt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new n9(n,i));let r=this.kr.get(n);r===void 0&&(r=bt(),this.kr.set(n,r)),this.kr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.qr=new xe(Ie.Qr),this.$r=new xe(Ie.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const i=new Ie(t,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Ie(t,n))}Gr(t,n){t.forEach(i=>this.removeReference(i,n))}zr(t){const n=new tt(new ee([])),i=new Ie(n,t),s=new Ie(n,t+1),r=[];return this.$r.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new tt(new ee([])),i=new Ie(n,t),s=new Ie(n,t+1);let r=bt();return this.$r.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new Ie(t,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ie{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return tt.comparator(t.key,n.key)||pt(t.Hr,n.Hr)}static Ur(t,n){return pt(t.Hr,n.Hr)||tt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xe(Ie.Qr)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new e9(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Yr=this.Yr.add(new Ie(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(a)}lookupMutationBatch(t,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?I0:this.er-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ie(n,0),s=new Ie(n,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([i,s],a=>{const o=this.Zr(a.Hr);r.push(o)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new xe(pt);return n.forEach(s=>{const r=new Ie(s,0),a=new Ie(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([r,a],o=>{i=i.add(o.Hr)})}),j.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;tt.isDocumentKey(r)||(r=r.child(""));const a=new Ie(new tt(r),0);let o=new xe(pt);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(u.Hr)),!0)},a),j.resolve(this.ei(o))}ei(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Nt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return j.forEach(n.mutations,s=>{const r=new Ie(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,n){const i=new Ie(n,0),s=this.Yr.firstAfterOrEqual(i);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(t){this.ni=t,this.docs=function(){return new ne(tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let i=Zi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Qe.newInvalidDocument(s))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Zi();const a=n.path,o=new tt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||p5(m5(h),i)<=0||(s.has(h.key)||ud(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,i,s){et(9500)}ri(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new B9(this)}getSize(t){return j.resolve(this.size)}}class B9 extends O9{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(t,s)):this.Or.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(t){this.persistence=t,this.ii=new ea(n=>k0(n),O0),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.si=0,this.oi=new j0,this.targetCount=0,this._i=vo.ar()}forEachTarget(t,n){return this.ii.forEach((i,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),j.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new vo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.hr(n),j.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ii.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),j.waitFor(r).next(()=>s)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.ii.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.oi.Kr(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.oi.Jr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.ai={},this.overlays={},this.ui=new id(0),this.ci=!1,this.ci=!0,this.li=new j9,this.referenceDelegate=t(this),this.hi=new F9(this),this.indexManager=new x9,this.remoteDocumentCache=function(s){return new z9(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new w9(n),this.Ti=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new L9,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ai[t.toKey()];return i||(i=new U9(n,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,i){$("MemoryPersistence","Starting transaction:",t);const s=new H9(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(t,n){return j.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,n)))}}class H9 extends y5{constructor(t){super(),this.currentSequenceNumber=t}}class U0{constructor(t){this.persistence=t,this.Ai=new j0,this.Ri=null}static Vi(t){return new U0(t)}get mi(){if(this.Ri)return this.Ri;throw et(60996)}addReference(t,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),j.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.mi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.mi,i=>{const s=tt.fromPath(i);return this.fi(t,s).next(r=>{r||n.removeEntry(s,ot.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return j.or([()=>j.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ef{constructor(t,n){this.persistence=t,this.gi=new ea(i=>b5(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=k9(this,n)}static Vi(t,n){return new Ef(t,n)}Ii(){}di(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}yr(t){let n=0;return this.gr(t,i=>{n++}).next(()=>n)}gr(t,n){return j.forEach(this.gi,(i,s)=>this.Sr(t,i,s).next(r=>r?j.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ri(t,a=>this.Sr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,ot.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),j.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}Sr(t,n,i){return j.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.gi.get(n);return j.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Is=i,this.ds=s}static Es(t,n){let i=bt(),s=bt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new z0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return P6()?8:v5(Je())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ps(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ys(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new G9;return this.ws(t,n,a).next(o=>{if(r.result=o,this.Rs)return this.Ss(t,n,a,o.size)})}).next(()=>r.result)}Ss(t,n,i,s){return i.documentReadCount<this.Vs?(Sa()<=_t.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Sa()<=_t.DEBUG&&$("QueryEngine","Query:",wa(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Sa()<=_t.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(n))):j.resolve())}ps(t,n){if(NE(n))return j.resolve(null);let i=fi(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ig(n,null,"F"),i=fi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=bt(...r);return this.gs.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.bs(n,o);return this.Ds(n,c,a,u.readTime)?this.ps(t,Ig(n,null,"F")):this.vs(t,c,n,u)}))})))}ys(t,n,i,s){return NE(n)||s.isEqual(ot.min())?j.resolve(null):this.gs.getDocuments(t,i).next(r=>{const a=this.bs(n,r);return this.Ds(n,a,i,s)?j.resolve(null):(Sa()<=_t.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wa(n)),this.vs(t,a,n,d5(s,vu)).next(o=>o))})}bs(t,n){let i=new xe(LR(t));return n.forEach((s,r)=>{ud(t,r)&&(i=i.add(r))}),i}Ds(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ws(t,n,i){return Sa()<=_t.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",wa(n)),this.gs.getDocumentsMatchingQuery(t,n,Js.min(),i)}vs(t,n,i,s){return this.gs.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LocalStore",K9=3e8;class Y9{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.Fs=new ne(pt),this.Ms=new ea(r=>k0(r),O0),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V9(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function $9(e,t,n,i){return new Y9(e,t,n,i)}async function o2(e,t){const n=lt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ns(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let u=bt();for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function X9(e,t){const n=lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const d=c.batch,m=d.keys();let g=j.resolve();return m.forEach(A=>{g=g.next(()=>h.getEntry(u,A)).next(C=>{const I=c.docVersions.get(A);Nt(I!==null,48541),C.version.compareTo(I)<0&&(d.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(u,d))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=bt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function l2(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function Q9(e,t){const n=lt(e),i=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const o=[];t.targetChanges.forEach((h,d)=>{const m=s.get(d);if(!m)return;o.push(n.hi.removeMatchingKeys(r,h.removedDocuments,d).next(()=>n.hi.addMatchingKeys(r,h.addedDocuments,d)));let g=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(d)!==null?g=g.withResumeToken(qe.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(d,g),function(C,I,_){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=K9?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,h)&&o.push(n.hi.updateTargetData(r,g))});let u=Zi(),c=bt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(W9(r,a,t.documentUpdates).next(h=>{u=h.Ls,c=h.ks})),!i.isEqual(ot.min())){const h=n.hi.getLastRemoteSnapshotVersion(r).next(d=>n.hi.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return j.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.Fs=s,r))}function W9(e,t,n){let i=bt(),s=bt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Zi();return n.forEach((o,u)=>{const c=r.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),u.isNoDocument()&&u.version.isEqual(ot.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):$(B0,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Ls:a,ks:s}})}function J9(e,t){const n=lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=I0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Z9(e,t){const n=lt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,t).next(r=>r?(s=r,j.resolve(s)):n.hi.allocateTargetId(i).next(a=>(s=new Is(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(t,i.targetId)),i})}async function Mg(e,t,n){const i=lt(e),s=i.Fs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Uo(a))throw a;$(B0,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(s.target)}function GE(e,t,n){const i=lt(e);let s=ot.min(),r=bt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,h){const d=lt(u),m=d.Ms.get(h);return m!==void 0?j.resolve(d.Fs.get(m)):d.hi.getTargetData(c,h)}(i,a,fi(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?s:ot.min(),n?r:bt())).next(o=>(tj(i,z5(t),o),{documents:o,qs:r})))}function tj(e,t,n){let i=e.xs.get(t)||ot.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.xs.set(t,i)}class qE{constructor(){this.activeTargetIds=K5()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ej{constructor(){this.Fo=new qE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,i){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new qE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="ConnectivityMonitor";class YE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(KE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){$(KE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Vg(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sj{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===pf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,r){const a=Vg(),o=this.Go(t,n.toUriEncodedString());$(Km,`Sending RPC '${t}' ${a}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,r);const{host:c}=new URL(o),h=Vo(c);return this.jo(t,o,u,i,h).then(d=>($(Km,`Received RPC '${t}' ${a}: `,d),d),d=>{throw Ws(Km,`RPC '${t}' ${a} failed with error: `,d,"url: ",o,"request:",i),d})}Jo(t,n,i,s,r,a){return this.Wo(t,n,i,s,r)}zo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}Go(t,n){const i=ij[t];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class aj extends sj{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,i,s,r){const a=Vg();return new Promise((o,u)=>{const c=new hR;c.setWithCredentials(!0),c.listenOnce(fR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yh.NO_ERROR:const d=c.getResponseJson();$($e,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(d)),o(d);break;case yh.TIMEOUT:$($e,`RPC '${t}' ${a} timed out`),u(new J(F.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const m=c.getStatus();if($($e,`RPC '${t}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const A=g==null?void 0:g.error;if(A&&A.status&&A.message){const C=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(A.status);u(new J(C,A.message))}else u(new J(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new J(F.UNAVAILABLE,"Connection failed."));break;default:et(9055,{c_:t,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{$($e,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(s);$($e,`RPC '${t}' ${a} sending request:`,s),c.send(n,"POST",h,i,15)})}P_(t,n,i){const s=Vg(),r=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=pR(),o=mR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const h=r.join("");$($e,`Creating RPC '${t}' stream ${s}: ${h}`,u);const d=a.createWebChannel(h,u);this.T_(d);let m=!1,g=!1;const A=new rj({Ho:I=>{g?$($e,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(m||($($e,`Opening RPC '${t}' stream ${s} transport.`),d.open(),m=!0),$($e,`RPC '${t}' stream ${s} sending:`,I),d.send(I))},Yo:()=>d.close()}),C=(I,_,v)=>{I.listen(_,w=>{try{v(w)}catch(N){setTimeout(()=>{throw N},0)}})};return C(d,bl.EventType.OPEN,()=>{g||($($e,`RPC '${t}' stream ${s} transport opened.`),A.s_())}),C(d,bl.EventType.CLOSE,()=>{g||(g=!0,$($e,`RPC '${t}' stream ${s} transport closed`),A.__(),this.I_(d))}),C(d,bl.EventType.ERROR,I=>{g||(g=!0,Ws($e,`RPC '${t}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),A.__(new J(F.UNAVAILABLE,"The operation could not be completed")))}),C(d,bl.EventType.MESSAGE,I=>{var _;if(!g){const v=I.data[0];Nt(!!v,16349);const w=v,N=(w==null?void 0:w.error)||((_=w[0])===null||_===void 0?void 0:_.error);if(N){$($e,`RPC '${t}' stream ${s} received error:`,N);const M=N.status;let z=function(T){const x=fe[T];if(x!==void 0)return XR(x)}(M),E=N.message;z===void 0&&(z=F.INTERNAL,E="Unknown error status: "+M+" with message "+N.message),g=!0,A.__(new J(z,E)),d.close()}else $($e,`RPC '${t}' stream ${s} received:`,v),A.a_(v)}}),C(o,dR.STAT_EVENT,I=>{I.stat===Sg.PROXY?$($e,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===Sg.NOPROXY&&$($e,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e){return new c9(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Fi=t,this.timerId=n,this.d_=i,this.E_=s,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="PersistentStream";class c2{constructor(t,n,i,s,r,a,o,u){this.Fi=t,this.w_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new u2(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{t(()=>{const s=new J(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(t,n){const i=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return $($E,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():($($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oj extends c2{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=d9(this.serializer,t),i=function(r){if(!("targetChange"in r))return ot.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ot.min():a.readTime?di(a.readTime):ot.min()}(t);return this.listener.J_(n,i)}H_(t){const n={};n.database=Og(this.serializer),n.addTarget=function(r,a){let o;const u=a.target;if(o=Rg(u)?{documents:g9(r,u)}:{query:y9(r,u).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=JR(r,a.resumeToken);const c=Dg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ot.min())>0){o.readTime=Tf(r,a.snapshotVersion.toTimestamp());const c=Dg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=_9(this.serializer,t);i&&(n.labels=i),this.k_(n)}Y_(t){const n={};n.database=Og(this.serializer),n.removeTarget=t,this.k_(n)}}class lj extends c2{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Nt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Nt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Nt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=p9(t.writeResults,t.commitTime),i=di(t.commitTime);return this.listener.ta(i,n)}na(){const t={};t.database=Og(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>m9(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{}class cj extends uj{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(t,Ng(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(F.UNKNOWN,r.toString())})}Jo(t,n,i,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(t,Ng(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(F.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ji(n),this._a=!1):$("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="RemoteStore";class fj{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{ia(this)&&($(qr,"Restarting streams for network reachability change."),await async function(u){const c=lt(u);c.Ia.add(4),await Qu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await md(c)}(this))})}),this.Aa=new hj(i,s)}}async function md(e){if(ia(e))for(const t of e.da)await t(!0)}async function Qu(e){for(const t of e.da)await t(!1)}function h2(e,t){const n=lt(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),q0(n)?G0(n):zo(n).x_()&&H0(n,t))}function F0(e,t){const n=lt(e),i=zo(n);n.Ta.delete(t),i.x_()&&f2(n,t),n.Ta.size===0&&(i.x_()?i.B_():ia(n)&&n.Aa.set("Unknown"))}function H0(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zo(e).H_(t)}function f2(e,t){e.Ra.$e(t),zo(e).Y_(t)}function G0(e){e.Ra=new a9({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),zo(e).start(),e.Aa.aa()}function q0(e){return ia(e)&&!zo(e).M_()&&e.Ta.size>0}function ia(e){return lt(e).Ia.size===0}function d2(e){e.Ra=void 0}async function dj(e){e.Aa.set("Online")}async function mj(e){e.Ta.forEach((t,n)=>{H0(e,t)})}async function pj(e,t){d2(e),q0(e)?(e.Aa.la(t),G0(e)):e.Aa.set("Unknown")}async function gj(e,t,n){if(e.Aa.set("Online"),t instanceof WR&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ta.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ta.delete(o),s.Ra.removeTarget(o))}(e,t)}catch(i){$(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Sf(e,i)}else if(t instanceof Th?e.Ra.Ye(t):t instanceof QR?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ot.min()))try{const i=await l2(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.Ra.Pt(a);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=r.Ta.get(c);h&&r.Ta.set(c,h.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,c)=>{const h=r.Ta.get(u);if(!h)return;r.Ta.set(u,h.withResumeToken(qe.EMPTY_BYTE_STRING,h.snapshotVersion)),f2(r,u);const d=new Is(h.target,u,c,h.sequenceNumber);H0(r,d)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){$(qr,"Failed to raise snapshot:",i),await Sf(e,i)}}async function Sf(e,t,n){if(!Uo(t))throw t;e.Ia.add(1),await Qu(e),e.Aa.set("Offline"),n||(n=()=>l2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$(qr,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await md(e)})}function m2(e,t){return t().catch(n=>Sf(e,n,t))}async function pd(e){const t=lt(e),n=nr(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:I0;for(;yj(t);)try{const s=await J9(t.localStore,i);if(s===null){t.Pa.length===0&&n.B_();break}i=s.batchId,vj(t,s)}catch(s){await Sf(t,s)}p2(t)&&g2(t)}function yj(e){return ia(e)&&e.Pa.length<10}function vj(e,t){e.Pa.push(t);const n=nr(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function p2(e){return ia(e)&&!nr(e).M_()&&e.Pa.length>0}function g2(e){nr(e).start()}async function _j(e){nr(e).na()}async function bj(e){const t=nr(e);for(const n of e.Pa)t.X_(n.mutations)}async function Tj(e,t,n){const i=e.Pa.shift(),s=V0.from(i,t,n);await m2(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await pd(e)}async function Ej(e,t){t&&nr(e).Z_&&await async function(i,s){if(function(a){return s9(a)&&a!==F.ABORTED}(s.code)){const r=i.Pa.shift();nr(i).N_(),await m2(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await pd(i)}}(e,t),p2(e)&&g2(e)}async function XE(e,t){const n=lt(e);n.asyncQueue.verifyOperationInProgress(),$(qr,"RemoteStore received new credentials");const i=ia(n);n.Ia.add(3),await Qu(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await md(n)}async function Sj(e,t){const n=lt(e);t?(n.Ia.delete(2),await md(n)):t||(n.Ia.add(2),await Qu(n),n.Aa.set("Unknown"))}function zo(e){return e.Va||(e.Va=function(n,i,s){const r=lt(n);return r.ia(),new oj(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:dj.bind(null,e),e_:mj.bind(null,e),n_:pj.bind(null,e),J_:gj.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),q0(e)?G0(e):e.Aa.set("Unknown")):(await e.Va.stop(),d2(e))})),e.Va}function nr(e){return e.ma||(e.ma=function(n,i,s){const r=lt(n);return r.ia(),new lj(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:_j.bind(null,e),n_:Ej.bind(null,e),ea:bj.bind(null,e),ta:Tj.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await pd(e)):(await e.ma.stop(),e.Pa.length>0&&($(qr,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new K0(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y0(e,t){if(Ji("AsyncQueue",`${t}: ${e}`),Uo(e))return new J(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||tt.comparator(n.key,i.key):(n,i)=>tt.comparator(n.key,i.key),this.keyedMap=Tl(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Wa;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.fa=new ne(tt.comparator)}track(t){const n=t.doc.key,i=this.fa.get(n);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(n,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(n):t.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):et(63341,{At:t,ga:i}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,i)=>{t.push(i)}),t}}class _o{constructor(t,n,i,s,r,a,o,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new _o(t,n,Wa.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class Aj{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=lt(n),r=s.queries;s.queries=WE(),r.forEach((a,o)=>{for(const u of o.wa)u.onError(i)})})(this,new J(F.ABORTED,"Firestore shutting down"))}}function WE(){return new ea(e=>PR(e),ld)}async function y2(e,t){const n=lt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Sa()&&t.ba()&&(i=2):(r=new wj,i=t.ba()?0:1);try{switch(i){case 0:r.ya=await n.onListen(s,!0);break;case 1:r.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Y0(a,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.wa.push(t),t.va(n.onlineState),r.ya&&t.Ca(r.ya)&&$0(n)}async function v2(e,t){const n=lt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.wa.indexOf(t);a>=0&&(r.wa.splice(a,1),r.wa.length===0?s=t.ba()?0:1:!r.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xj(e,t){const n=lt(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.wa)o.Ca(s)&&(i=!0);a.ya=s}}i&&$0(n)}function Cj(e,t,n){const i=lt(e),s=i.queries.get(t);if(s)for(const r of s.wa)r.onError(n);i.queries.delete(t)}function $0(e){e.Da.forEach(t=>{t.next()})}var Pg,JE;(JE=Pg||(Pg={})).Fa="default",JE.Cache="cache";class _2{constructor(t,n,i){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new _o(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.key=t}}class T2{constructor(t){this.key=t}}class Rj{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=bt(),this.mutatedKeys=bt(),this.Xa=LR(t),this.eu=new Wa(this.Xa)}get tu(){return this.Ha}nu(t,n){const i=n?n.ru:new QE,s=n?n.eu:this.eu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,d)=>{const m=s.get(h),g=ud(this.query,d)?d:null,A=!!m&&this.mutatedKeys.has(m.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;m&&g?m.data.isEqual(g.data)?A!==C&&(i.track({type:3,doc:g}),I=!0):this.iu(m,g)||(i.track({type:2,doc:g}),I=!0,(u&&this.Xa(g,u)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!m&&g?(i.track({type:0,doc:g}),I=!0):m&&!g&&(i.track({type:1,doc:m}),I=!0,(u||c)&&(o=!0)),I&&(g?(a=a.add(g),r=C?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{eu:a,ru:i,Ds:o,mutatedKeys:r}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const a=t.ru.pa();a.sort((h,d)=>function(g,A){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{At:I})}};return C(g)-C(A)}(h.type,d.type)||this.Xa(h.doc,d.doc)),this.su(i),s=s!=null&&s;const o=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,c=u!==this.Ya;return this.Ya=u,a.length!==0||c?{snapshot:new _o(this.query,t.eu,r,a,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new QE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=bt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return t.forEach(i=>{this.Za.has(i)||n.push(new T2(i))}),this.Za.forEach(i=>{t.has(i)||n.push(new b2(i))}),n}uu(t){this.Ha=t.qs,this.Za=bt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return _o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const X0="SyncEngine";class Ij{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Dj{constructor(t){this.key=t,this.lu=!1}}class Nj{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new ea(o=>PR(o),ld),this.Tu=new Map,this.Iu=new Set,this.du=new ne(tt.comparator),this.Eu=new Map,this.Au=new j0,this.Ru={},this.Vu=new Map,this.mu=vo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kj(e,t,n=!0){const i=C2(e);let s;const r=i.Pu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.cu()):s=await E2(i,t,n,!0),s}async function Oj(e,t){const n=C2(e);await E2(n,t,!0,!1)}async function E2(e,t,n,i){const s=await Z9(e.localStore,fi(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await Mj(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&h2(e.remoteStore,s),o}async function Mj(e,t,n,i,s){e.gu=(d,m,g)=>async function(C,I,_,v){let w=I.view.nu(_);w.Ds&&(w=await GE(C.localStore,I.query,!1).then(({documents:E})=>I.view.nu(E,w)));const N=v&&v.targetChanges.get(I.targetId),M=v&&v.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(w,C.isPrimaryClient,N,M);return tS(C,I.targetId,z._u),z.snapshot}(e,d,m,g);const r=await GE(e.localStore,t,!0),a=new Rj(t,r.qs),o=a.nu(r.documents),u=Xu.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=a.applyChanges(o,e.isPrimaryClient,u);tS(e,n,c._u);const h=new Ij(t,n,a);return e.Pu.set(t,h),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Vj(e,t,n){const i=lt(e),s=i.Pu.get(t),r=i.Tu.get(s.targetId);if(r.length>1)return i.Tu.set(s.targetId,r.filter(a=>!ld(a,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Mg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&F0(i.remoteStore,s.targetId),Lg(i,s.targetId)}).catch(jo)):(Lg(i,s.targetId),await Mg(i.localStore,s.targetId,!0))}async function Pj(e,t){const n=lt(e),i=n.Pu.get(t),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),F0(n.remoteStore,i.targetId))}async function Lj(e,t,n){const i=Gj(e);try{const s=await function(a,o){const u=lt(a),c=Xt.now(),h=o.reduce((g,A)=>g.add(A.key),bt());let d,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let A=Zi(),C=bt();return u.Os.getEntries(g,h).next(I=>{A=I,A.forEach((_,v)=>{v.isValidDocument()||(C=C.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,A)).next(I=>{d=I;const _=[];for(const v of o){const w=Z5(v,d.get(v.key).overlayedDocument);w!=null&&_.push(new na(v.key,w,IR(w.value.mapValue),Hi.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,_,o)}).next(I=>{m=I;const _=I.applyToLocalDocumentSet(d,C);return u.documentOverlayCache.saveOverlays(g,I.batchId,_)})}).then(()=>({batchId:m.batchId,changes:UR(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,u){let c=a.Ru[a.currentUser.toKey()];c||(c=new ne(pt)),c=c.insert(o,u),a.Ru[a.currentUser.toKey()]=c}(i,s.batchId,n),await Wu(i,s.changes),await pd(i.remoteStore)}catch(s){const r=Y0(s,"Failed to persist write");n.reject(r)}}async function S2(e,t){const n=lt(e);try{const i=await Q9(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(Nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.lu=!0:s.modifiedDocuments.size>0?Nt(a.lu,14607):s.removedDocuments.size>0&&(Nt(a.lu,42227),a.lu=!1))}),await Wu(n,i,t)}catch(i){await jo(i)}}function ZE(e,t,n){const i=lt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((r,a)=>{const o=a.view.va(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const u=lt(a);u.onlineState=o;let c=!1;u.queries.forEach((h,d)=>{for(const m of d.wa)m.va(o)&&(c=!0)}),c&&$0(u)}(i.eventManager,t),s.length&&i.hu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jj(e,t,n){const i=lt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),r=s&&s.key;if(r){let a=new ne(tt.comparator);a=a.insert(r,Qe.newNoDocument(r,ot.min()));const o=bt().add(r),u=new fd(ot.min(),new Map,new ne(pt),a,o);await S2(i,u),i.du=i.du.remove(r),i.Eu.delete(t),Q0(i)}else await Mg(i.localStore,t,!1).then(()=>Lg(i,t,n)).catch(jo)}async function Uj(e,t){const n=lt(e),i=t.batch.batchId;try{const s=await X9(n.localStore,t);A2(n,i,null),w2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(n,s)}catch(s){await jo(s)}}async function zj(e,t,n){const i=lt(e);try{const s=await function(a,o){const u=lt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(d=>(Nt(d!==null,37113),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(i.localStore,t);A2(i,t,n),w2(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Wu(i,s)}catch(s){await jo(s)}}function w2(e,t){(e.Vu.get(t)||[]).forEach(n=>{n.resolve()}),e.Vu.delete(t)}function A2(e,t,n){const i=lt(e);let s=i.Ru[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Ru[i.currentUser.toKey()]=s}}function Lg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Tu.get(t))e.Pu.delete(i),n&&e.hu.pu(i,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(i=>{e.Au.containsKey(i)||x2(e,i)})}function x2(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(F0(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Q0(e))}function tS(e,t,n){for(const i of n)i instanceof b2?(e.Au.addReference(i.key,t),Bj(e,i)):i instanceof T2?($(X0,"Document no longer in limbo: "+i.key),e.Au.removeReference(i.key,t),e.Au.containsKey(i.key)||x2(e,i.key)):et(19791,{yu:i})}function Bj(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Iu.has(i)||($(X0,"New document in limbo: "+n),e.Iu.add(i),Q0(e))}function Q0(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new tt(ee.fromString(t)),i=e.mu.next();e.Eu.set(i,new Dj(n)),e.du=e.du.insert(n,i),h2(e.remoteStore,new Is(fi(od(n.path)),i,"TargetPurposeLimboResolution",id.ue))}}async function Wu(e,t,n){const i=lt(e),s=[],r=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((o,u)=>{a.push(i.gu(u,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){s.push(c);const d=z0.Es(u.targetId,c);r.push(d)}}))}),await Promise.all(a),i.hu.J_(s),await async function(u,c){const h=lt(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,m=>j.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>j.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!Uo(d))throw d;$(B0,"Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const g=h.Fs.get(m),A=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(A);h.Fs=h.Fs.insert(m,C)}}}(i.localStore,r))}async function Fj(e,t){const n=lt(e);if(!n.currentUser.isEqual(t)){$(X0,"User change. New user:",t.toKey());const i=await o2(n.localStore,t);n.currentUser=t,function(r,a){r.Vu.forEach(o=>{o.forEach(u=>{u.reject(new J(F.CANCELLED,a))})}),r.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Wu(n,i.Bs)}}function Hj(e,t){const n=lt(e),i=n.Eu.get(t);if(i&&i.lu)return bt().add(i.key);{let s=bt();const r=n.Tu.get(t);if(!r)return s;for(const a of r){const o=n.Pu.get(a);s=s.unionWith(o.view.tu)}return s}}function C2(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=S2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jj.bind(null,t),t.hu.J_=xj.bind(null,t.eventManager),t.hu.pu=Cj.bind(null,t.eventManager),t}function Gj(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zj.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return $9(this.persistence,new q9,t.initialUser,this.serializer)}Du(t){return new a2(U0.Vi,this.serializer)}bu(t){return new ej}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class qj extends wf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Nt(this.persistence.referenceDelegate instanceof Ef,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new D9(i,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new a2(i=>Ef.Vi(i,n),this.serializer)}}class jg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fj.bind(null,this.syncEngine),await Sj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Aj}()}createDatastore(t){const n=dd(t.databaseInfo.databaseId),i=function(r){return new aj(r)}(t.databaseInfo);return function(r,a,o,u){return new cj(r,a,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new fj(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>ZE(this.syncEngine,n,0),function(){return YE.C()?new YE:new nj}())}createSyncEngine(t,n){return function(s,r,a,o,u,c,h){const d=new Nj(s,r,a,o,u,c);return h&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=lt(s);$(qr,"RemoteStore shutting down."),r.Ia.add(5),await Qu(r),r.Ea.shutdown(),r.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="FirestoreClient";class Kj{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Xe.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{$(ir,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>($(ir,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Y0(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function $m(e,t){e.asyncQueue.verifyOperationInProgress(),$(ir,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await o2(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>{Ws("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ws("Terminating Firestore due to IndexedDb database deletion failed",s)})}),e._offlineComponents=t}async function eS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Yj(e);$(ir,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>XE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>XE(t.remoteStore,s)),e._onlineComponents=t}async function Yj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$(ir,"Using user provided OfflineComponentProvider");try{await $m(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await $m(e,new wf)}}else $(ir,"Using default OfflineComponentProvider"),await $m(e,new qj(void 0));return e._offlineComponents}async function I2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($(ir,"Using user provided OnlineComponentProvider"),await eS(e,e._uninitializedComponentsProvider._online)):($(ir,"Using default OnlineComponentProvider"),await eS(e,new jg))),e._onlineComponents}function $j(e){return I2(e).then(t=>t.syncEngine)}async function Ug(e){const t=await I2(e),n=t.eventManager;return n.onListen=kj.bind(null,t.syncEngine),n.onUnlisten=Vj.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Oj.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Pj.bind(null,t.syncEngine),n}function Xj(e,t,n={}){const i=new Hs;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,c){const h=new R2({next:m=>{h.Ou(),a.enqueueAndForget(()=>v2(r,d));const g=m.docs.has(o);!g&&m.fromCache?c.reject(new J(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?c.reject(new J(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new _2(od(o.path),h,{includeMetadataChanges:!0,ka:!0});return y2(r,d)}(await Ug(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firestore.googleapis.com",iS=!0;class sS{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new J(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N2,this.ssl=iS}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:iS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=r2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<R9)throw new J(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}f5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D2((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class W0{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new n5;switch(i.type){case"firstParty":return new a5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new J(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=nS.get(n);i&&($("ComponentProvider","Removing Datastore"),nS.delete(n),i.terminate())}(this),Promise.resolve()}}function Qj(e,t,n,i={}){var s;e=Gs(e,W0);const r=Vo(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;r&&(nR(`https://${u}`),iR("Firestore",!0)),a.host!==N2&&a.host!==u&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!Fr(c,o)&&(e._setSettings(c),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=Xe.MOCK_USER;else{h=C6(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new J(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xe(m)}e._authCredentials=new i5(new yR(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gd(this.firestore,t,this._query)}}class Ae{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Yu(n,Ae._jsonSchema))return new Ae(t,i||null,new tt(ee.fromString(n.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:ve("string",Ae._jsonSchemaVersion),referencePath:ve("string")};class wu extends gd{constructor(t,n,i){super(t,n,od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new tt(t))}withConverter(t){return new wu(this.firestore,t,this._path)}}function cl(e,t,...n){if(e=Dn(e),arguments.length===1&&(t=C0.newId()),h5("doc","path",t),e instanceof W0){const i=ee.fromString(t,...n);return vE(i),new Ae(e,null,new tt(i))}{if(!(e instanceof Ae||e instanceof wu))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ee.fromString(t,...n));return vE(i),new Ae(e.firestore,e instanceof wu?e.converter:null,new tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="AsyncQueue";class aS{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new u2(this,"async_queue_retry"),this.oc=()=>{const i=Ym();i&&$(rS,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Hs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Uo(t))throw t;$(rS,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Ji("INTERNAL UNHANDLED ERROR: ",oS(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(t,n,i){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const s=K0.createAndSchedule(this,t,n,i,r=>this.lc(r));return this.ec.push(s),s}ac(){this.tc&&et(47125,{hc:oS(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function oS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Au extends W0{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new aS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aS(t),this._firestoreClient=void 0,await t}}}function Wj(e,t){const n=typeof e=="object"?e:oR(),i=typeof e=="string"?e:pf,s=A0(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=A6("firestore");r&&Qj(s,...r)}return s}function J0(e){if(e._terminated)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Jj(e),e._firestoreClient}function Jj(e){var t,n,i;const s=e._freezeSettings(),r=function(o,u,c,h){return new S5(o,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,D2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Kj(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(qe.fromBase64String(t))}catch(n){throw new J(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yu(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:ve("string",zn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pt(this._lat,t._lat)||pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(t){if(Yu(t,mi._jsonSchema))return new mi(t.latitude,t.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:ve("string",mi._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yu(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new pi(t.vectorValues);throw new J(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:ve("string",pi._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^__.*__$/;class tU{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,n,this.fieldTransforms):new $u(t,this.data,n,this.fieldTransforms)}}function O2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{Ec:e})}}class tv{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.fc(t),s}gc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Af(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(O2(this.Ec)&&Zj.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class eU{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||dd(t)}Dc(t,n,i,s=!1){return new tv({Ec:t,methodName:n,bc:i,path:Be.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nU(e){const t=e._freezeSettings(),n=dd(e._databaseId);return new eU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iU(e,t,n,i,s,r={}){const a=e.Dc(r.merge||r.mergeFields?2:0,t,n,s);L2("Data must be an object, but it was:",a,i);const o=V2(i,a);let u,c;if(r.merge)u=new ei(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const m=sU(t,d,n);if(!a.contains(m))throw new J(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);aU(h,m)||h.push(m)}u=new ei(h),c=a.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=a.fieldTransforms;return new tU(new Un(o),u,c)}function M2(e,t){if(P2(e=Dn(e)))return L2("Unsupported field value:",t,e),V2(e,t);if(e instanceof k2)return function(i,s){if(!O2(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let u=M2(o,s.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Xt.fromDate(i);return{timestampValue:Tf(s.serializer,r)}}if(i instanceof Xt){const r=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tf(s.serializer,r)}}if(i instanceof mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zn)return{bytesValue:JR(s.serializer,i._byteString)};if(i instanceof Ae){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:L0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof pi)return function(a,o){return{mapValue:{fields:{[CR]:{stringValue:RR},[gf]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return M0(o.serializer,c)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${R0(i)}`)}(e,t)}function V2(e,t){const n={};return TR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(e,(i,s)=>{const r=M2(s,t.Vc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function P2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof mi||e instanceof zn||e instanceof Ae||e instanceof k2||e instanceof pi)}function L2(e,t,n){if(!P2(n)||!_R(n)){const i=R0(n);throw i==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+i)}}function sU(e,t,n){if((t=Dn(t))instanceof Z0)return t._internalPath;if(typeof t=="string")return j2(e,t);throw Af("Field path arguments must be of type string or ",e,!1,void 0,n)}const rU=new RegExp("[~\\*/\\[\\]]");function j2(e,t,n){if(t.search(rU)>=0)throw Af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Z0(...t.split("."))._internalPath}catch{throw Af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Af(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new J(F.INVALID_ARGUMENT,o+e+u)}function aU(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(z2("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oU extends U2{data(){return super.data()}}function z2(e,t){return typeof t=="string"?j2(e,t):t instanceof Z0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uU{convertValue(t,n="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ta(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,s;const r=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[gf].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>oe(a.doubleValue));return new pi(r)}convertGeoPoint(t){return new mi(oe(t.latitude),oe(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=rd(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_u(t));default:return null}}convertTimestamp(t){const n=Zs(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ee.fromString(t);Nt(s2(i),9688,{name:t});const s=new bu(i.get(1),i.get(3)),r=new tt(i.popFirst(5));return s.isEqual(n)||Ji(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class Sl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mr extends U2{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(z2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Mr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:ve("string",Mr._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Eh extends Mr{data(t={}){return super.data(t)}}class Ja{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sl(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Eh(this._firestore,this._userDataWriter,i.key,i,new Sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new Eh(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Sl(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Eh(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Sl(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:hU(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=C0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(e){e=Gs(e,Ae);const t=Gs(e.firestore,Au);return Xj(J0(t),e._key).then(n=>F2(t,e,n))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:ve("string",Ja._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class B2 extends uU{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function Qc(e,t,n){e=Gs(e,Ae);const i=Gs(e.firestore,Au),s=cU(e.converter,t,n);return dU(i,[iU(nU(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Hi.none())])}function fU(e,...t){var n,i,s;e=Dn(e);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||lS(t[a])||(r=t[a++]);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(lS(t[a])){const d=t[a];t[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[a+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),t[a+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let u,c,h;if(e instanceof Ae)c=Gs(e.firestore,Au),h=od(e._key.path),u={next:d=>{t[a]&&t[a](F2(c,e,d))},error:t[a+1],complete:t[a+2]};else{const d=Gs(e,gd);c=Gs(d.firestore,Au),h=d._query;const m=new B2(c);u={next:g=>{t[a]&&t[a](new Ja(c,m,d,g))},error:t[a+1],complete:t[a+2]},lU(e._query)}return function(m,g,A,C){const I=new R2(C),_=new _2(g,I,A);return m.asyncQueue.enqueueAndForget(async()=>y2(await Ug(m),_)),()=>{I.Ou(),m.asyncQueue.enqueueAndForget(async()=>v2(await Ug(m),_))}}(J0(c),h,o,u)}function dU(e,t){return function(i,s){const r=new Hs;return i.asyncQueue.enqueueAndForget(async()=>Lj(await $j(i),s,r)),r.promise}(J0(e),t)}function F2(e,t,n){const i=n.docs.get(t._key),s=new B2(e);return new Mr(e,s,t._key,i,new Sl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Lo=s})(Po),mo(new Hr("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Au(new s5(i.getProvider("auth-internal")),new o5(a,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(c.options.projectId,h)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Bs(dE,mE,t),Bs(dE,mE,"esm2017")})();function ev(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function H2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mU=H2,G2=new qu("auth","Firebase",H2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new S0("@firebase/auth");function pU(e,...t){xf.logLevel<=_t.WARN&&xf.warn(`Auth (${Po}): ${e}`,...t)}function Sh(e,...t){xf.logLevel<=_t.ERROR&&xf.error(`Auth (${Po}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e,...t){throw iv(e,...t)}function ii(e,...t){return iv(e,...t)}function nv(e,t,n){const i=Object.assign(Object.assign({},mU()),{[t]:n});return new qu("auth","Firebase",i).create(t,{appName:e.name})}function Vr(e){return nv(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gU(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&bi(e,"argument-error"),nv(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iv(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return G2.create(e,...t)}function rt(e,t,...n){if(!e)throw iv(t,...n)}function Li(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sh(t),new Error(t)}function ts(e,t){e||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function yU(){return cS()==="http:"||cS()==="https:"}function cS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yU()||O6()||"connection"in navigator)?navigator.onLine:!0}function _U(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n){this.shortDelay=t,this.longDelay=n,ts(n>t,"Short delay should be less than long delay!"),this.isMobile=D6()||M6()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(e,t){ts(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EU=new Ju(3e4,6e4);function rv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bo(e,t,n,i,s={}){return K2(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=Ku(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:u},r);return k6()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Vo(e.emulatorConfig.host)&&(c.credentials="include"),q2.fetch()(await Y2(e,e.config.apiHost,n,o),c)})}async function K2(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},bU),t);try{const s=new wU(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Wc(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Wc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Wc(e,"user-disabled",a);const h=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nv(e,h,c);bi(e,h)}}catch(s){if(s instanceof ns)throw s;bi(e,"network-request-failed",{message:String(s)})}}async function SU(e,t,n,i,s={}){const r=await Bo(e,t,n,i,s);return"mfaPendingCredential"in r&&bi(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function Y2(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?sv(e.config,s):`${e.config.apiScheme}://${s}`;return TU.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class wU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ii(this.auth,"network-request-failed")),EU.get())})}}function Wc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ii(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(e,t){return Bo(e,"POST","/v1/accounts:delete",t)}async function Cf(e,t){return Bo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xU(e,t=!1){const n=Dn(e),i=await n.getIdToken(t),s=av(i);rt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Ql(Xm(s.auth_time)),issuedAtTime:Ql(Xm(s.iat)),expirationTime:Ql(Xm(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Xm(e){return Number(e)*1e3}function av(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=JC(n);return s?JSON.parse(s):(Sh("Failed to decode base64 JWT payload"),null)}catch(s){return Sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hS(e){const t=av(e);return rt(t,"internal-error"),rt(typeof t.exp<"u","internal-error"),rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ns&&CU(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function CU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(e){var t;const n=e.auth,i=await e.getIdToken(),s=await xu(e,Cf(n,{idToken:i}));rt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const a=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?$2(r.providerUserInfo):[],o=DU(e.providerData,a),u=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(o!=null&&o.length),h=u?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Bg(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function IU(e){const t=Dn(e);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DU(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function $2(e){return e.map(t=>{var{providerId:n}=t,i=ev(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(e,t){const n=await K2(e,{},async()=>{const i=Ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await Y2(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&Vo(e.emulatorConfig.host)&&(u.credentials="include"),q2.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kU(e,t){return Bo(e,"POST","/v2/accounts:revokeToken",rv(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rt(t.idToken,"internal-error"),rt(typeof t.idToken<"u","internal-error"),rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){rt(t.length!==0,"internal-error");const n=hS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await NU(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Za;return i&&(rt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(rt(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(rt(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){rt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ni{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=ev(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Bg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await xu(this,this.stsTokenManager.getToken(this.auth,t));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return xU(this,t)}reload(){return IU(this)}_assign(t){this!==t&&(rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await xu(this,AU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,a,o,u,c,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,A=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(o=n.tenantId)!==null&&o!==void 0?o:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:N,isAnonymous:M,providerData:z,stsTokenManager:E}=n;rt(w&&E,t,"internal-error");const y=Za.fromJSON(this.name,E);rt(typeof w=="string",t,"internal-error"),hs(d,t.name),hs(m,t.name),rt(typeof N=="boolean",t,"internal-error"),rt(typeof M=="boolean",t,"internal-error"),hs(g,t.name),hs(A,t.name),hs(C,t.name),hs(I,t.name),hs(_,t.name),hs(v,t.name);const T=new ni({uid:w,auth:t,email:m,emailVerified:N,displayName:d,isAnonymous:M,photoURL:A,phoneNumber:g,tenantId:C,stsTokenManager:y,createdAt:_,lastLoginAt:v});return z&&Array.isArray(z)&&(T.providerData=z.map(x=>Object.assign({},x))),I&&(T._redirectEventId=I),T}static async _fromIdTokenResponse(t,n,i=!1){const s=new Za;s.updateFromServerResponse(n);const r=new ni({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Rf(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];rt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?$2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Za;o.updateFromIdToken(i);const u=new ni({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Bg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new Map;function ji(e){ts(e instanceof Function,"Expected a class definition");let t=fS.get(e);return t?(ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}X2.type="NONE";const dS=X2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(e,t,n){return`firebase:${e}:${t}:${n}`}class to{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=wh(this.userKey,s.apiKey,r),this.fullPersistenceKey=wh("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cf(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new to(ji(dS),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||ji(dS);const a=wh(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let d;if(typeof h=="string"){const m=await Cf(t,{idToken:h}).catch(()=>{});if(!m)break;d=await ni._fromGetAccountInfoResponse(t,m,h)}else d=ni._fromJSON(t,h);c!==r&&(o=d),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new to(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new to(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eI(t))return"Blackberry";if(nI(t))return"Webos";if(W2(t))return"Safari";if((t.includes("chrome/")||J2(t))&&!t.includes("edge/"))return"Chrome";if(tI(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Q2(e=Je()){return/firefox\//i.test(e)}function W2(e=Je()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function J2(e=Je()){return/crios\//i.test(e)}function Z2(e=Je()){return/iemobile/i.test(e)}function tI(e=Je()){return/android/i.test(e)}function eI(e=Je()){return/blackberry/i.test(e)}function nI(e=Je()){return/webos/i.test(e)}function ov(e=Je()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OU(e=Je()){var t;return ov(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MU(){return V6()&&document.documentMode===10}function iI(e=Je()){return ov(e)||tI(e)||nI(e)||eI(e)||/windows phone/i.test(e)||Z2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(e,t=[]){let n;switch(e){case"Browser":n=mS(Je());break;case"Worker":n=`${mS(Je())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(e,t={}){return Bo(e,"GET","/v2/passwordPolicy",rv(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=6;class jU{constructor(t){var n,i,s,r;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:LU,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,r,a,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pS(this),this.idTokenSubscription=new pS(this),this.beforeStateQueue=new VU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await to.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cf(this,{idToken:t}),i=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ti(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_U()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Vr(this));const n=t?Dn(t):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PU(this),n=new jU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qu("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await kU(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&pU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yd(e){return Dn(e)}class pS{constructor(t){this.auth=t,this.observer=null,this.addObserver=H6(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zU(e){lv=e}function BU(e){return lv.loadJS(e)}function FU(){return lv.gapiScript}function HU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(e,t){const n=A0(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Fr(r,t??{}))return s;bi(s,"already-initialized")}return n.initialize({options:t})}function qU(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ji);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function KU(e,t,n){const i=yd(e);rt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=rI(t),{host:a,port:o}=YU(t),u=o===null?"":`:${o}`,c={url:`${r}//${a}${u}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){rt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),rt(Fr(c,i.config.emulator)&&Fr(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Vo(a)?(nR(`${r}//${a}${u}`),iR("Auth",!0)):$U()}function rI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function YU(e){const t=rI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:gS(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:gS(a)}}}function gS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function $U(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,n){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e,t){return SU(e,"POST","/v1/accounts:signInWithIdp",rv(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="http://localhost";class Kr extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=ev(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Kr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return eo(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,eo(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,eo(t,n)}buildRequest(){const t={requestUri:XU,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ku(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends uv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Zu{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Kr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Zu{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ts.credential(t.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Zu{constructor(){super("twitter.com")}static credential(t,n){return Kr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Es.credential(n,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await ni._fromIdTokenResponse(t,i,s),a=yS(i);return new bo({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=yS(i);return new bo({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function yS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends ns{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new If(t,n,i,s)}}function oI(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(e,r,t,i):r})}async function QU(e,t,n=!1){const i=await xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bo._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(e,t,n=!1){const{auth:i}=e;if(ti(i.app))return Promise.reject(Vr(i));const s="reauthenticate";try{const r=await xu(e,oI(i,s,t,e),n);rt(r.idToken,i,"internal-error");const a=av(r.idToken);rt(a,i,"internal-error");const{sub:o}=a;return rt(e.uid===o,i,"user-mismatch"),bo._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&bi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(e,t,n=!1){if(ti(e.app))return Promise.reject(Vr(e));const i="signIn",s=await oI(e,i,t),r=await bo._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}function ZU(e,t,n,i){return Dn(e).onIdTokenChanged(t,n,i)}function tz(e,t,n){return Dn(e).beforeAuthStateChanged(t,n)}function ez(e,t,n,i){return Dn(e).onAuthStateChanged(t,n,i)}function nz(e){return Dn(e).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=1e3,sz=10;class uI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);MU()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,sz):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},iz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uI.type="LOCAL";const rz=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}cI.type="SESSION";const hI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new vd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),u=await az(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const c=cv("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(h),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function lz(e){gi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function uz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function hz(){return fI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebaseLocalStorageDb",fz=1,Nf="firebaseLocalStorage",mI="fbase_key";class tc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(e,t){return e.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function dz(){const e=indexedDB.deleteDatabase(dI);return new tc(e).toPromise()}function Fg(){const e=indexedDB.open(dI,fz);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Nf,{keyPath:mI})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Nf)?t(i):(i.close(),await dz(),t(await Fg()))})})}async function vS(e,t,n){const i=_d(e,!0).put({[mI]:t,value:n});return new tc(i).toPromise()}async function mz(e,t){const n=_d(e,!1).get(t),i=await new tc(n).toPromise();return i===void 0?null:i.value}function _S(e,t){const n=_d(e,!0).delete(t);return new tc(n).toPromise()}const pz=800,gz=3;class pI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>gz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(hz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await uz(),!this.activeServiceWorker)return;this.sender=new oz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fg();return await vS(t,Df,"1"),await _S(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vS(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>mz(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_S(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=_d(s,!1).getAll();return new tc(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pI.type="LOCAL";const yz=pI;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e,t){return t?ji(t):(rt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends aI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return eo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vz(e){return JU(e.auth,new hv(e),e.bypassAuthState)}function _z(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),WU(n,new hv(e),e.bypassAuthState)}async function bz(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),QU(n,new hv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vz;case"linkViaPopup":case"linkViaRedirect":return bz;case"reauthViaPopup":case"reauthViaRedirect":return _z;default:bi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new Ju(2e3,1e4);async function Ez(e,t,n){if(ti(e.app))return Promise.reject(ii(e,"operation-not-supported-in-this-environment"));const i=yd(e);gU(e,t,uv);const s=gI(i,n);return new Cr(i,"signInViaPopup",t,s).executeNotNull()}class Cr extends yI{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Cr.currentPopupAction&&Cr.currentPopupAction.cancel(),Cr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Tz.get())};t()}}Cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="pendingRedirect",Ah=new Map;class wz extends yI{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Ah.get(this.auth._key());if(!t){try{const i=await Az(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Ah.set(this.auth._key(),t)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Az(e,t){const n=Rz(t),i=Cz(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function xz(e,t){Ah.set(e._key(),t)}function Cz(e){return ji(e._redirectPersistence)}function Rz(e){return wh(Sz,e.config.apiKey,e.name)}async function Iz(e,t,n=!1){if(ti(e.app))return Promise.reject(Vr(e));const i=yd(e),s=gI(i,t),a=await new wz(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=10*60*1e3;class Nz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!vI(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(bS(t))}saveEventToCache(t){this.cachedEventUids.add(bS(t)),this.lastProcessedEventTime=Date.now()}}function bS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function vI({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vI(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(e,t={}){return Bo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vz=/^https?/;async function Pz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Oz(e);for(const n of t)try{if(Lz(n))return}catch{}bi(e,"unauthorized-domain")}function Lz(e){const t=zg(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Vz.test(n))return!1;if(Mz.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new Ju(3e4,6e4);function TS(){const e=gi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Uz(e){return new Promise((t,n)=>{var i,s,r;function a(){TS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{TS(),n(ii(e,"network-request-failed"))},timeout:jz.get()})}if(!((s=(i=gi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=gi().gapi)===null||r===void 0)&&r.load)a();else{const o=HU("iframefcb");return gi()[o]=()=>{gapi.load?a():n(ii(e,"network-request-failed"))},BU(`${FU()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw xh=null,t})}let xh=null;function zz(e){return xh=xh||Uz(e),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new Ju(5e3,15e3),Fz="__/auth/iframe",Hz="emulator/auth/iframe",Gz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kz(e){const t=e.config;rt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sv(t,Hz):`https://${e.config.authDomain}/${Fz}`,i={apiKey:t.apiKey,appName:e.name,v:Po},s=qz.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ku(i).slice(1)}`}async function Yz(e){const t=await zz(e),n=gi().gapi;return rt(n,e,"internal-error"),t.open({where:document.body,url:Kz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gz,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=ii(e,"network-request-failed"),o=gi().setTimeout(()=>{r(a)},Bz.get());function u(){gi().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xz=500,Qz=600,Wz="_blank",Jz="http://localhost";class ES{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zz(e,t,n,i=Xz,s=Qz){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u=Object.assign(Object.assign({},$z),{width:i.toString(),height:s.toString(),top:r,left:a}),c=Je().toLowerCase();n&&(o=J2(c)?Wz:n),Q2(c)&&(t=t||Jz,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[g,A])=>`${m}${g}=${A},`,"");if(OU(c)&&o!=="_self")return t8(t||"",o),new ES(null);const d=window.open(t||"",o,h);rt(d,e,"popup-blocked");try{d.focus()}catch{}return new ES(d)}function t8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="__/auth/handler",n8="emulator/auth/handler",i8=encodeURIComponent("fac");async function SS(e,t,n,i,s,r){rt(e.config.authDomain,e,"auth-domain-config-required"),rt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Po,eventId:s};if(t instanceof uv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",F6(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(t instanceof Zu){const h=t.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await e._getAppCheckToken(),c=u?`#${i8}=${encodeURIComponent(u)}`:"";return`${s8(e)}?${Ku(o).slice(1)}${c}`}function s8({config:e}){return e.emulator?sv(e,n8):`https://${e.authDomain}/${e8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class r8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=Iz,this._overrideRedirectResult=xz}async _openPopup(t,n,i,s){var r;ts((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await SS(t,n,i,zg(),s);return Zz(t,a,cv())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await SS(t,n,i,zg(),s);return lz(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ts(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Yz(t),i=new Nz(t);return n.register("authEvent",s=>(rt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qm,{type:Qm},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Qm];a!==void 0&&n(!!a),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||W2()||ov()}}const a8=r8;var wS="@firebase/auth",AS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u8(e){mo(new Hr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;rt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(e)},c=new UU(i,s,r,u);return qU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),mo(new Hr("auth-internal",t=>{const n=yd(t.getProvider("auth").getImmediate());return(i=>new o8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(wS,AS,l8(e)),Bs(wS,AS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=5*60,h8=eR("authIdTokenMaxAge")||c8;let xS=null;const f8=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>h8)return;const s=n==null?void 0:n.token;xS!==s&&(xS=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d8(e=oR()){const t=A0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=GU(e,{popupRedirectResolver:a8,persistence:[yz,rz,hI]}),i=eR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=f8(r.toString());tz(n,a,()=>a(n.currentUser)),ZU(n,o=>a(o))}}const s=ZC("auth");return s&&KU(n,`http://${s}`),n}function m8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}zU({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=ii("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",m8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u8("Browser");const p8={apiKey:"AIzaSyCLVCys2m9HuDfuQK8vFSbmb1THy-puee0",authDomain:"habbit-tracker-c2779.firebaseapp.com",projectId:"habbit-tracker-c2779",storageBucket:"habbit-tracker-c2779.firebasestorage.app",messagingSenderId:"183352081475",appId:"1:183352081475:web:2998e867106f70d230e8f6"},_I=aR(p8),hl=Wj(_I),Wm=d8(_I),g8=new Oi;var CS;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(CS||(CS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(RS||(RS={}));var IS;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(IS||(IS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=["user","model","function","system"];var NS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(NS||(NS={}));var kS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(kS||(kS={}));var OS;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(OS||(OS={}));var MS;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(MS||(MS={}));var Wl;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Wl||(Wl={}));var VS;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(VS||(VS={}));var PS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(PS||(PS={}));var LS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(LS||(LS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class _a extends We{constructor(t,n){super(t),this.response=n}}class bI extends We{constructor(t,n,i,s){super(t),this.status=n,this.statusText=i,this.errorDetails=s}}class qs extends We{}class TI extends We{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="https://generativelanguage.googleapis.com",v8="v1beta",_8="0.24.1",b8="genai-js";var Yr;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Yr||(Yr={}));class T8{constructor(t,n,i,s,r){this.model=t,this.task=n,this.apiKey=i,this.stream=s,this.requestOptions=r}toString(){var t,n;const i=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||v8;let r=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||y8}/${i}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}function E8(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${b8}/${_8}`),t.join(" ")}async function S8(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",E8(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let i=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(s){throw new qs(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${s.message}`)}for(const[s,r]of i.entries()){if(s==="x-goog-api-key")throw new qs(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new qs(`Header name ${s} can only be set using the apiClient field`);n.append(s,r)}}return n}async function w8(e,t,n,i,s,r){const a=new T8(e,t,n,i,r);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},R8(r)),{method:"POST",headers:await S8(a),body:s})}}async function ec(e,t,n,i,s,r={},a=fetch){const{url:o,fetchOptions:u}=await w8(e,t,n,i,s,r);return A8(o,u,a)}async function A8(e,t,n=fetch){let i;try{i=await n(e,t)}catch(s){x8(s,e)}return i.ok||await C8(i,e),i}function x8(e,t){let n=e;throw n.name==="AbortError"?(n=new TI(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof bI||e instanceof qs||(n=new We(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function C8(e,t){let n="",i;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,i=s.error.details)}catch{}throw new bI(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,i)}function R8(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ch(e.candidates[0]))throw new _a(`${ps(e)}`,e);return I8(e)}else if(e.promptFeedback)throw new _a(`Text not available. ${ps(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ch(e.candidates[0]))throw new _a(`${ps(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),jS(e)[0]}else if(e.promptFeedback)throw new _a(`Function call not available. ${ps(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ch(e.candidates[0]))throw new _a(`${ps(e)}`,e);return jS(e)}else if(e.promptFeedback)throw new _a(`Function call not available. ${ps(e)}`,e)},e}function I8(e){var t,n,i,s;const r=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)a.text&&r.push(a.text),a.executableCode&&r.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&r.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return r.length>0?r.join(""):""}function jS(e){var t,n,i,s;const r=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&r.push(a.functionCall);if(r.length>0)return r}const D8=[Wl.RECITATION,Wl.SAFETY,Wl.LANGUAGE];function Ch(e){return!!e.finishReason&&D8.includes(e.finishReason)}function ps(e){var t,n,i;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((i=e.candidates)===null||i===void 0)&&i[0]){const r=e.candidates[0];Ch(r)&&(s+=`Candidate was blocked due to ${r.finishReason}`,r.finishMessage&&(s+=`: ${r.finishMessage}`))}return s}function Cu(e){return this instanceof Cu?(this.v=e,this):new Cu(e)}function N8(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){i[m]&&(s[m]=function(g){return new Promise(function(A,C){r.push([m,g,A,C])>1||o(m,g)})})}function o(m,g){try{u(i[m](g))}catch(A){d(r[0][3],A)}}function u(m){m.value instanceof Cu?Promise.resolve(m.value.v).then(c,h):d(r[0][2],m)}function c(m){o("next",m)}function h(m){o("throw",m)}function d(m,g){m(g),r.shift(),r.length&&o(r[0][0],r[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function k8(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=V8(t),[i,s]=n.tee();return{stream:M8(i),response:O8(s)}}async function O8(e){const t=[],n=e.getReader();for(;;){const{done:i,value:s}=await n.read();if(i)return fv(P8(t));t.push(s)}}function M8(e){return N8(this,arguments,function*(){const n=e.getReader();for(;;){const{value:i,done:s}=yield Cu(n.read());if(s)break;yield yield Cu(fv(i))}})}function V8(e){const t=e.getReader();return new ReadableStream({start(i){let s="";return r();function r(){return t.read().then(({value:a,done:o})=>{if(o){if(s.trim()){i.error(new We("Failed to parse stream"));return}i.close();return}s+=a;let u=s.match(US),c;for(;u;){try{c=JSON.parse(u[1])}catch{i.error(new We(`Error parsing JSON response: "${u[1]}"`));return}i.enqueue(c),s=s.substring(u[0].length),u=s.match(US)}return r()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new TI("Request aborted when reading from the stream"):o=new We("Error reading from the stream"),o})}}})}function P8(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const i of e){if(i.candidates){let s=0;for(const r of i.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=r.citationMetadata,n.candidates[s].groundingMetadata=r.groundingMetadata,n.candidates[s].finishReason=r.finishReason,n.candidates[s].finishMessage=r.finishMessage,n.candidates[s].safetyRatings=r.safetyRatings,r.content&&r.content.parts){n.candidates[s].content||(n.candidates[s].content={role:r.content.role||"user",parts:[]});const a={};for(const o of r.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[s].content.parts.push(a)}s++}i.usageMetadata&&(n.usageMetadata=i.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e,t,n,i){const s=await ec(t,Yr.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),i);return k8(s)}async function SI(e,t,n,i){const r=await(await ec(t,Yr.GENERATE_CONTENT,e,!1,JSON.stringify(n),i)).json();return{response:fv(r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ru(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return L8(t)}function L8(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let i=!1,s=!1;for(const r of e)"functionResponse"in r?(n.parts.push(r),s=!0):(t.parts.push(r),i=!0);if(i&&s)throw new We("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!s)throw new We("No content is provided for sending chat message.");return i?t:n}function j8(e,t){var n;let i={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new qs("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=e.contents}else if(s)i=Object.assign(Object.assign({},i),e.generateContentRequest);else{const r=Ru(e);i.contents=[r]}return{generateContentRequest:i}}function zS(e){let t;return e.contents?t=e:t={contents:[Ru(e)]},e.systemInstruction&&(t.systemInstruction=wI(e.systemInstruction)),t}function U8(e){return typeof e=="string"||Array.isArray(e)?{content:Ru(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],z8={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function B8(e){let t=!1;for(const n of e){const{role:i,parts:s}=n;if(!t&&i!=="user")throw new We(`First content should be with role 'user', got ${i}`);if(!DS.includes(i))throw new We(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(DS)}`);if(!Array.isArray(s))throw new We("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new We("Each Content should have at least one part");const r={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const u of BS)u in o&&(r[u]+=1);const a=z8[i];for(const o of BS)if(!a.includes(o)&&r[o]>0)throw new We(`Content with role '${i}' can't contain '${o}' part`);t=!0}}function FS(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const i of n.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="SILENT_ERROR";class F8{constructor(t,n,i,s={}){this.model=n,this.params=i,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,i!=null&&i.history&&(B8(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var i,s,r,a,o,u;await this._sendPromise;const c=Ru(t),h={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>SI(this._apiKey,this.model,h,d)).then(g=>{var A;if(FS(g.response)){this._history.push(c);const C=Object.assign({parts:[],role:"model"},(A=g.response.candidates)===null||A===void 0?void 0:A[0].content);this._history.push(C)}else{const C=ps(g.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}m=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,m}async sendMessageStream(t,n={}){var i,s,r,a,o,u;await this._sendPromise;const c=Ru(t),h={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),m=EI(this._apiKey,this.model,h,d);return this._sendPromise=this._sendPromise.then(()=>m).catch(g=>{throw new Error(HS)}).then(g=>g.response).then(g=>{if(FS(g)){this._history.push(c);const A=Object.assign({},g.candidates[0].content);A.role||(A.role="model"),this._history.push(A)}else{const A=ps(g);A&&console.warn(`sendMessageStream() was unsuccessful. ${A}. Inspect response object for details.`)}}).catch(g=>{g.message!==HS&&console.error(g)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(e,t,n,i){return(await ec(t,Yr.COUNT_TOKENS,e,!1,JSON.stringify(n),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(e,t,n,i){return(await ec(t,Yr.EMBED_CONTENT,e,!1,JSON.stringify(n),i)).json()}async function q8(e,t,n,i){const s=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await ec(t,Yr.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n,i={}){this.apiKey=t,this._requestOptions=i,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=wI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var i;const s=zS(t),r=Object.assign(Object.assign({},this._requestOptions),n);return SI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),r)}async generateContentStream(t,n={}){var i;const s=zS(t),r=Object.assign(Object.assign({},this._requestOptions),n);return EI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),r)}startChat(t){var n;return new F8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const i=j8(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return H8(this.apiKey,this.model,i,s)}async embedContent(t,n={}){const i=U8(t),s=Object.assign(Object.assign({},this._requestOptions),n);return G8(this.apiKey,this.model,i,s)}async batchEmbedContents(t,n={}){const i=Object.assign(Object.assign({},this._requestOptions),n);return q8(this.apiKey,this.model,t,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new We("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new GS(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,i){if(!t.name)throw new qs("Cached content must contain a `name` field.");if(!t.model)throw new qs("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(n!=null&&n[a]&&t[a]&&(n==null?void 0:n[a])!==t[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===u)continue}throw new qs(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${t[a]})`)}const r=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new GS(this.apiKey,r,i)}}const Y8="AIzaSyBbtHMmdEB9GoMXEHFT9Ei0WNXNYO-DhJk";let Hg=null;Hg=new K8(Y8);const $8="gemini-2.5-flash",To=Hg?Hg.getGenerativeModel({model:$8}):null;async function qS(e){if(!To)return{emoji:"",category:"Other"};try{const t=`
        Analyze the following task and suggest a relevant emoji and a category.
        Task: "${e}"
        
        Categories: Work, Personal, Health, Finance, Learning, Social, Other.
        
        return valid JSON format:
        {
            "emoji": "",
            "category": "Work"
        }
        `,s=(await To.generateContent({contents:[{role:"user",parts:[{text:t}]}],generationConfig:{responseMimeType:"application/json"}})).response.text(),r=JSON.parse(s);return{emoji:r.emoji||"",category:r.category||"Other"}}catch(t){return console.error("Gemini AI Error:",t),{emoji:"",category:"Other"}}}async function X8(e){if(!To||e.length===0)return null;try{const t=e.map(c=>`- [${c.id}] ${c.text}`).join(`
`),s=`
        You are a productivity expert using the "Eat The Frog" method.
        Current Time: ${new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",weekday:"long"})}
        
        Analyze the following list of tasks and identify the ONE single task that is the most relevant to do NOW.
        
        Rules:
        1. TIME AWARENESS:
           - Late (> 18:00): Avoid heavy "Work". Prioritize family, relax, or prep for tomorrow.
           - Work Hours (9-17): Prioritize high-impact professional tasks.
           - Lunch/Break (12-13): Suggest lighter tasks or break-related habits.
        
        2. DAY AWARENESS:
           - Weekend (Saturday/Sunday): Prioritize personal hobbies, social, family, or chores. AVOID strictly office work unless it says "Urgent".
           
        3. FROG DEFINITION:
           - The "Frog" is the task that best fits effective time management for the CURRENT moment.


        Tasks:
        ${t}
        
        Return valid JSON with the ID of the priority task and a short reason (max 10 words).
        Example:
        {
            "priorityTaskId": "12345",
            "reason": "Best to do in evening"
        }
        `,o=(await To.generateContent({contents:[{role:"user",parts:[{text:s}]}],generationConfig:{responseMimeType:"application/json"}})).response.text();return JSON.parse(o).priorityTaskId||null}catch(t){return console.error("Gemini Priority Error:",t),null}}async function Q8(e,t,n,i,s="id"){if(!To)return null;try{const r=i.map(d=>`- ${d}`).join(`
`),a=`
        You are a friendly, energetic, and supportive AI productivity coach named "PingTidy AI".
        User Name: ${e}
        Language: ${s==="id"?'Indonesian (Casual, Gen-Z friendly, Use slang like "Semangat", "Gaspol")':"English (Casual, Upbeat, Gen-Z friendly)"}
        
        Context:
        - Yesterday, the user completed ${Math.round(t*100)}% of their habits (Total items: ${n}).
        - Today, they have these habits planned:
        ${r}
        
        Generate a morning briefing in valid JSON format with the following fields:
        1. "greeting": A warm, personalized morning greeting.
        2. "summary": A 1-sentence comment on yesterday's performance. Be encouraging if low, celebratory if high.
        3. "suggestion": Pick 1-2 habits from today's list to focus on first, or suggest a general mindset based on the list. Max 1 sentence.
        4. "motivation": A short, punchy motivational quote or sentence to start the day.
        
        IMPORTANT: Output MUST be in ${s==="id"?"Indonesian":"English"}.

        Example JSON (${s==="id"?"ID":"EN"}):
        {
            "greeting": "${s==="id"?"Morning, Sarah!  Semangat pagi!":"Morning, Sarah!  Rise and shine!"}",
            "summary": "${s==="id"?"Kemarin produktivitasmu oke banget, pertahankan!":"You crushed it yesterday, keep it up!"}",
            "suggestion": "${s==="id"?"Fokus selesaikan 'Lari Pagi' dulu biar mood booster.":"Knock out 'Morning Run' first for a mood boost."}",
            "motivation": "${s==="id"?"Consistency is key. Gaspol! ":"Consistency is key. Let's go! "}"
        }
        `,c=(await To.generateContent({contents:[{role:"user",parts:[{text:a}]}],generationConfig:{responseMimeType:"application/json"}})).response.text(),h=JSON.parse(c);return{greeting:h.greeting||`Hi ${e}!`,summary:h.summary||"Let's make today count!",suggestion:h.suggestion||"Focus on your top priority.",motivation:h.motivation||"You got this!"}}catch(r){return console.error("Gemini Briefing Error:",r),null}}function nn(...e){return g6(RP(e))}const W8=[{id:"d1",text:"Drink 2L water",emoji:"",category:"Health",createdAt:""},{id:"d2",text:"Read 10 pages",emoji:"",category:"Growth",createdAt:""},{id:"d3",text:"Morning meditation",emoji:"",category:"Mindfulness",createdAt:""},{id:"d4",text:"Work on PingTidy",emoji:"",category:"Work",createdAt:""}];function J8(){var ca;const[e,t]=P.useState(null),[n,i]=P.useState("today"),[s,r]=P.useState([]),[a,o]=P.useState({}),[u,c]=P.useState({}),[h,d]=P.useState(null),[m,g]=P.useState(""),[A,C]=P.useState(""),I=e?s.filter(B=>!B.id.startsWith("d")):s,[_,v]=P.useState(!1),[w,N]=P.useState(!1),[M,z]=P.useState(0),[E,y]=P.useState(!1),[T,x]=P.useState(!0),[D,k]=P.useState(!1),[R,ce]=P.useState(!1),[te,G]=P.useState(null),[K,U]=P.useState(null),[nt,St]=P.useState("id"),[Ze,_e]=P.useState(!1),[gt,Lt]=P.useState(null),[he,or]=P.useState(null),[Dt,lr]=P.useState(new Date),[be,tn]=P.useState(null),[Oe,cn]=P.useState([]),[ur,sa]=P.useState(!1),[ri,Fo]=P.useState(null),[is,Ho]=P.useState(null),[ra,aa]=P.useState(!1),[nc,oa]=P.useState(!1),wt={id:{halo:"Halo,",cloud_active:"Cloud Aktif",syncing:"Sinkron...",terhubung:"Terhubung",offline:"Offline",target:"Target",hari:"Apa Targetmu",hari_ini:"Hari Ini",terpilih:"Hari Ini?",placeholder:"Tulis target baru Anda...",belum_ada_data:"Belum ada data di cloud.",riwayat:"Riwayat",perjalanan:"Project History",selesai:"Selesai",keluar:"Keluar",tersimpan:"Tersimpan",tagline:"Setiap perubahan yang berarti dimulai dari kebiasaan kecil  mulailah dengan lembut hari ini, dan biarkan konsistensi membentuk dirimu.",mulai:"Mulai dengan Google",detail_tugas:"Detail Tugas",semua_tugas:"Semua Tugas Terdata",tutup:"Tutup",reset_filter:"Lihat 7 Hari Terakhir",pilih_tanggal:"Pilih tanggal di kalender untuk filter",catatan_harian:"Catatan Harian",tambah_catatan:"Tambah Catatan",edit_catatan:"Edit Catatan",simpan:"Simpan",batal:"Batal",tulis_catatan:"Tulis evaluasi atau catatan hari ini...",signup:"Daftar dengan Google",tidak_ada_catatan:"Tidak ada catatan untuk hari ini.",konfirmasi_salin:"Konfirmasi Salin",pesan_salin_banyak:"Pilih tugas yang ingin disalin ke hari ini:",konfirmasi_salin_satu:"Salin Tugas",pesan_salin_satu:"Salin tugas ini ke hari ini?",ya:"Salin Terpilih",pilih_semua:"Pilih Semua"},en:{halo:"Hello,",cloud_active:"Cloud Active",syncing:"Syncing...",terhubung:"Connected",offline:"Offline",target:"Today's",hari:"What's Your Target",hari_ini:"Today",terpilih:"Today?",placeholder:"Write your new target...",belum_ada_data:"No data in the cloud yet.",riwayat:"Progress",perjalanan:"Project History",selesai:"Done",keluar:"Logout",tersimpan:"Saved",tagline:"Every meaningful change begins with a small habit  start gently today, and let consistency shape who you become.",mulai:"Start with Google",detail_tugas:"Task Details",semua_tugas:"All Recorded Tasks",tutup:"Close",reset_filter:"Show Last 7 Days",pilih_tanggal:"Click a date in calendar to filter",catatan_harian:"Daily Note",tambah_catatan:"Add Note",edit_catatan:"Edit Note",simpan:"Save",batal:"Cancel",tulis_catatan:"Write today's evaluation or notes...",signup:"Sign up with Google",tidak_ada_catatan:"No notes for today.",konfirmasi_salin:"Confirm Copy",pesan_salin_banyak:"Select tasks to copy to today's list:",konfirmasi_salin_satu:"Copy Task",pesan_salin_satu:"Copy this task to today?",ya:"Copy Selected",pilih_semua:"Select All"}}[nt],Kn=B=>{const H=B.getFullYear(),Y=String(B.getMonth()+1).padStart(2,"0"),Z=String(B.getDate()).padStart(2,"0");return`${H}-${Y}-${Z}`},Go=()=>Kn(new Date),ut=Go();P.useEffect(()=>{try{localStorage.getItem("theme")==="dark"&&y(!0);const H=localStorage.getItem("language");(H==="en"||H==="id")&&St(H);const Y=localStorage.getItem("local_habits_fallback"),Z=localStorage.getItem("local_completions_fallback"),ht=localStorage.getItem("local_notes_fallback");Y&&r(JSON.parse(Y)),Z&&o(JSON.parse(Z)),ht&&c(JSON.parse(ht));const ft=ez(Wm,it=>{t(it),x(!1)});return()=>ft()}catch(B){console.error("Error loading initial state:",B),x(!1)}},[]),P.useEffect(()=>{if(!e){const Y=Kn(new Date),Z=W8.map(ht=>({...ht,createdAt:Y}));r(Z),o({}),k(!1);return}s.some(Y=>Y.id.startsWith("d"))&&(r([]),o({})),k(!0);let B;return(async()=>{var ft,it;const Y=e.uid,Z=e.email;let ht=cl(hl,"users",Y);if(Z)try{const at=cl(hl,"users",Z),At=cl(hl,"users",Y),[Bt,jt]=await Promise.all([uS(at),uS(At)]);if(Bt.exists()&&!jt.exists())ht=at;else if(Bt.exists()&&jt.exists()){const Ft=Bt.data(),Me=jt.data();(((ft=Ft==null?void 0:Ft.habits)==null?void 0:ft.length)||0)>=(((it=Me==null?void 0:Me.habits)==null?void 0:it.length)||0)&&(ht=at)}}catch(at){console.error("Error checking legacy docs:",at)}B=fU(ht,at=>{if(at.exists()){const At=at.data();let Bt=At.habits||[];if(Bt.some(en=>!en.createdAt)){const en=Kn(new Date);Bt=Bt.map(ss=>({...ss,createdAt:ss.createdAt||en})),Qc(ht,{habits:Bt},{merge:!0})}const jt=Kn(new Date),Ft=Bt.filter(en=>en.createdAt===jt),Me=Bt.filter(en=>en.createdAt!==jt),Re=At.completions||{},$n=[...Ft].sort((en,ss)=>{if(ri){if(en.id===ri)return-1;if(ss.id===ri)return 1}const ha=(Re[jt]||[]).includes(en.id),fa=(Re[jt]||[]).includes(ss.id);return ha===fa?0:ha?1:-1}),lc=[...Me,...$n];r(lc),localStorage.setItem("local_habits_fallback",JSON.stringify(lc)),At.completions?(o(At.completions),localStorage.setItem("local_completions_fallback",JSON.stringify(At.completions))):o({}),At.notes?(c(At.notes),localStorage.setItem("local_notes_fallback",JSON.stringify(At.notes))):c({}),U(new Date().toLocaleTimeString()),At.tutorialSeen===void 0&&N(!0)}else{const At=localStorage.getItem("local_habits_fallback"),Bt=localStorage.getItem("local_completions_fallback"),jt=localStorage.getItem("local_notes_fallback");if(At)try{const Ft=JSON.parse(At);if(Ft.length>0){console.log("Migrating Guest Data to Cloud...");const Me=Bt?JSON.parse(Bt):{},Re=jt?JSON.parse(jt):{};r(Ft),o(Me),c(Re),Qc(ht,{habits:Ft,completions:Me,notes:Re,migratedFromGuest:!0,lastUpdated:new Date().toISOString()},{merge:!0})}else r([]),o({}),c({})}catch(Ft){console.error("Migration failed",Ft),r([])}else r([]),o({}),c({});U(null),N(!0)}ce(!0),k(!1),G(null)},at=>{console.error("Firestore Error:",at),G("Sync Error. Check connection."),k(!1)})})(),()=>{B&&B()}},[e,ri]),P.useEffect(()=>{E?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[E]),P.useEffect(()=>{const H=setTimeout(async()=>{if(!e||!R)return;const Y=Go(),Z=`pingtidy_briefing_${Y}_${e.uid}_${nt}_v2`,ht=localStorage.getItem(Z);if(ht){Ho(JSON.parse(ht));return}if(ra)return;aa(!0);const ft=new Date;ft.setDate(ft.getDate()-1);const it=Kn(ft),at=s.filter($n=>$n.createdAt===it),At=at.length,Bt=a[it]||[],jt=at.filter($n=>Bt.includes($n.id)).length,Ft=At>0?jt/At:0,Me=I.filter($n=>$n.createdAt===Y).map($n=>$n.text),Re=await Q8(e.displayName||"Friend",Ft,At,Me,nt);Re&&(Ho(Re),localStorage.setItem(Z,JSON.stringify(Re))),aa(!1)},1e3);return()=>clearTimeout(H)},[e,R,s.length,nt]);const Mt=async(B,H,Y)=>{if(!(!e||!R)){v(!0);try{localStorage.setItem("local_habits_fallback",JSON.stringify(B)),localStorage.setItem("local_completions_fallback",JSON.stringify(H)),localStorage.setItem("local_notes_fallback",JSON.stringify(Y));const Z=e.email||e.uid;await Qc(cl(hl,"users",Z),{habits:B,completions:H,notes:Y,lastUpdated:new Date().toISOString(),email:e.email,name:e.displayName},{merge:!0}),U(new Date().toLocaleTimeString()),G(null)}catch(Z){console.error("Save error:",Z),G("Gagal menyimpan ke Cloud. Data tersimpan di Lokal.")}finally{v(!1)}}},la=()=>{const B=nt==="id"?"en":"id";St(B),localStorage.setItem("language",B)},ic=async()=>{try{await Ez(Wm,g8)}catch(B){console.error("Login error:",B),G("Gagal masuk dengan Google.")}},sc=async()=>{try{await nz(Wm)}catch(B){console.error("Logout error:",B)}},bd=async B=>{if(B.preventDefault(),!e){oa(!0);return}if(!A.trim())return;const H=Date.now().toString(),Y={id:H,text:A.trim(),createdAt:ut,isAiAnalyzing:!0},Z=I,ht=Z.filter(at=>at.createdAt!==ut),ft=Z.filter(at=>at.createdAt===ut);let it=[...ht,Y,...ft];r(it),C(""),await Mt(it,a,u);try{const at=await qS(Y.text);it=it.map(At=>At.id===H?{...At,emoji:at.emoji,category:at.category,isAiAnalyzing:!1}:At),r(it),await Mt(it,a,u)}catch(at){console.error("AI Auto-label failed:",at),it=it.map(At=>At.id===H?{...At,isAiAnalyzing:!1,emoji:""}:At),r(it),await Mt(it,a,u)}},cr=async B=>{const H=I.filter(Y=>Y.id!==B);r(H),await Mt(H,a,u)},rc=async(B,H=ut)=>{const Y=a[H]||[],ht=!Y.includes(B)?[...Y,B]:Y.filter(it=>it!==B),ft={...a,[H]:ht};if(o(ft),H===ut){const it=I.filter(jt=>jt.createdAt===ut),at=I.filter(jt=>jt.createdAt!==ut),At=[...it].sort((jt,Ft)=>{const Me=ht.includes(jt.id),Re=ht.includes(Ft.id);return Me===Re?0:Me?1:-1}),Bt=[...at,...At];r(Bt),await Mt(Bt,ft,u)}else await Mt(I,ft,u)},ac=async B=>{const H={...u,[B]:m};c(H),d(null),await Mt(s,a,H)},qo=async B=>{const H=Date.now().toString(),Y={id:H,text:B,createdAt:ut,isAiAnalyzing:!0};let Z=[...I,Y];r(Z),await Mt(Z,a,u);try{const ht=await qS(B);Z=Z.map(ft=>ft.id===H?{...ft,emoji:ht.emoji,category:ht.category,isAiAnalyzing:!1}:ft),r(Z),await Mt(Z,a,u)}catch(ht){console.error("AI Copy generation failed:",ht),Z=Z.map(ft=>ft.id===H?{...ft,isAiAnalyzing:!1,emoji:""}:ft),r(Z),await Mt(Z,a,u)}},Td=async B=>{if(B.length===0)return;const H=B.map((Z,ht)=>({id:`${Date.now()}-${ht}-${Math.random().toString(36).substr(2,9)}`,text:Z.text,createdAt:ut})),Y=[...I,...H];r(Y),await Mt(Y,a,u),i("today")},Ed=B=>{const H=I.filter(Y=>Y.createdAt===B);H.length!==0&&(cn(H.map(Y=>Y.id)),tn({isOpen:!0,title:wt.konfirmasi_salin,message:wt.pesan_salin_banyak,details:`${H.length} Tasks`,tasks:H,onConfirm:Y=>{const Z=H.filter(ht=>Y==null?void 0:Y.includes(ht.id));Td(Z)}}))},ua=async()=>{N(!1),e&&await Qc(cl(hl,"users",e.uid),{tutorialSeen:!0},{merge:!0})},Yn=B=>{const H=I.filter(Z=>Z.createdAt===B);if(H.length===0)return 0;const Y=H.filter(Z=>(a[B]||[]).includes(Z.id)).length;return Math.round(Y/H.length*100)},oc=B=>{const Y=[...s.filter(Z=>Z.createdAt!==ut),...B];r(Y),Mt(Y,a,u)},hr=async()=>{const H=I.filter(Y=>Y.createdAt===ut).filter(Y=>!(a[ut]||[]).includes(Y.id));if(H.length!==0){sa(!0),Fo(null);try{const Y=await X8(H);Y&&Fo(Y)}catch(Y){console.error(Y)}finally{sa(!1)}}};return T?S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-950",children:S.jsx(Pm,{className:"w-10 h-10 text-blue-600 animate-spin"})}):S.jsxs("div",{className:"min-h-screen bg-background transition-colors duration-500 pb-40",children:[S.jsxs("div",{className:"max-w-2xl mx-auto px-6 pt-10 relative",children:[S.jsxs("header",{className:"flex justify-between items-center mb-6 md:mb-12",children:[S.jsxs("div",{className:"flex items-center gap-3 md:gap-5",children:[S.jsxs("div",{className:"relative block",children:[e&&e.photoURL?S.jsx("img",{src:e.photoURL,alt:"User",className:"w-10 h-10 md:w-14 md:h-14 rounded-3xl shadow-xl border-[3px] md:border-4 border-white dark:border-slate-800 object-cover"}):S.jsx("div",{className:"w-10 h-10 md:w-14 md:h-14 bg-blue-100 dark:bg-slate-800 rounded-3xl flex items-center justify-center",children:S.jsx(AP,{className:"text-blue-600 w-5 h-5 md:w-7 md:h-7"})}),(_||D)&&S.jsx(sn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1 border-2 md:border-4 border-white dark:border-slate-900 shadow-lg z-10",children:S.jsx(Pm,{className:"w-2 h-2 md:w-2.5 md:h-2.5 text-white"})})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[S.jsx("h2",{className:"text-lg md:text-2xl font-['Caveat'] font-bold text-slate-500 transform -rotate-2",children:"PingTidy"}),D?S.jsx("span",{className:"text-[8px] md:text-[10px] text-blue-500 font-bold uppercase animate-pulse",children:wt.syncing}):te?S.jsxs("span",{className:"text-[8px] md:text-[10px] text-red-500 font-bold uppercase flex items-center gap-1",children:[S.jsx(GT,{className:"w-2.5 h-2.5"})," ",wt.offline]}):S.jsxs("span",{className:"text-[8px] md:text-[10px] text-green-500 font-bold uppercase flex items-center gap-1",children:[S.jsx(Mm,{className:"w-2.5 h-2.5"})," ",wt.cloud_active]})]}),S.jsx("h1",{className:"text-sm md:text-2xl font-black text-slate-900 dark:text-white leading-tight truncate max-w-[120px] md:max-w-none",children:e?e.displayName:"Guest User"})]})]}),S.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[S.jsxs("button",{onClick:la,className:"p-2 md:p-4 bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl text-slate-500 dark:text-slate-400 hover:text-blue-600 transition-all border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-xl group flex items-center gap-2",children:[S.jsx(uP,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-[10px] font-black group-hover:block hidden",children:nt.toUpperCase()})]}),S.jsx("button",{onClick:()=>y(!E),className:"p-2 md:p-4 bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl text-slate-500 dark:text-slate-400 hover:text-blue-600 transition-all border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-xl",children:E?S.jsx(TP,{className:"w-5 h-5 md:w-6 md:h-6"}):S.jsx(gP,{className:"w-5 h-5 md:w-6 md:h-6"})}),e?S.jsx("button",{onClick:sc,className:"p-2 md:p-4 bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl text-slate-500 dark:text-slate-400 hover:text-red-600 transition-all border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-xl",children:S.jsx(mP,{className:"w-5 h-5 md:w-6 md:h-6"})}):S.jsx("button",{onClick:()=>oa(!0),className:"p-2 md:p-4 bg-blue-600 rounded-2xl md:rounded-3xl text-white hover:bg-blue-700 transition-all border border-blue-500 shadow-lg shadow-blue-500/30",children:S.jsx("span",{className:"text-xs font-bold px-2",children:"Login"})})]})]}),S.jsxs("main",{children:[te&&S.jsxs("div",{className:"mb-6 md:mb-8 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/40 p-4 md:p-5 rounded-3xl flex items-center gap-4 text-red-600 dark:text-red-400 text-sm font-bold shadow-lg shadow-red-200/20",children:[S.jsx(GT,{className:"w-5 h-5 md:w-6 md:h-6 shrink-0"}),te]}),n==="today"?S.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 md:space-y-10",children:[S.jsx(us,{children:(ra||is)&&S.jsx(sn.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:32},exit:{opacity:0,height:0,marginBottom:0},className:"overflow-hidden",children:S.jsxs("div",{className:"bg-gradient-to-tr from-[#FF9A9E] via-[#FECFEF] to-[#FECFEF] dark:from-indigo-600 dark:via-purple-600 dark:to-blue-600 text-slate-800 dark:text-white rounded-[2rem] p-6 md:p-8 shadow-2xl shadow-purple-500/20 relative overflow-hidden ring-1 ring-black/5 dark:ring-white/10",children:[S.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:S.jsx(Fc,{className:"w-32 h-32 rotate-12"})}),ra?S.jsxs("div",{className:"flex items-center gap-4 py-4",children:[S.jsx(YT,{className:"w-8 h-8 animate-spin"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("div",{className:"h-6 w-48 bg-white/20 rounded animate-pulse"}),S.jsx("div",{className:"h-4 w-64 bg-white/20 rounded animate-pulse"})]})]}):is&&S.jsxs("div",{className:"relative z-10 space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-['Caveat'] text-3xl font-bold mb-2",children:is.greeting}),S.jsx("p",{className:"text-slate-700/80 dark:text-indigo-100 font-medium text-sm md:text-base leading-relaxed opacity-90 max-w-lg",children:is.summary})]}),S.jsx("button",{onClick:()=>Ho(null),className:"bg-black/5 hover:bg-black/10 dark:bg-white/10 dark:hover:bg-white/20 p-2 rounded-full transition-colors backdrop-blur-sm",children:S.jsx(Lm,{className:"w-4 h-4 text-slate-800 dark:text-white"})})]}),S.jsxs("div",{className:"bg-white/40 dark:bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20 dark:border-white/10 flex gap-4 items-center shadow-sm",children:[S.jsx("div",{className:"bg-white/50 dark:bg-white/20 p-2.5 rounded-xl shrink-0",children:S.jsx(Fc,{className:"w-5 h-5 text-amber-500 dark:text-yellow-300 fill-amber-500 dark:fill-yellow-300"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-indigo-200 uppercase tracking-wider mb-0.5",children:"Focus Tip"}),S.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white leading-tight",children:is.suggestion})]})]}),S.jsx("div",{className:"pt-2 border-t border-slate-200/50 dark:border-white/10",children:S.jsxs("p",{className:"text-xs md:text-sm font-medium italic opacity-75 text-center flex items-center justify-center gap-2",children:[S.jsx("span",{className:"w-1 h-1 bg-white rounded-full opacity-50"}),is.motivation,S.jsx("span",{className:"w-1 h-1 bg-white rounded-full opacity-50"})]})})]})]})})}),S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-bold text-sm md:text-base uppercase tracking-widest mb-2 flex items-center gap-2",children:[S.jsx(Om,{className:"w-4 h-4"}),new Date().toLocaleDateString(nt==="id"?"id-ID":"en-US",{weekday:"long",day:"numeric",month:"long"})]}),S.jsxs("h3",{className:"text-3xl md:text-6xl font-black text-slate-900 dark:text-white tracking-tighter leading-none",children:[wt.hari," ",S.jsx("span",{className:"text-blue-600",children:wt.terpilih})]})]}),S.jsxs("div",{className:"flex items-center gap-5 bg-white dark:bg-slate-800 p-4 pr-6 rounded-[2rem] shadow-lg shadow-blue-500/5 border border-slate-100 dark:border-slate-700",children:[S.jsxs("div",{className:"relative w-16 h-16 flex items-center justify-center",children:[S.jsxs("svg",{className:"w-full h-full -rotate-90 transform",children:[S.jsx("circle",{cx:"32",cy:"32",r:"28",className:"stroke-slate-100 dark:stroke-slate-700",strokeWidth:"6",fill:"none"}),S.jsx("circle",{cx:"32",cy:"32",r:"28",className:nn("transition-all duration-1000 ease-out",Yn(ut)>50?"stroke-blue-600":"stroke-orange-500"),strokeWidth:"6",fill:"none",strokeDasharray:"175.9",strokeDashoffset:175.9-175.9*Yn(ut)/100,strokeLinecap:"round"})]}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Yn(ut)===100?S.jsx("div",{className:"bg-green-500 rounded-full p-1.5 animate-in zoom-in",children:S.jsx(Mm,{className:"w-6 h-6 text-white"})}):S.jsxs("span",{className:"text-xs font-black text-slate-400",children:[Yn(ut),"%"]})})]}),S.jsxs("div",{children:[S.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:wt.selesai}),S.jsx("span",{className:nn("text-2xl font-black leading-none",Yn(ut)>50?"text-blue-600":"text-orange-500"),children:Yn(ut)===100?"Great Job!":"Keep Going"})]})]})]}),s.filter(B=>B.createdAt===ut&&!(a[ut]||[]).includes(B.id)).length>1&&S.jsx("div",{className:"flex justify-end -mt-4 mb-2",children:S.jsxs("button",{onClick:hr,disabled:ur,className:"relative flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-4 py-2 rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-105 active:scale-95 transition-all text-xs md:text-sm font-bold disabled:opacity-70 disabled:cursor-not-allowed group z-20",children:[ur?S.jsx(YT,{className:"w-4 h-4 animate-spin"}):S.jsx(Fc,{className:"w-4 h-4 fill-yellow-300 text-yellow-300"}),ur?"Analyzing...":"Eat The Frog",S.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 left-full ml-3 pointer-events-none w-max hidden md:flex items-center gap-1",children:[S.jsxs("svg",{className:"w-8 h-6 text-blue-600 dark:text-blue-400 rotate-[10deg]",viewBox:"0 0 50 30",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[S.jsx("path",{d:"M48 15 Q 25 25, 2 15",strokeLinecap:"round"}),S.jsx("path",{d:"M2 15 L 10 10",strokeLinecap:"round"}),S.jsx("path",{d:"M2 15 L 12 20",strokeLinecap:"round"})]}),S.jsx("span",{className:"font-['Caveat'] text-xl md:text-2xl text-blue-600 dark:text-blue-400 rotate-[6deg] block drop-shadow-sm bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-2 py-0.5 rounded-lg border border-blue-100 dark:border-blue-900/50",children:"Try AI Priority! "})]})]})}),S.jsxs("form",{onSubmit:bd,className:"relative group",children:[S.jsxs("div",{className:"absolute -top-10 left-10 -rotate-3 pointer-events-none hidden md:block animate-pulse",children:[S.jsx("span",{className:"font-['Caveat'] text-2xl text-slate-400 dark:text-slate-500 rotate-2 block",children:" AI will auto-tag emojis!"}),S.jsxs("svg",{className:"w-8 h-8 text-slate-400 dark:text-slate-500 absolute -bottom-2 left-1/2 translate-y-full -translate-x-1/2 rotate-180",viewBox:"0 0 30 50",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[S.jsx("path",{d:"M15 0 C 15 20, 20 30, 25 45",strokeLinecap:"round"}),S.jsx("path",{d:"M25 45 L 20 35",strokeLinecap:"round"}),S.jsx("path",{d:"M25 45 L 30 38",strokeLinecap:"round"})]})]}),S.jsx("input",{type:"text",value:A,onChange:B=>C(B.target.value),placeholder:wt.placeholder,className:"w-full bg-white dark:bg-slate-800 border-none shadow-2xl shadow-blue-200/40 dark:shadow-none rounded-[2rem] md:rounded-[2.5rem] py-6 md:py-8 px-6 md:px-10 pr-16 md:pr-20 focus:ring-4 focus:ring-blue-500/10 outline-none text-slate-700 dark:text-white text-lg md:text-xl font-medium transition-all"}),S.jsx("button",{type:"submit",className:"absolute right-3 top-3 bottom-3 md:right-4 md:top-4 md:bottom-4 aspect-square bg-blue-600 text-white rounded-[1.5rem] md:rounded-[1.8rem] flex items-center justify-center hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/30 active:scale-90",children:S.jsx(XT,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),S.jsx("div",{className:"space-y-4 md:space-y-5",children:S.jsx(us,{mode:"popLayout",children:s.filter(B=>B.createdAt===ut).length===0?S.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16 md:py-24 border-4 border-dashed border-slate-100 dark:border-slate-800 rounded-[3rem]",children:[S.jsx("div",{className:"w-20 h-20 mx-auto mb-6 opacity-50 grayscale",children:S.jsx("img",{src:"/pingtidy.png",alt:"No Data",className:"w-full h-full object-contain mix-blend-multiply dark:invert dark:mix-blend-screen"})}),S.jsx("p",{className:"text-slate-400 font-bold text-lg md:text-xl",children:wt.belum_ada_data})]}):S.jsx(R3,{axis:"y",values:s.filter(B=>B.createdAt===ut),onReorder:oc,className:"space-y-4 md:space-y-5",children:s.filter(B=>B.createdAt===ut).map(B=>{const H=(a[ut]||[]).includes(B.id);return S.jsxs(L3,{value:B,layout:!0,whileDrag:{scale:1.02,zIndex:50,cursor:"grabbing"},transition:{type:"spring",stiffness:400,damping:25},className:nn("group flex items-center p-4 md:p-6 rounded-[2rem] md:rounded-[2.5rem] transition-colors duration-200 border-2 select-none relative",H?"bg-blue-600 border-blue-600 shadow-2xl shadow-blue-500/30":B.id===ri?"bg-white dark:bg-slate-800 border-blue-500 shadow-xl shadow-blue-500/20 scale-[1.02] ring-2 ring-blue-500/20 z-10":"bg-white dark:bg-slate-800 border-transparent shadow-sm hover:shadow-xl dark:hover:border-slate-700"),children:[B.id===ri&&!H&&S.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest py-1 px-3 rounded-full flex items-center gap-1 shadow-lg z-20 whitespace-nowrap",children:[S.jsx(Fc,{className:"w-3 h-3 fill-yellow-300 text-yellow-300"}),"Priority Task"]}),S.jsx("div",{className:"mr-3 md:mr-4 cursor-grab active:cursor-grabbing p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-xl transition-colors text-slate-300 hover:text-slate-500 dark:text-slate-600 dark:hover:text-slate-400",children:S.jsx(aP,{className:"w-5 h-5 md:w-6 md:h-6"})}),S.jsx("button",{onClick:()=>rc(B.id),className:"mr-3 md:mr-4 focus:outline-none shrink-0",children:H?S.jsx("div",{className:"bg-white rounded-2xl p-1.5",children:S.jsx(ll,{className:"text-blue-600 w-8 h-8 md:w-10 md:h-10"})}):S.jsx(Vm,{className:"text-slate-200 dark:text-slate-700 w-8 h-8 md:w-10 md:h-10 hover:text-blue-500 transition-colors"})}),S.jsxs("span",{className:nn("flex-1 font-extrabold text-lg md:text-2xl transition-all flex items-center gap-3",H?"text-white/80 line-through":"text-slate-800 dark:text-slate-100"),children:[B.emoji&&S.jsx("span",{className:"text-xl md:text-3xl",children:B.emoji}),S.jsx("span",{children:B.text}),B.isAiAnalyzing&&S.jsx(Pm,{className:"w-4 h-4 animate-spin text-blue-500 opacity-50"})]}),S.jsx("button",{onClick:()=>cr(B.id),className:nn("p-3 md:p-4 rounded-2xl transition-all",H?"text-white/40 hover:text-white":"opacity-0 group-hover:opacity-100 text-slate-200 hover:text-red-500"),children:S.jsx(SP,{className:"w-5 h-5 md:w-6 md:h-6"})})]},B.id)})})})})]}):S.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 md:space-y-10",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("h3",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight tracking-tighter",children:[wt.riwayat," ",S.jsx("span",{className:"text-blue-600",children:nt==="en"?"History":"Projek"})]}),S.jsx("button",{onClick:()=>_e(!Ze),className:nn("p-3 rounded-2xl transition-all border shadow-sm",Ze?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-100 dark:border-slate-700 hover:text-blue-600"),children:S.jsx(Om,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),S.jsx(us,{children:Ze&&S.jsxs(sn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-[1.5rem] p-4 shadow-inner border border-zinc-100 dark:border-zinc-800 overflow-hidden mb-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[S.jsx("button",{onClick:()=>lr(new Date(Dt.setFullYear(Dt.getFullYear()-1))),className:"p-2 hover:bg-white dark:hover:bg-zinc-800 rounded-full shadow-sm transition-all border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:S.jsx($3,{className:"w-4 h-4 text-zinc-500"})}),S.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white tracking-tight",children:Dt.getFullYear()}),S.jsx("button",{onClick:()=>lr(new Date(Dt.setFullYear(Dt.getFullYear()+1))),className:"p-2 hover:bg-white dark:hover:bg-zinc-800 rounded-full shadow-sm transition-all border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:S.jsx(Q3,{className:"w-4 h-4 text-zinc-500"})})]}),S.jsx("div",{className:"relative overflow-x-auto pb-2 scrollbar-hide",children:S.jsx("div",{className:"min-w-max",children:S.jsxs("div",{className:"flex pb-2",children:[S.jsxs("div",{className:"w-6 shrink-0 flex flex-col justify-between text-[8px] font-bold text-zinc-400 dark:text-zinc-600 py-1 h-[88px]",children:[S.jsx("span",{children:"Mon"}),S.jsx("span",{children:"Wed"}),S.jsx("span",{children:"Fri"})]}),S.jsx("div",{className:"grid grid-rows-7 grid-flow-col gap-[2px]",children:(()=>{const B=Dt.getFullYear(),H=[],Z=new Date(B,0,1).getDay();for(let ft=0;ft<Z;ft++)H.push(S.jsx("div",{className:"w-2.5 h-2.5"},`empty-start-${ft}`));const ht=new Date(B,0,1);for(;ht.getFullYear()===B;){const ft=Kn(ht),it=Yn(ft),at=ft===ut,At=he===ft,Bt=s.some(Me=>Me.createdAt===ft),jt=ht.getTime();let Ft="bg-zinc-200 dark:bg-zinc-800/50";Bt&&(it===100?Ft="bg-[#216e39]":it>=75?Ft="bg-[#30a14e]":it>=50?Ft="bg-[#40c463]":it>0?Ft="bg-[#9be9a8]":Ft="bg-zinc-300 dark:bg-zinc-700"),At&&(Ft+=" ring-1 ring-black dark:ring-white z-10 scale-125"),at&&(Ft+=" ring-1 ring-offset-1 ring-blue-500 z-10"),H.push(S.jsx("button",{onClick:()=>{or(At?null:ft),Lt(ft)},className:nn("w-2.5 h-2.5 rounded-sm transition-all hover:scale-125 hover:z-20",Ft),title:`${ft}: ${it}%`},jt)),ht.setDate(ht.getDate()+1)}return H})()})]})})})]})}),S.jsxs("div",{className:"grid gap-4 md:gap-6 pb-20",children:[he&&S.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[S.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest",children:wt.pilih_tanggal}),S.jsx("button",{onClick:()=>{or(null),Lt(null)},className:"text-[10px] md:text-xs font-black text-blue-600 hover:text-blue-700 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 md:px-4 md:py-2 rounded-xl transition-all",children:wt.reset_filter})]}),(he?[(()=>{const[B,H,Y]=he.split("-").map(Number);return new Date(B,H-1,Y)})()]:Array.from({length:7},(B,H)=>{const Y=new Date;return Y.setDate(Y.getDate()-H),Y})).map(B=>{const H=Kn(B),Y=Yn(H),Z=H===ut,ht=gt===H,ft=a[H]||[];return S.jsxs("div",{className:nn("group rounded-[2.5rem] transition-all overflow-hidden",Z?"bg-white dark:bg-slate-800 shadow-xl border border-blue-100 dark:border-blue-900/30":"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/80 border border-slate-100 dark:border-slate-800",ht&&"ring-0"),children:[S.jsxs("button",{onClick:()=>Lt(ht?null:H),className:"w-full text-left p-6 flex items-center justify-between gap-4 focus:outline-none",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:nn("w-14 h-14 rounded-2xl flex flex-col items-center justify-center border-2",Z?"bg-blue-600 border-blue-600 text-white":"bg-transparent border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"),children:[S.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:B.toLocaleDateString(nt==="id"?"id-ID":"en-US",{month:"short"})}),S.jsx("span",{className:"text-xl font-black leading-none",children:B.getDate()})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-lg",children:Z?wt.hari_ini:B.toLocaleDateString(nt==="id"?"id-ID":"en-US",{weekday:"long"})}),S.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[S.jsx("div",{className:"flex-1 h-1.5 w-32 md:w-48 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:S.jsx("div",{className:nn("h-full rounded-full",Y===100?"bg-green-500":"bg-blue-500"),style:{width:`${Y}%`}})}),S.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Y,"%"]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[!Z&&s.filter(it=>it.createdAt===H).length>0&&S.jsx("button",{onClick:it=>{it.stopPropagation(),Ed(H)},className:"w-10 h-10 rounded-full flex items-center justify-center text-slate-300 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all active:scale-95",title:"Salin semua ke Hari Ini",children:S.jsx(qT,{className:"w-5 h-5"})}),ht?S.jsx(J3,{className:"w-5 h-5 text-slate-300"}):S.jsx(K3,{className:"w-5 h-5 text-slate-300"})]})]}),S.jsx(us,{children:ht&&S.jsxs(sn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-6 pb-6 pt-2 md:px-8 md:pb-8 bg-slate-50/50 dark:bg-slate-900/30",children:[S.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 md:pt-6 space-y-2 md:space-y-3",children:[S.jsx("h5",{className:"text-[8px] md:text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-3 md:mb-4 text-center",children:wt.detail_tugas}),s.filter(it=>it.createdAt===H).length===0?S.jsx("p",{className:"text-center text-slate-400 text-xs italic",children:wt.belum_ada_data}):s.filter(it=>it.createdAt===H).map(it=>{const at=ft.includes(it.id);return S.jsxs("div",{className:"group flex items-center gap-3 p-2.5 md:p-3 rounded-2xl bg-white dark:bg-slate-800 border border-slate-100/50 dark:border-slate-700/50 shadow-sm relative pr-12 transition-all hover:shadow-md",children:[at?S.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 p-1 rounded-lg shrink-0",children:S.jsx(ll,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-green-600"})}):S.jsx("div",{className:"bg-slate-100 dark:bg-slate-900/50 p-1 rounded-lg shrink-0",children:S.jsx(Vm,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-slate-300"})}),S.jsxs("span",{className:nn("text-xs md:text-sm font-bold truncate w-full",at?"text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-600"),children:[it.emoji&&S.jsx("span",{className:"mr-2",children:it.emoji}),it.text]}),S.jsx("button",{onClick:()=>tn({isOpen:!0,title:wt.konfirmasi_salin_satu,message:wt.pesan_salin_satu,details:`${B.toLocaleDateString(nt==="id"?"id-ID":"en-US",{day:"numeric",month:"long",year:"numeric"})}  1 Task`,onConfirm:()=>qo(it.text)}),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all rounded-xl",title:"Salin ke Hari Ini",children:S.jsx(qT,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]},it.id)})]}),S.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 md:pt-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-3",children:[S.jsx("h5",{className:"text-[8px] md:text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:wt.catatan_harian}),!h&&S.jsxs("button",{onClick:()=>{d(H),g(u[H]||"")},className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-blue-600 hover:text-blue-700 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-xl transition-all",children:[u[H]?S.jsx($T,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}):S.jsx(sP,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),u[H]?wt.edit_catatan:wt.tambah_catatan]})]}),h===H?S.jsxs(sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[S.jsx("textarea",{value:m,onChange:it=>g(it.target.value),placeholder:wt.tulis_catatan,className:"w-full h-24 md:h-32 bg-white dark:bg-slate-800 rounded-2xl p-4 md:p-5 text-sm md:text-base text-slate-700 dark:text-slate-200 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 resize-none border border-slate-200 dark:border-slate-700"}),S.jsxs("div",{className:"flex gap-2 justify-end",children:[S.jsxs("button",{onClick:()=>d(null),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-xs md:text-sm font-bold text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[S.jsx(Lm,{className:"w-3.5 h-3.5"}),wt.batal]}),S.jsxs("button",{onClick:()=>ac(H),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-xs md:text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-all active:scale-95",children:[S.jsx(Mm,{className:"w-3.5 h-3.5"}),wt.simpan]})]})]}):u[H]?S.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 p-4 md:p-5 rounded-2xl text-slate-700 dark:text-slate-300 text-xs md:text-sm leading-relaxed whitespace-pre-wrap",children:u[H]}):S.jsx("div",{className:"text-center py-6 border-2 border-dashed border-slate-100 dark:border-slate-800 rounded-2xl",children:S.jsx("p",{className:"text-slate-400 text-xs italic",children:wt.tidak_ada_catatan})})]})]})})]},H)})]})]})]}),S.jsx("nav",{className:"fixed bottom-5 md:bottom-12 left-1/2 -translate-x-1/2 w-full max-w-sm px-6 z-50",children:S.jsxs("div",{className:"bg-slate-900/90 dark:bg-slate-800/90 backdrop-blur-3xl shadow-2xl rounded-[2.5rem] md:rounded-[3rem] p-2 md:p-4 grid grid-cols-2 gap-2 border border-white/10",children:[S.jsxs("button",{onClick:()=>i("today"),className:nn("w-full flex items-center justify-center gap-2 md:gap-3 py-3 px-5 md:py-5 md:px-10 rounded-[2rem] md:rounded-[2.5rem] transition-all duration-500 font-black text-xs md:text-sm",n==="today"?"bg-blue-600 text-white shadow-xl shadow-blue-500/20":"text-slate-500 hover:text-white"),children:[S.jsx(hP,{className:"w-5 h-5 md:w-6 md:h-6"}),n==="today"&&S.jsx("span",{children:wt.target.toUpperCase()})]}),S.jsxs("button",{onClick:()=>i("history"),className:nn("w-full flex items-center justify-center gap-2 md:gap-3 py-3 px-5 md:py-5 md:px-10 rounded-[2rem] md:rounded-[2.5rem] transition-all duration-500 font-black text-xs md:text-sm",n==="history"?"bg-blue-600 text-white shadow-xl shadow-blue-500/20":"text-slate-500 hover:text-white"),children:[S.jsx(KT,{className:"w-5 h-5 md:w-6 md:h-6"}),n==="history"&&S.jsx("span",{children:wt.riwayat.toUpperCase()})]})]})})]}),S.jsx(us,{children:be&&be.isOpen&&S.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[S.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>tn(null),className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),S.jsxs(sn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 w-full max-w-sm shadow-2xl relative z-10 border border-slate-100 dark:border-slate-700",children:[S.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-2",children:be.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2 leading-relaxed",children:be.message}),be.tasks?S.jsxs("div",{className:"space-y-3 mb-6 max-h-[300px] overflow-y-auto pr-1 custom-scrollbar",children:[S.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-slate-100 dark:border-slate-800",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:wt.pilih_semua}),S.jsx("button",{onClick:()=>{var B,H;Oe.length===((B=be.tasks)==null?void 0:B.length)?cn([]):cn(((H=be.tasks)==null?void 0:H.map(Y=>Y.id))||[])},className:"text-blue-600 font-bold text-xs",children:Oe.length===((ca=be.tasks)==null?void 0:ca.length)?S.jsx(ll,{className:"w-4 h-4"}):S.jsx(Vm,{className:"w-4 h-4"})})]}),be.tasks.map(B=>S.jsxs("div",{onClick:()=>{Oe.includes(B.id)?cn(Oe.filter(H=>H!==B.id)):cn([...Oe,B.id])},className:"flex items-center gap-3 p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors",children:[S.jsx("div",{className:nn("shrink-0 transition-colors",Oe.includes(B.id)?"text-blue-600":"text-slate-300"),children:Oe.includes(B.id)?S.jsx(ll,{className:"w-5 h-5"}):S.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-current"})}),S.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 truncate",children:B.text})]},B.id))]}):be.details&&S.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl mb-6 text-xs font-bold text-slate-600 dark:text-slate-300 border border-slate-100 dark:border-slate-800 flex items-center gap-2 justify-center",children:[S.jsx(Om,{className:"w-3.5 h-3.5"}),be.details]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>tn(null),className:"flex-1 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:wt.batal}),S.jsx("button",{onClick:()=>{be.onConfirm(Oe),tn(null)},className:"flex-1 py-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-all",children:wt.ya})]})]})]})}),S.jsx(us,{children:w&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-md",children:S.jsxs(sn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-slate-800 rounded-[2.5rem] p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-orange-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(B=>S.jsx("div",{className:nn("h-1.5 rounded-full transition-all duration-300",B===M?"w-8 bg-blue-600":B<M?"w-2 bg-blue-200":"w-2 bg-slate-100 dark:bg-slate-700")},B))}),S.jsx("button",{onClick:ua,className:"text-xs font-bold text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 uppercase tracking-wider",children:"Skip"})]}),S.jsxs("div",{className:"min-h-[280px] flex flex-col",children:[S.jsx(us,{mode:"wait",children:S.jsxs(sn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col items-center text-center",children:[S.jsxs("div",{className:"w-24 h-24 bg-blue-50 dark:bg-slate-700/50 rounded-3xl flex items-center justify-center mb-6 shadow-xl shadow-blue-500/10",children:[M===0&&S.jsx("img",{src:"/pingtidy.png",alt:"Welcome",className:"w-16 h-16 object-contain"}),M===1&&S.jsx(XT,{className:"w-10 h-10 text-blue-600"}),M===2&&S.jsx(ll,{className:"w-10 h-10 text-green-500"}),M===3&&S.jsx($T,{className:"w-10 h-10 text-orange-500"}),M===4&&S.jsx(KT,{className:"w-10 h-10 text-purple-500"})]}),S.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3",children:[M===0&&"Welcome to PingTidy Hub!",M===1&&"Start Small",M===2&&"Track Progress",M===3&&"Daily Reflection",M===4&&"History & Copy"]}),S.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed",children:[M===0&&"Your journey to consistency starts here. Let's take a quick tour to get you started.",M===1&&"Type your target or habit for today in the input field and tap the (+) button.",M===2&&"Tap the circle on any task to mark it done. Watch your daily progress ring grow!",M===3&&"Add notes to evaluate your day. Tap the 'Edit Note' button in the detailed view.",M===4&&"View past days in the History tab. You can easily copy tasks from past days to today."]})]},M)}),S.jsx("div",{className:"mt-8",children:S.jsx("button",{onClick:()=>{M<4?z(M+1):ua()},className:"w-full py-4 rounded-2xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl",children:M===4?"Get Started":"Next Step"})})]})]})]})})}),S.jsx(us,{children:nc&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-md",children:S.jsxs(sn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-slate-800 rounded-[2.5rem] p-8 max-w-sm w-full shadow-2xl relative overflow-hidden text-center",children:[S.jsx("button",{onClick:()=>oa(!1),className:"absolute top-6 right-6 p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-slate-200",children:S.jsx(Lm,{className:"w-5 h-5 text-slate-500"})}),S.jsx("div",{className:"w-24 h-24 bg-blue-50 dark:bg-slate-700/50 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-500/10",children:S.jsx("img",{src:"/pingtidy.png",alt:"Login",className:"w-16 h-16 object-contain"})}),S.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3",children:"Save your progress"}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed mb-8",children:"Sign in to sync your habits across devices and unlock AI features."}),S.jsxs("button",{onClick:()=>{oa(!1),ic()},className:"w-full flex items-center justify-center gap-4 bg-white dark:bg-slate-700 text-slate-700 dark:text-white font-bold py-4 px-6 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-600 active:scale-[0.98] mb-4",children:[S.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[S.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),S.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),S.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),S.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Start with Google"]})]})})})]})}function Z8(){return S.jsx("main",{children:S.jsx(J8,{})})}function tB(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}=e,[s,r]=P.useState(!1),a=P.useRef(n);a.current=n;const o=P.useRef(i);return o.current=i,P.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",u.async=!0,u.defer=!0,u.nonce=t,u.onload=()=>{var c;r(!0),(c=a.current)===null||c===void 0||c.call(a)},u.onerror=()=>{var c;r(!1),(c=o.current)===null||c===void 0||c.call(o)},document.body.appendChild(u),()=>{document.body.removeChild(u)}},[t]),s}const eB=P.createContext(null);function nB({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i,children:s}){const r=tB({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}),a=P.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:r}),[e,r]);return n1.createElement(eB.Provider,{value:a},s)}const iB="916021425519-3kfbkp16dpt63q8ngmbu0glerftrnif9.apps.googleusercontent.com";Bk.createRoot(document.getElementById("root")).render(S.jsx(n1.StrictMode,{children:S.jsx(nB,{clientId:iB,children:S.jsx(Z8,{})})}));
